<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.9.1">
  <compounddef id="rpcrawtransaction_8cpp" kind="file" language="C++">
    <compoundname>rpcrawtransaction.cpp</compoundname>
    <includes local="no">boost/assign/list_of.hpp</includes>
    <includes refid="transaction_8h" local="yes">primitives/transaction.h</includes>
    <includes refid="base58_8h" local="yes">base58.h</includes>
    <includes refid="rpcserver_8h" local="yes">rpcserver.h</includes>
    <includes refid="txdb_8h" local="yes">txdb.h</includes>
    <includes refid="init_8h" local="yes">init.h</includes>
    <includes refid="main_8h" local="yes">main.h</includes>
    <includes refid="net_8h" local="yes">net.h</includes>
    <includes refid="keystore_8h" local="yes">keystore.h</includes>
    <includes refid="txdb-leveldb_8h" local="yes">txdb-leveldb.h</includes>
    <incdepgraph>
      <node id="49526">
        <label>list</label>
      </node>
      <node id="49495">
        <label>boost/thread/mutex.hpp</label>
      </node>
      <node id="49586">
        <label>leveldb/write_batch.h</label>
        <link refid="write__batch_8h"/>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49584" relation="include">
        </childnode>
      </node>
      <node id="49551">
        <label>netinet/in.h</label>
      </node>
      <node id="49478">
        <label>amount.h</label>
        <link refid="amount_8h"/>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49493" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
      </node>
      <node id="49552">
        <label>arpa/inet.h</label>
      </node>
      <node id="49591">
        <label>boost/thread/condition_variable.hpp</label>
      </node>
      <node id="49575">
        <label>iomanip</label>
      </node>
      <node id="49567">
        <label>boost/version.hpp</label>
      </node>
      <node id="49563">
        <label>boost/shared_ptr.hpp</label>
      </node>
      <node id="49485">
        <label>limits</label>
      </node>
      <node id="49610">
        <label>init.h</label>
        <link refid="init_8h"/>
      </node>
      <node id="49513">
        <label>crypto/sha256.h</label>
        <link refid="sha256_8h"/>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49493" relation="include">
        </childnode>
      </node>
      <node id="49514">
        <label>crypto/argon2/blake2/blake2.h</label>
        <link refid="blake2_8h"/>
        <childnode refid="49515" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49497" relation="include">
        </childnode>
      </node>
      <node id="49477">
        <label>primitives/transaction.h</label>
        <link refid="transaction_8h"/>
        <childnode refid="49478" relation="include">
        </childnode>
        <childnode refid="49501" relation="include">
        </childnode>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49504" relation="include">
        </childnode>
        <childnode refid="49505" relation="include">
        </childnode>
        <childnode refid="49541" relation="include">
        </childnode>
        <childnode refid="49539" relation="include">
        </childnode>
      </node>
      <node id="49505">
        <label>script.h</label>
        <link refid="script_8h"/>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49506" relation="include">
        </childnode>
        <childnode refid="49507" relation="include">
        </childnode>
        <childnode refid="49508" relation="include">
        </childnode>
        <childnode refid="49517" relation="include">
        </childnode>
        <childnode refid="49519" relation="include">
        </childnode>
        <childnode refid="49538" relation="include">
        </childnode>
      </node>
      <node id="49537">
        <label>openssl/rand.h</label>
      </node>
      <node id="49568">
        <label>boost/spirit/core.hpp</label>
      </node>
      <node id="49502">
        <label>assert.h</label>
      </node>
      <node id="49490">
        <label>boost/tuple/tuple.hpp</label>
      </node>
      <node id="49550">
        <label>net/if.h</label>
      </node>
      <node id="49588">
        <label>txmempool.h</label>
        <link refid="txmempool_8h"/>
        <childnode refid="49477" relation="include">
        </childnode>
        <childnode refid="49589" relation="include">
        </childnode>
        <childnode refid="49594" relation="include">
        </childnode>
        <childnode refid="49478" relation="include">
        </childnode>
        <childnode refid="49598" relation="include">
        </childnode>
      </node>
      <node id="49585">
        <label>leveldb/options.h</label>
        <link refid="options_8h"/>
        <childnode refid="49515" relation="include">
        </childnode>
      </node>
      <node id="49593">
        <label>boost/thread/recursive_mutex.hpp</label>
      </node>
      <node id="49542">
        <label>base58.h</label>
        <link refid="base58_8h"/>
        <childnode refid="49543" relation="include">
        </childnode>
        <childnode refid="49508" relation="include">
        </childnode>
        <childnode refid="49544" relation="include">
        </childnode>
        <childnode refid="49505" relation="include">
        </childnode>
        <childnode refid="49491" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49499">
        <label>version.h</label>
        <link refid="version_8h"/>
        <childnode refid="49500" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
      </node>
      <node id="49594">
        <label>coins.h</label>
        <link refid="coins_8h"/>
        <childnode refid="49595" relation="include">
        </childnode>
        <childnode refid="49588" relation="include">
        </childnode>
        <childnode refid="49502" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49506" relation="include">
        </childnode>
        <childnode refid="49597" relation="include">
        </childnode>
      </node>
      <node id="49496">
        <label>sys/mman.h</label>
      </node>
      <node id="49493">
        <label>stdlib.h</label>
      </node>
      <node id="49607">
        <label>chain.h</label>
        <link refid="chain_8h"/>
        <childnode refid="49608" relation="include">
        </childnode>
        <childnode refid="49519" relation="include">
        </childnode>
        <childnode refid="49543" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49506" relation="include">
        </childnode>
      </node>
      <node id="49506">
        <label>boost/foreach.hpp</label>
      </node>
      <node id="49536">
        <label>openssl/crypto.h</label>
      </node>
      <node id="49564">
        <label>json_spirit_error_position.h</label>
        <link refid="json__spirit__error__position_8h"/>
        <childnode refid="49480" relation="include">
        </childnode>
      </node>
      <node id="49572">
        <label>boost/spirit/iterator/position_iterator.hpp</label>
      </node>
      <node id="49547">
        <label>compat.h</label>
        <link refid="compat_8h"/>
        <childnode refid="49548" relation="include">
        </childnode>
        <childnode refid="49496" relation="include">
        </childnode>
        <childnode refid="49549" relation="include">
        </childnode>
        <childnode refid="49520" relation="include">
        </childnode>
        <childnode refid="49550" relation="include">
        </childnode>
        <childnode refid="49551" relation="include">
        </childnode>
        <childnode refid="49552" relation="include">
        </childnode>
        <childnode refid="49553" relation="include">
        </childnode>
        <childnode refid="49497" relation="include">
        </childnode>
        <childnode refid="49554" relation="include">
        </childnode>
        <childnode refid="49498" relation="include">
        </childnode>
        <childnode refid="49555" relation="include">
        </childnode>
      </node>
      <node id="49532">
        <label>boost/date_time/posix_time/posix_time_types.hpp</label>
      </node>
      <node id="49510">
        <label>openssl/sha.h</label>
      </node>
      <node id="49555">
        <label>errno.h</label>
      </node>
      <node id="49484">
        <label>cassert</label>
      </node>
      <node id="49503">
        <label>stdexcept</label>
      </node>
      <node id="49519">
        <label>util.h</label>
        <link refid="util_8h"/>
        <childnode refid="49520" relation="include">
        </childnode>
        <childnode refid="49521" relation="include">
        </childnode>
        <childnode refid="49522" relation="include">
        </childnode>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49523" relation="include">
        </childnode>
        <childnode refid="49478" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49526" relation="include">
        </childnode>
        <childnode refid="49527" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49528" relation="include">
        </childnode>
        <childnode refid="49529" relation="include">
        </childnode>
        <childnode refid="49530" relation="include">
        </childnode>
        <childnode refid="49531" relation="include">
        </childnode>
        <childnode refid="49532" relation="include">
        </childnode>
        <childnode refid="49533" relation="include">
        </childnode>
        <childnode refid="49534" relation="include">
        </childnode>
        <childnode refid="49535" relation="include">
        </childnode>
        <childnode refid="49536" relation="include">
        </childnode>
        <childnode refid="49537" relation="include">
        </childnode>
        <childnode refid="49518" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
      </node>
      <node id="49605">
        <label>protocol.h</label>
        <link refid="protocol_8h"/>
        <childnode refid="49543" relation="include">
        </childnode>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49604" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
      </node>
      <node id="49573">
        <label>json/json_spirit_utils.h</label>
        <link refid="json__spirit__utils_8h"/>
        <childnode refid="49561" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
      </node>
      <node id="49531">
        <label>boost/date_time/gregorian/gregorian_types.hpp</label>
      </node>
      <node id="49581">
        <label>leveldb/db.h</label>
        <link refid="leveldb_2include_2leveldb_2db_8h"/>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49539" relation="include">
        </childnode>
        <childnode refid="49582" relation="include">
        </childnode>
        <childnode refid="49585" relation="include">
        </childnode>
      </node>
      <node id="49480">
        <label>string</label>
      </node>
      <node id="49609">
        <label>scrypt.h</label>
        <link refid="scrypt_8h"/>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49493" relation="include">
        </childnode>
        <childnode refid="49519" relation="include">
        </childnode>
        <childnode refid="49599" relation="include">
        </childnode>
      </node>
      <node id="49482">
        <label>map</label>
      </node>
      <node id="49557">
        <label>boost/iostreams/stream.hpp</label>
      </node>
      <node id="49528">
        <label>boost/thread.hpp</label>
      </node>
      <node id="49606">
        <label>addrman.h</label>
        <link refid="addrman_8h"/>
        <childnode refid="49604" relation="include">
        </childnode>
        <childnode refid="49605" relation="include">
        </childnode>
        <childnode refid="49589" relation="include">
        </childnode>
        <childnode refid="49541" relation="include">
        </childnode>
        <childnode refid="49519" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49560">
        <label>json/json_spirit_reader_template.h</label>
        <link refid="json__spirit__reader__template_8h"/>
        <childnode refid="49561" relation="include">
        </childnode>
        <childnode refid="49564" relation="include">
        </childnode>
        <childnode refid="49565" relation="include">
        </childnode>
        <childnode refid="49566" relation="include">
        </childnode>
        <childnode refid="49567" relation="include">
        </childnode>
        <childnode refid="49568" relation="include">
        </childnode>
        <childnode refid="49569" relation="include">
        </childnode>
        <childnode refid="49570" relation="include">
        </childnode>
        <childnode refid="49571" relation="include">
        </childnode>
        <childnode refid="49572" relation="include">
        </childnode>
      </node>
      <node id="49577">
        <label>leveldbwrapper.h</label>
        <link refid="leveldbwrapper_8h"/>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49578" relation="include">
        </childnode>
        <childnode refid="49519" relation="include">
        </childnode>
        <childnode refid="49530" relation="include">
        </childnode>
        <childnode refid="49581" relation="include">
        </childnode>
        <childnode refid="49586" relation="include">
        </childnode>
      </node>
      <node id="49515">
        <label>stddef.h</label>
      </node>
      <node id="49507">
        <label>boost/variant.hpp</label>
      </node>
      <node id="49556">
        <label>boost/iostreams/concepts.hpp</label>
      </node>
      <node id="49554">
        <label>netdb.h</label>
      </node>
      <node id="49548">
        <label>sys/fcntl.h</label>
      </node>
      <node id="49595">
        <label>undo.h</label>
        <link refid="undo_8h"/>
        <childnode refid="49596" relation="include">
        </childnode>
      </node>
      <node id="49584">
        <label>leveldb/status.h</label>
        <link refid="status_8h"/>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49583" relation="include">
        </childnode>
      </node>
      <node id="49598">
        <label>boost/circular_buffer.hpp</label>
      </node>
      <node id="49566">
        <label>boost/function.hpp</label>
      </node>
      <node id="49479">
        <label>serialize.h</label>
        <link refid="serialize_8h"/>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49483" relation="include">
        </childnode>
        <childnode refid="49484" relation="include">
        </childnode>
        <childnode refid="49485" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49487" relation="include">
        </childnode>
        <childnode refid="49488" relation="include">
        </childnode>
        <childnode refid="49489" relation="include">
        </childnode>
        <childnode refid="49490" relation="include">
        </childnode>
        <childnode refid="49491" relation="include">
        </childnode>
        <childnode refid="49499" relation="include">
        </childnode>
      </node>
      <node id="49497">
        <label>limits.h</label>
      </node>
      <node id="49590">
        <label>threadsafety.h</label>
        <link refid="threadsafety_8h"/>
      </node>
      <node id="49603">
        <label>mruset.h</label>
        <link refid="mruset_8h"/>
        <childnode refid="49483" relation="include">
        </childnode>
        <childnode refid="49600" relation="include">
        </childnode>
      </node>
      <node id="49522">
        <label>sys/resource.h</label>
      </node>
      <node id="49533">
        <label>openssl/bio.h</label>
      </node>
      <node id="49602">
        <label>boost/signals2/signal.hpp</label>
      </node>
      <node id="49604">
        <label>netbase.h</label>
        <link refid="netbase_8h"/>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49547" relation="include">
        </childnode>
      </node>
      <node id="49611">
        <label>keystore.h</label>
        <link refid="keystore_8h"/>
        <childnode refid="49544" relation="include">
        </childnode>
        <childnode refid="49508" relation="include">
        </childnode>
        <childnode refid="49589" relation="include">
        </childnode>
        <childnode refid="49505" relation="include">
        </childnode>
        <childnode refid="49602" relation="include">
        </childnode>
        <childnode refid="49507" relation="include">
        </childnode>
      </node>
      <node id="49476">
        <label>boost/assign/list_of.hpp</label>
      </node>
      <node id="49558">
        <label>boost/asio.hpp</label>
      </node>
      <node id="49559">
        <label>boost/asio/ssl.hpp</label>
      </node>
      <node id="49509">
        <label>hash.h</label>
        <link refid="hash_8h"/>
        <childnode refid="49501" relation="include">
        </childnode>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49510" relation="include">
        </childnode>
        <childnode refid="49511" relation="include">
        </childnode>
        <childnode refid="49512" relation="include">
        </childnode>
        <childnode refid="49513" relation="include">
        </childnode>
        <childnode refid="49514" relation="include">
        </childnode>
        <childnode refid="49516" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49553">
        <label>ifaddrs.h</label>
      </node>
      <node id="49538">
        <label>stealth.h</label>
        <link refid="stealth_8h"/>
        <childnode refid="49519" relation="include">
        </childnode>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49493" relation="include">
        </childnode>
        <childnode refid="49539" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49540" relation="include">
        </childnode>
      </node>
      <node id="49520">
        <label>sys/types.h</label>
      </node>
      <node id="49580">
        <label>ios</label>
      </node>
      <node id="49475">
        <label>/home/dev/ds-160209/src/rpcrawtransaction.cpp</label>
        <link refid="rpcrawtransaction.cpp"/>
        <childnode refid="49476" relation="include">
        </childnode>
        <childnode refid="49477" relation="include">
        </childnode>
        <childnode refid="49542" relation="include">
        </childnode>
        <childnode refid="49545" relation="include">
        </childnode>
        <childnode refid="49576" relation="include">
        </childnode>
        <childnode refid="49610" relation="include">
        </childnode>
        <childnode refid="49587" relation="include">
        </childnode>
        <childnode refid="49599" relation="include">
        </childnode>
        <childnode refid="49611" relation="include">
        </childnode>
        <childnode refid="49612" relation="include">
        </childnode>
      </node>
      <node id="49494">
        <label>string.h</label>
      </node>
      <node id="49500">
        <label>clientversion.h</label>
        <link refid="clientversion_8h"/>
      </node>
      <node id="49488">
        <label>cstdio</label>
      </node>
      <node id="49592">
        <label>boost/thread/locks.hpp</label>
      </node>
      <node id="49535">
        <label>openssl/buffer.h</label>
      </node>
      <node id="49489">
        <label>boost/type_traits/is_fundamental.hpp</label>
      </node>
      <node id="49587">
        <label>main.h</label>
        <link refid="main_8h"/>
        <childnode refid="49588" relation="include">
        </childnode>
        <childnode refid="49599" relation="include">
        </childnode>
        <childnode refid="49505" relation="include">
        </childnode>
        <childnode refid="49578" relation="include">
        </childnode>
        <childnode refid="49576" relation="include">
        </childnode>
        <childnode refid="49607" relation="include">
        </childnode>
        <childnode refid="49526" relation="include">
        </childnode>
        <childnode refid="49597" relation="include">
        </childnode>
      </node>
      <node id="49530">
        <label>boost/filesystem/path.hpp</label>
      </node>
      <node id="49597">
        <label>boost/unordered_map.hpp</label>
      </node>
      <node id="49508">
        <label>pubkey.h</label>
        <link refid="pubkey_8h"/>
        <childnode refid="49509" relation="include">
        </childnode>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49501" relation="include">
        </childnode>
        <childnode refid="49503" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49498">
        <label>unistd.h</label>
      </node>
      <node id="49481">
        <label>vector</label>
      </node>
      <node id="49517">
        <label>bignum.h</label>
        <link refid="bignum_8h"/>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49501" relation="include">
        </childnode>
        <childnode refid="49518" relation="include">
        </childnode>
        <childnode refid="49503" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
      </node>
      <node id="49599">
        <label>net.h</label>
        <link refid="net_8h"/>
        <childnode refid="49600" relation="include">
        </childnode>
        <childnode refid="49601" relation="include">
        </childnode>
        <childnode refid="49506" relation="include">
        </childnode>
        <childnode refid="49602" relation="include">
        </childnode>
        <childnode refid="49537" relation="include">
        </childnode>
        <childnode refid="49552" relation="include">
        </childnode>
        <childnode refid="49603" relation="include">
        </childnode>
        <childnode refid="49604" relation="include">
        </childnode>
        <childnode refid="49605" relation="include">
        </childnode>
        <childnode refid="49606" relation="include">
        </childnode>
        <childnode refid="49509" relation="include">
        </childnode>
        <childnode refid="49578" relation="include">
        </childnode>
      </node>
      <node id="49546">
        <label>rpcprotocol.h</label>
        <link refid="rpcprotocol_8h"/>
        <childnode refid="49547" relation="include">
        </childnode>
        <childnode refid="49526" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49556" relation="include">
        </childnode>
        <childnode refid="49557" relation="include">
        </childnode>
        <childnode refid="49558" relation="include">
        </childnode>
        <childnode refid="49559" relation="include">
        </childnode>
        <childnode refid="49560" relation="include">
        </childnode>
        <childnode refid="49573" relation="include">
        </childnode>
        <childnode refid="49574" relation="include">
        </childnode>
      </node>
      <node id="49574">
        <label>json/json_spirit_writer_template.h</label>
        <link refid="json__spirit__writer__template_8h"/>
        <childnode refid="49561" relation="include">
        </childnode>
        <childnode refid="49484" relation="include">
        </childnode>
        <childnode refid="49525" relation="include">
        </childnode>
        <childnode refid="49575" relation="include">
        </childnode>
      </node>
      <node id="49511">
        <label>openssl/ripemd.h</label>
      </node>
      <node id="49529">
        <label>boost/filesystem.hpp</label>
      </node>
      <node id="49570">
        <label>boost/spirit/utility/escape_char.hpp</label>
      </node>
      <node id="49527">
        <label>utility</label>
      </node>
      <node id="49596">
        <label>compressor.h</label>
        <link refid="compressor_8h"/>
        <childnode refid="49477" relation="include">
        </childnode>
        <childnode refid="49576" relation="include">
        </childnode>
      </node>
      <node id="49525">
        <label>sstream</label>
      </node>
      <node id="49612">
        <label>txdb-leveldb.h</label>
        <link refid="txdb-leveldb_8h"/>
        <childnode refid="49587" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49581" relation="include">
        </childnode>
        <childnode refid="49586" relation="include">
        </childnode>
        <childnode refid="49578" relation="include">
        </childnode>
      </node>
      <node id="49544">
        <label>key.h</label>
        <link refid="key_8h"/>
        <childnode refid="49491" relation="include">
        </childnode>
        <childnode refid="49508" relation="include">
        </childnode>
        <childnode refid="49503" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49534">
        <label>openssl/evp.h</label>
      </node>
      <node id="49523">
        <label>tinyformat.h</label>
        <link refid="tinyformat_8h"/>
        <childnode refid="49484" relation="include">
        </childnode>
        <childnode refid="49524" relation="include">
        </childnode>
        <childnode refid="49525" relation="include">
        </childnode>
        <childnode refid="49503" relation="include">
        </childnode>
      </node>
      <node id="49486">
        <label>stdint.h</label>
        <link refid="stdint_8h"/>
      </node>
      <node id="49578">
        <label>streams.h</label>
        <link refid="streams_8h"/>
        <childnode refid="49491" relation="include">
        </childnode>
        <childnode refid="49479" relation="include">
        </childnode>
        <childnode refid="49579" relation="include">
        </childnode>
        <childnode refid="49502" relation="include">
        </childnode>
        <childnode refid="49580" relation="include">
        </childnode>
        <childnode refid="49485" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49483" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49494" relation="include">
        </childnode>
        <childnode refid="49527" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49516">
        <label>crypto/argon2/argon2.h</label>
        <link refid="argon2_8h"/>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49515" relation="include">
        </childnode>
        <childnode refid="49497" relation="include">
        </childnode>
      </node>
      <node id="49521">
        <label>sys/time.h</label>
      </node>
      <node id="49524">
        <label>iostream</label>
      </node>
      <node id="49545">
        <label>rpcserver.h</label>
        <link refid="rpcserver_8h"/>
        <childnode refid="49478" relation="include">
        </childnode>
        <childnode refid="49501" relation="include">
        </childnode>
        <childnode refid="49546" relation="include">
        </childnode>
        <childnode refid="49526" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
      </node>
      <node id="49600">
        <label>deque</label>
      </node>
      <node id="49501">
        <label>uint256.h</label>
        <link refid="uint256_8h"/>
        <childnode refid="49502" relation="include">
        </childnode>
        <childnode refid="49487" relation="include">
        </childnode>
        <childnode refid="49503" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49565">
        <label>boost/bind.hpp</label>
      </node>
      <node id="49562">
        <label>boost/config.hpp</label>
      </node>
      <node id="49549">
        <label>sys/socket.h</label>
      </node>
      <node id="49583">
        <label>leveldb/slice.h</label>
        <link refid="slice_8h"/>
        <childnode refid="49502" relation="include">
        </childnode>
        <childnode refid="49515" relation="include">
        </childnode>
        <childnode refid="49494" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
      </node>
      <node id="49561">
        <label>json_spirit_value.h</label>
        <link refid="json__spirit__value_8h"/>
        <childnode refid="49481" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49484" relation="include">
        </childnode>
        <childnode refid="49525" relation="include">
        </childnode>
        <childnode refid="49503" relation="include">
        </childnode>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49562" relation="include">
        </childnode>
        <childnode refid="49563" relation="include">
        </childnode>
        <childnode refid="49507" relation="include">
        </childnode>
      </node>
      <node id="49601">
        <label>boost/array.hpp</label>
      </node>
      <node id="49518">
        <label>openssl/bn.h</label>
      </node>
      <node id="49576">
        <label>txdb.h</label>
        <link refid="txdb_8h"/>
        <childnode refid="49577" relation="include">
        </childnode>
        <childnode refid="49587" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49527" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49541">
        <label>timedata.h</label>
        <link refid="timedata_8h"/>
        <childnode refid="49486" relation="include">
        </childnode>
      </node>
      <node id="49491">
        <label>allocators.h</label>
        <link refid="allocators_8h"/>
        <childnode refid="49492" relation="include">
        </childnode>
        <childnode refid="49494" relation="include">
        </childnode>
        <childnode refid="49480" relation="include">
        </childnode>
        <childnode refid="49495" relation="include">
        </childnode>
        <childnode refid="49482" relation="include">
        </childnode>
        <childnode refid="49496" relation="include">
        </childnode>
        <childnode refid="49497" relation="include">
        </childnode>
        <childnode refid="49498" relation="include">
        </childnode>
      </node>
      <node id="49571">
        <label>boost/spirit/iterator/multi_pass.hpp</label>
      </node>
      <node id="49543">
        <label>chainparams.h</label>
        <link refid="chainparams_8h"/>
        <childnode refid="49517" relation="include">
        </childnode>
        <childnode refid="49501" relation="include">
        </childnode>
        <childnode refid="49481" relation="include">
        </childnode>
      </node>
      <node id="49483">
        <label>set</label>
      </node>
      <node id="49579">
        <label>algorithm</label>
      </node>
      <node id="49512">
        <label>crypto/ripemd160.h</label>
        <link refid="ripemd160_8h"/>
        <childnode refid="49486" relation="include">
        </childnode>
        <childnode refid="49493" relation="include">
        </childnode>
      </node>
      <node id="49504">
        <label>util.h</label>
      </node>
      <node id="49539">
        <label>stdio.h</label>
      </node>
      <node id="49492">
        <label>cleanse.h</label>
        <link refid="cleanse_8h"/>
        <childnode refid="49493" relation="include">
        </childnode>
      </node>
      <node id="49487">
        <label>cstring</label>
      </node>
      <node id="49589">
        <label>sync.h</label>
        <link refid="sync_8h"/>
        <childnode refid="49590" relation="include">
        </childnode>
        <childnode refid="49591" relation="include">
        </childnode>
        <childnode refid="49592" relation="include">
        </childnode>
        <childnode refid="49495" relation="include">
        </childnode>
        <childnode refid="49593" relation="include">
        </childnode>
      </node>
      <node id="49540">
        <label>inttypes.h</label>
      </node>
      <node id="49582">
        <label>leveldb/iterator.h</label>
        <link refid="iterator_8h"/>
        <childnode refid="49583" relation="include">
        </childnode>
        <childnode refid="49584" relation="include">
        </childnode>
      </node>
      <node id="49569">
        <label>boost/spirit/utility/confix.hpp</label>
      </node>
      <node id="49608">
        <label>primitives/block.h</label>
        <link refid="primitives_2block_8h"/>
        <childnode refid="49477" relation="include">
        </childnode>
        <childnode refid="49516" relation="include">
        </childnode>
        <childnode refid="49609" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1acb6efc0d76394e3858fe7451148069c2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ScriptPubKeyToJSON</definition>
        <argsstring>(const CScript &amp;scriptPubKey, Object &amp;out, bool fIncludeHex)</argsstring>
        <name>ScriptPubKeyToJSON</name>
        <param>
          <type>const <ref refid="class_c_script" kindref="compound">CScript</ref> &amp;</type>
          <declname>scriptPubKey</declname>
        </param>
        <param>
          <type><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref> &amp;</type>
          <declname>out</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fIncludeHex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="27" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="27" bodyend="51"/>
        <references refid="class_c_script_1a391abaa856cf8511bc840fef949839d9" compoundref="script_8h" startline="870" endline="891">CScript::ToString</references>
        <references refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" compoundref="util_8h" startline="346" endline="362">HexStr</references>
        <references refid="script_8cpp_1a6948ee6aa422ed8a5ffe06ddc77a55d8" compoundref="script_8cpp" startline="2738" endline="2769">ExtractDestinations</references>
        <references refid="script_8cpp_1a998a2df1a42dc68c4cffa9933aa713c2" compoundref="script_8cpp" startline="184" endline="196">GetTxnOutputType</references>
        <referencedby refid="rpcwallet_8cpp_1aba644e892d0fe242879f44311747ec76" compoundref="rpcrawtransaction_8cpp" startline="53" endline="109">TxToJSON</referencedby>
        <referencedby refid="rpcrawtransaction_8cpp_1a342172992e2fa92490e8d83c2e95e87e" compoundref="rpcrawtransaction_8cpp" startline="326" endline="347">decodescript</referencedby>
      </memberdef>
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1a366b04dae2aae86eee356cc85d759268" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void TxToJSON</definition>
        <argsstring>(const CTransaction &amp;tx, const uint256 hashBlock, Object &amp;entry)</argsstring>
        <name>TxToJSON</name>
        <param>
          <type>const <ref refid="class_c_transaction" kindref="compound">CTransaction</ref> &amp;</type>
          <declname>tx</declname>
        </param>
        <param>
          <type>const <ref refid="classuint256" kindref="compound">uint256</ref></type>
          <declname>hashBlock</declname>
        </param>
        <param>
          <type><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref> &amp;</type>
          <declname>entry</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="53" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="53" bodyend="109"/>
        <references refid="class_c_transaction_1a3f8666d2a275c40da14bd5eaf47dc004" compoundref="transaction_8h" startline="309" endline="312">CTransaction::GetHash</references>
        <references refid="classbase__uint_1ac9929c28600796a9acf75881bb750576" compoundref="uint256_8cpp" startline="154" endline="160">base_uint&lt; BITS &gt;::GetHex</references>
        <references refid="class_c_transaction_1a6c29bdd822859c7b21b7b6c22dca6825" compoundref="transaction_8h" startline="259">CTransaction::nVersion</references>
        <references refid="class_c_transaction_1a8ccb4b6020669bc562095e3417715e41" compoundref="transaction_8h" startline="260">CTransaction::nTime</references>
        <references refid="class_c_transaction_1ab01e4e451d2f3f84b01380979c8fdacc" compoundref="transaction_8h" startline="263">CTransaction::nLockTime</references>
        <references refid="class_c_transaction_1a53fa787e4ea57374b4fa2a28e9a957b2" compoundref="transaction_8h" startline="261">CTransaction::vin</references>
        <references refid="class_c_transaction_1a274384ecbb50d71355cd287b7a6bca51" compoundref="transaction_8h" startline="314" endline="317">CTransaction::IsCoinBase</references>
        <references refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" compoundref="util_8h" startline="346" endline="362">HexStr</references>
        <references refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" compoundref="transaction_8h" startline="98">CTxIn::scriptSig</references>
        <references refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" compoundref="transaction_8h" startline="97">CTxIn::prevout</references>
        <references refid="class_c_out_point_1af131c7194a660558b0ff158f4efa7a28" compoundref="transaction_8h" startline="30">COutPoint::hash</references>
        <references refid="class_c_out_point_1a9fbc648ca0d11421ad66e897185a9b58" compoundref="transaction_8h" startline="31">COutPoint::n</references>
        <references refid="class_c_script_1a391abaa856cf8511bc840fef949839d9" compoundref="script_8h" startline="870" endline="891">CScript::ToString</references>
        <references refid="class_c_tx_in_1aa0dd08a6ecd0a595d9ef4dad020c1ea5" compoundref="transaction_8h" startline="100">CTxIn::nSequence</references>
        <references refid="class_c_transaction_1ae42c0032a464c3054c508017c7d040ef" compoundref="transaction_8h" startline="262">CTransaction::vout</references>
        <references refid="rpcserver_8cpp_1a0655c28ea826ddeb21e8079b6a0beb9e" compoundref="rpcserver_8cpp" startline="98" endline="101">ValueFromAmount</references>
        <references refid="class_c_tx_out_1ab278ecef3817a972cb6bc5360d13f197" compoundref="transaction_8h" startline="168">CTxOut::nValue</references>
        <references refid="rpcrawtransaction_8cpp_1acb6efc0d76394e3858fe7451148069c2" compoundref="rpcrawtransaction_8cpp" startline="27" endline="51">ScriptPubKeyToJSON</references>
        <references refid="class_c_tx_out_1a25bf3f2f4befb22a6a0be45784fe57e2" compoundref="transaction_8h" startline="170">CTxOut::scriptPubKey</references>
        <references refid="chain_8h_1a9d5aa0c4581116d898ff51357a0df059" compoundref="main_8cpp" startline="59">mapBlockIndex</references>
        <references refid="class_c_block_index_1ae75f87263a196d250cc2bf10d70aa510" compoundref="chain_8h" startline="245" endline="248">CBlockIndex::IsInMainChain</references>
        <references refid="main_8cpp_1a843f1984796a7e44a9e23fccd6a8af34" compoundref="main_8cpp" startline="70">nBestHeight</references>
        <references refid="class_c_block_index_1aebfc8d6b95852546760e742553d7bfd5" compoundref="chain_8h" startline="116">CBlockIndex::nHeight</references>
        <references refid="class_c_block_index_1a4b687a226e9e166b0f91c1b616b543a6" compoundref="chain_8h" startline="141">CBlockIndex::nTime</references>
        <referencedby refid="rpcblockchain_8cpp_1a414df5de934bac4418f19c9293f63dad" compoundref="rpcblockchain_8cpp" startline="108" endline="160">blockToJSON</referencedby>
        <referencedby refid="rpcrawtransaction_8cpp_1a12e1b8a05d99d1544e5343c2282cc55a" compoundref="rpcrawtransaction_8cpp" startline="111" endline="144">getrawtransaction</referencedby>
        <referencedby refid="rpcrawtransaction_8cpp_1a6775c600b1bfdbb22f38e5f1cd27cfea" compoundref="rpcrawtransaction_8cpp" startline="301" endline="324">decoderawtransaction</referencedby>
        <referencedby refid="rpcrawtransaction_8cpp_1ae119520f4c7a75fcaf31fbfaf8dff482" compoundref="rpcrawtransaction_8cpp" startline="605" endline="670">searchrawtransactions</referencedby>
        <referencedby refid="rpcwallet_8cpp_1a845c15a1402787fcf2cc021111ea89f5" compoundref="rpcwallet_8cpp" startline="1808" endline="1906">gettransaction</referencedby>
      </memberdef>
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1a12e1b8a05d99d1544e5343c2282cc55a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacejson__spirit_1a28e6abc99fda7b06c430ca38802527a3" kindref="member">Value</ref></type>
        <definition>Value getrawtransaction</definition>
        <argsstring>(const Array &amp;params, bool fHelp)</argsstring>
        <name>getrawtransaction</name>
        <param>
          <type>const <ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref> &amp;</type>
          <declname>params</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fHelp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="111" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="111" bodyend="144"/>
        <references refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" compoundref="cache_8cc" startline="34">hash</references>
        <references refid="classbase__uint_1ade1a897fac931f28f54998c92c797228" compoundref="uint256_8cpp" startline="163" endline="189">base_uint&lt; BITS &gt;::SetHex</references>
        <references refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" compoundref="json__spirit__reader__template_8h" startline="172" endline="175">json_spirit::get_str</references>
        <references refid="main_8cpp_1a7d2a4633e4e0e8e4cb9c881d45a496b5" compoundref="main_8cpp" startline="1557" endline="1597">GetTransaction</references>
        <references refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" compoundref="rpcprotocol_8cpp" startline="260" endline="266">JSONRPCError</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" compoundref="rpcprotocol_8h" startline="50">RPC_INVALID_ADDRESS_OR_KEY</references>
        <references refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" compoundref="serialize_8h" startline="89">SER_NETWORK</references>
        <references refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" compoundref="util_8h" startline="346" endline="362">HexStr</references>
        <references refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" compoundref="streams_8h" startline="112" endline="112">CDataStream::begin</references>
        <references refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" compoundref="streams_8h" startline="114" endline="114">CDataStream::end</references>
        <references refid="rpcrawtransaction_8cpp_1a366b04dae2aae86eee356cc85d759268" compoundref="rpcrawtransaction_8cpp" startline="53" endline="109">TxToJSON</references>
      </memberdef>
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1a7924d2aa3d68d890b82773445e0d949e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacejson__spirit_1a28e6abc99fda7b06c430ca38802527a3" kindref="member">Value</ref></type>
        <definition>Value createrawtransaction</definition>
        <argsstring>(const Array &amp;params, bool fHelp)</argsstring>
        <name>createrawtransaction</name>
        <param>
          <type>const <ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref> &amp;</type>
          <declname>params</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fHelp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="236" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="236" bodyend="299"/>
        <references refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" compoundref="rpcserver_8cpp" startline="47" endline="66">RPCTypeCheck</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a8a173a0de09f9f4e59c89abe4a965504" compoundref="json__spirit__value_8h" startline="26">json_spirit::array_type</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a565d5d50b32d0e652d62aae12baef6b5" compoundref="json__spirit__value_8h" startline="26">json_spirit::obj_type</references>
        <references refid="classjson__spirit_1_1_value__impl_1a85bcead33b915d62f83bb95ad824da4f" compoundref="json__spirit__value_8h" startline="361" endline="366">json_spirit::Value_impl&lt; Config &gt;::get_obj</references>
        <references refid="namespacejson__spirit_1a74f681114641f2ca6250370280ee1089" compoundref="json__spirit__utils_8h" startline="47" endline="58">json_spirit::find_value</references>
        <references refid="classjson__spirit_1_1_value__impl_1a1ba338778c3415bf0c740e965790d439" compoundref="json__spirit__value_8h" startline="321" endline="324">json_spirit::Value_impl&lt; Config &gt;::type</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" compoundref="json__spirit__value_8h" startline="26">json_spirit::str_type</references>
        <references refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" compoundref="rpcprotocol_8cpp" startline="260" endline="266">JSONRPCError</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" compoundref="rpcprotocol_8h" startline="52">RPC_INVALID_PARAMETER</references>
        <references refid="classjson__spirit_1_1_value__impl_1a0e02b3a4e65ae45f069ee938fee40f80" compoundref="json__spirit__value_8h" startline="353" endline="358">json_spirit::Value_impl&lt; Config &gt;::get_str</references>
        <references refid="util_8cpp_1aa4e3553d2b2fe693c106f4296685f75c" compoundref="util_8cpp" startline="440" endline="448">IsHex</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa2975b4fc32d1b1c74976404c7064294" compoundref="json__spirit__value_8h" startline="26">json_spirit::int_type</references>
        <references refid="classjson__spirit_1_1_value__impl_1ad437ac0c465adaeefda05eef57a99248" compoundref="json__spirit__value_8h" startline="385" endline="390">json_spirit::Value_impl&lt; Config &gt;::get_int</references>
        <references refid="struct_c_mutable_transaction_1ad6b1a0a773293fd153a1d384923631da" compoundref="transaction_8h" startline="356">CMutableTransaction::vin</references>
        <references refid="structjson__spirit_1_1_pair__impl_1ac39e926ac119e19889bdc44958a707da" compoundref="json__spirit__value_8h" startline="105">json_spirit::Pair_impl&lt; Config &gt;::name_</references>
        <references refid="class_c_dark_silk_address_1ab98113189d0746ea660447efe3700103" compoundref="base58_8cpp" startline="218" endline="223">CDarkSilkAddress::IsValid</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" compoundref="rpcprotocol_8h" startline="50">RPC_INVALID_ADDRESS_OR_KEY</references>
        <references refid="class_c_script_1ad1b5a9077241aa06116040c4f1b7c31e" compoundref="script_8cpp" startline="3211" endline="3214">CScript::SetDestination</references>
        <references refid="class_c_dark_silk_address_1a907e63758c7914a246b5807f6babf97d" compoundref="base58_8cpp" startline="225" endline="236">CDarkSilkAddress::Get</references>
        <references refid="rpcserver_8cpp_1a848a8074b8c630442ccdd556a0f38a51" compoundref="rpcserver_8cpp" startline="87" endline="96">AmountFromValue</references>
        <references refid="structjson__spirit_1_1_pair__impl_1aa669eda030541a05d8736db0839925e1" compoundref="json__spirit__value_8h" startline="106">json_spirit::Pair_impl&lt; Config &gt;::value_</references>
        <references refid="struct_c_mutable_transaction_1aca14a252c78e4af2dfe68d7ea67a77dc" compoundref="transaction_8h" startline="357">CMutableTransaction::vout</references>
        <references refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" compoundref="serialize_8h" startline="89">SER_NETWORK</references>
        <references refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" compoundref="util_8h" startline="346" endline="362">HexStr</references>
        <references refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" compoundref="streams_8h" startline="112" endline="112">CDataStream::begin</references>
        <references refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" compoundref="streams_8h" startline="114" endline="114">CDataStream::end</references>
      </memberdef>
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1a6775c600b1bfdbb22f38e5f1cd27cfea" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacejson__spirit_1a28e6abc99fda7b06c430ca38802527a3" kindref="member">Value</ref></type>
        <definition>Value decoderawtransaction</definition>
        <argsstring>(const Array &amp;params, bool fHelp)</argsstring>
        <name>decoderawtransaction</name>
        <param>
          <type>const <ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref> &amp;</type>
          <declname>params</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fHelp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="301" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="301" bodyend="324"/>
        <references refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" compoundref="rpcserver_8cpp" startline="47" endline="66">RPCTypeCheck</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" compoundref="json__spirit__value_8h" startline="26">json_spirit::str_type</references>
        <references refid="util_8cpp_1abea395175fbc4a788ed0f0a41710b8a7" compoundref="util_8cpp" startline="450" endline="469">ParseHex</references>
        <references refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" compoundref="json__spirit__reader__template_8h" startline="172" endline="175">json_spirit::get_str</references>
        <references refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" compoundref="serialize_8h" startline="89">SER_NETWORK</references>
        <references refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" compoundref="rpcprotocol_8cpp" startline="260" endline="266">JSONRPCError</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" compoundref="rpcprotocol_8h" startline="54">RPC_DESERIALIZATION_ERROR</references>
        <references refid="rpcrawtransaction_8cpp_1a366b04dae2aae86eee356cc85d759268" compoundref="rpcrawtransaction_8cpp" startline="53" endline="109">TxToJSON</references>
      </memberdef>
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1a342172992e2fa92490e8d83c2e95e87e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacejson__spirit_1a28e6abc99fda7b06c430ca38802527a3" kindref="member">Value</ref></type>
        <definition>Value decodescript</definition>
        <argsstring>(const Array &amp;params, bool fHelp)</argsstring>
        <name>decodescript</name>
        <param>
          <type>const <ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref> &amp;</type>
          <declname>params</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fHelp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="326" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="326" bodyend="347"/>
        <references refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" compoundref="rpcserver_8cpp" startline="47" endline="66">RPCTypeCheck</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" compoundref="json__spirit__value_8h" startline="26">json_spirit::str_type</references>
        <references refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" compoundref="json__spirit__reader__template_8h" startline="172" endline="175">json_spirit::get_str</references>
        <references refid="rpcserver_8cpp_1a6912ee7b40ffee24ad6d599b3667d4c8" compoundref="rpcserver_8cpp" startline="125" endline="133">ParseHexV</references>
        <references refid="rpcrawtransaction_8cpp_1acb6efc0d76394e3858fe7451148069c2" compoundref="rpcrawtransaction_8cpp" startline="27" endline="51">ScriptPubKeyToJSON</references>
        <references refid="class_c_script_1a59fd961e1b74202a0951a077b576c0ba" compoundref="script_8h" startline="893" endline="896">CScript::GetID</references>
      </memberdef>
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1aa0d151e35c0ad5ec82df451a833aeadb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacejson__spirit_1a28e6abc99fda7b06c430ca38802527a3" kindref="member">Value</ref></type>
        <definition>Value signrawtransaction</definition>
        <argsstring>(const Array &amp;params, bool fHelp)</argsstring>
        <name>signrawtransaction</name>
        <param>
          <type>const <ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref> &amp;</type>
          <declname>params</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fHelp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
<para>TODO (AA): put back but need txTo for SignSignature </para>        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="349" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="349" bodyend="555"/>
        <references refid="rpcserver_8h_1abcfbb0ad9335791f2832c01209b8f12d" compoundref="rpcwallet_8cpp" startline="37" endline="42">HelpRequiringPassphrase</references>
        <references refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" compoundref="rpcserver_8cpp" startline="47" endline="66">RPCTypeCheck</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" compoundref="json__spirit__value_8h" startline="26">json_spirit::str_type</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a8a173a0de09f9f4e59c89abe4a965504" compoundref="json__spirit__value_8h" startline="26">json_spirit::array_type</references>
        <references refid="util_8cpp_1abea395175fbc4a788ed0f0a41710b8a7" compoundref="util_8cpp" startline="450" endline="469">ParseHex</references>
        <references refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" compoundref="json__spirit__reader__template_8h" startline="172" endline="175">json_spirit::get_str</references>
        <references refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" compoundref="serialize_8h" startline="89">SER_NETWORK</references>
        <references refid="class_c_data_stream_1a6e50e788d33080ac804e4d8ba7150279" compoundref="streams_8h" startline="117" endline="117">CDataStream::empty</references>
        <references refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" compoundref="rpcprotocol_8cpp" startline="260" endline="266">JSONRPCError</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" compoundref="rpcprotocol_8h" startline="54">RPC_DESERIALIZATION_ERROR</references>
        <references refid="struct_c_mutable_transaction_1ad6b1a0a773293fd153a1d384923631da" compoundref="transaction_8h" startline="356">CMutableTransaction::vin</references>
        <references refid="txdb-leveldb_8cpp_1a72eff8ae1d84de13daf97a61b8c02bc6" compoundref="txdb-leveldb_8cpp" startline="30">txdb</references>
        <references refid="class_c_transaction_1a53fa787e4ea57374b4fa2a28e9a957b2" compoundref="transaction_8h" startline="261">CTransaction::vin</references>
        <references refid="class_c_transaction_po_s_1a20a028e06f505f03a0d30a7f186d9489" compoundref="main_8cpp" startline="3747" endline="3817">CTransactionPoS::FetchInputs</references>
        <references refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" compoundref="transaction_8h" startline="97">CTxIn::prevout</references>
        <references refid="class_c_out_point_1af131c7194a660558b0ff158f4efa7a28" compoundref="transaction_8h" startline="30">COutPoint::hash</references>
        <references refid="class_c_out_point_1a9fbc648ca0d11421ad66e897185a9b58" compoundref="transaction_8h" startline="31">COutPoint::n</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a38ef470443cb345064758efff2e303fc" compoundref="json__spirit__value_8h" startline="26">json_spirit::null_type</references>
        <references refid="class_c_dark_silk_secret_1a06075192fb631c3b406a6ca231d2f926" compoundref="base58_8cpp" startline="271" endline="273">CDarkSilkSecret::SetString</references>
        <references refid="classjson__spirit_1_1_value__impl_1a0e02b3a4e65ae45f069ee938fee40f80" compoundref="json__spirit__value_8h" startline="353" endline="358">json_spirit::Value_impl&lt; Config &gt;::get_str</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" compoundref="rpcprotocol_8h" startline="50">RPC_INVALID_ADDRESS_OR_KEY</references>
        <references refid="class_c_dark_silk_secret_1af7b026d90efb897f6e592ce424c8d2c9" compoundref="base58_8cpp" startline="258" endline="263">CDarkSilkSecret::GetKey</references>
        <references refid="class_c_key_store_1a0b4ca43724cfcc6e2ea70c0baa192750" compoundref="keystore_8cpp" startline="18" endline="20">CKeyStore::AddKey</references>
        <references refid="rpcdump_8cpp_1a8f837f6d506b9719cef93188db00fd3c" compoundref="rpcwallet_8cpp" startline="44" endline="50">EnsureWalletIsUnlocked</references>
        <references refid="classjson__spirit_1_1_value__impl_1a1ba338778c3415bf0c740e965790d439" compoundref="json__spirit__value_8h" startline="321" endline="324">json_spirit::Value_impl&lt; Config &gt;::type</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a565d5d50b32d0e652d62aae12baef6b5" compoundref="json__spirit__value_8h" startline="26">json_spirit::obj_type</references>
        <references refid="classjson__spirit_1_1_value__impl_1a85bcead33b915d62f83bb95ad824da4f" compoundref="json__spirit__value_8h" startline="361" endline="366">json_spirit::Value_impl&lt; Config &gt;::get_obj</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa2975b4fc32d1b1c74976404c7064294" compoundref="json__spirit__value_8h" startline="26">json_spirit::int_type</references>
        <references refid="namespacejson__spirit_1a74f681114641f2ca6250370280ee1089" compoundref="json__spirit__utils_8h" startline="47" endline="58">json_spirit::find_value</references>
        <references refid="util_8cpp_1aa4e3553d2b2fe693c106f4296685f75c" compoundref="util_8cpp" startline="440" endline="448">IsHex</references>
        <references refid="classbase__uint_1ade1a897fac931f28f54998c92c797228" compoundref="uint256_8cpp" startline="163" endline="189">base_uint&lt; BITS &gt;::SetHex</references>
        <references refid="rpcserver_8cpp_1a6912ee7b40ffee24ad6d599b3667d4c8" compoundref="rpcserver_8cpp" startline="125" endline="133">ParseHexV</references>
        <references refid="class_c_basic_key_store_1a56249ce3540398999cd397eeb662e836" compoundref="keystore_8cpp" startline="29" endline="37">CBasicKeyStore::AddCScript</references>
        <references refid="script_8h_1aaf105ae5beaca1dee30ae54530691fceac68c7df6528b3001624e56b2de3826de" compoundref="script_8h" startline="92">SIGHASH_ALL</references>
        <references refid="script_8h_1aaf105ae5beaca1dee30ae54530691fcea9412c721b741fe9be1e3247dc390a4d2" compoundref="script_8h" startline="95">SIGHASH_ANYONECANPAY</references>
        <references refid="script_8h_1aaf105ae5beaca1dee30ae54530691fceacaba9b1f029a1628196345fce5667f6f" compoundref="script_8h" startline="93">SIGHASH_NONE</references>
        <references refid="script_8h_1aaf105ae5beaca1dee30ae54530691fcead9bb96e76cf9f1b6ebbf50373f4f9ca5" compoundref="script_8h" startline="94">SIGHASH_SINGLE</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" compoundref="rpcprotocol_8h" startline="52">RPC_INVALID_PARAMETER</references>
        <references refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" compoundref="transaction_8h" startline="98">CTxIn::scriptSig</references>
        <references refid="class_c_script_1a7b2baf842621f07c4939408acf63377c" compoundref="script_8h" startline="898" endline="902">CScript::clear</references>
        <references refid="script_8cpp_1af2e061fe8f5ec7708f28db4628ff5c10" compoundref="script_8cpp" startline="3080" endline="3093">CombineSignatures</references>
        <references refid="script_8cpp_1a995f521b6ca4a8bfbd02d4cfe226feb6" compoundref="script_8cpp" startline="2822" endline="2856">VerifyScript</references>
        <references refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" compoundref="util_8h" startline="346" endline="362">HexStr</references>
        <references refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" compoundref="streams_8h" startline="112" endline="112">CDataStream::begin</references>
        <references refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" compoundref="streams_8h" startline="114" endline="114">CDataStream::end</references>
      </memberdef>
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1ad5aad44f890060f42efb49acf349511e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacejson__spirit_1a28e6abc99fda7b06c430ca38802527a3" kindref="member">Value</ref></type>
        <definition>Value sendrawtransaction</definition>
        <argsstring>(const Array &amp;params, bool fHelp)</argsstring>
        <name>sendrawtransaction</name>
        <param>
          <type>const <ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref> &amp;</type>
          <declname>params</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fHelp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="558" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="558" bodyend="602"/>
        <references refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" compoundref="rpcserver_8cpp" startline="47" endline="66">RPCTypeCheck</references>
        <references refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" compoundref="json__spirit__value_8h" startline="26">json_spirit::str_type</references>
        <references refid="util_8cpp_1abea395175fbc4a788ed0f0a41710b8a7" compoundref="util_8cpp" startline="450" endline="469">ParseHex</references>
        <references refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" compoundref="json__spirit__reader__template_8h" startline="172" endline="175">json_spirit::get_str</references>
        <references refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" compoundref="serialize_8h" startline="89">SER_NETWORK</references>
        <references refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" compoundref="rpcprotocol_8cpp" startline="260" endline="266">JSONRPCError</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" compoundref="rpcprotocol_8h" startline="54">RPC_DESERIALIZATION_ERROR</references>
        <references refid="class_c_transaction_1a3f8666d2a275c40da14bd5eaf47dc004" compoundref="transaction_8h" startline="309" endline="312">CTransaction::GetHash</references>
        <references refid="main_8cpp_1a7d2a4633e4e0e8e4cb9c881d45a496b5" compoundref="main_8cpp" startline="1557" endline="1597">GetTransaction</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" compoundref="rpcprotocol_8h" startline="50">RPC_INVALID_ADDRESS_OR_KEY</references>
        <references refid="classbase__uint_1ac9929c28600796a9acf75881bb750576" compoundref="uint256_8cpp" startline="154" endline="160">base_uint&lt; BITS &gt;::GetHex</references>
        <references refid="db__test_8cc_1a42432b4356adce5579ccf597f6e83e54" compoundref="db__test_8cc" startline="1744">state</references>
        <references refid="main_8cpp_1ad73f7fbd48c12a894b914e6a51940c64" compoundref="main_8cpp" startline="865" endline="1023">AcceptToMemoryPool</references>
        <references refid="main_8cpp_1a52890038ef379d29a1a8f3bd20dbe088">mempool</references>
        <references refid="net_8cpp_1abe329205a15b55df86608f5f1964bdb1" compoundref="net_8cpp" startline="1945" endline="1951">RelayTransaction</references>
      </memberdef>
      <memberdef kind="function" id="rpcrawtransaction_8cpp_1ae119520f4c7a75fcaf31fbfaf8dff482" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="namespacejson__spirit_1a28e6abc99fda7b06c430ca38802527a3" kindref="member">Value</ref></type>
        <definition>Value searchrawtransactions</definition>
        <argsstring>(const Array &amp;params, bool fHelp)</argsstring>
        <name>searchrawtransactions</name>
        <param>
          <type>const <ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref> &amp;</type>
          <declname>params</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>fHelp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp" line="605" column="1" bodyfile="/home/dev/ds-160209/src/rpcrawtransaction.cpp" bodystart="605" bodyend="670"/>
        <references refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" compoundref="json__spirit__reader__template_8h" startline="172" endline="175">json_spirit::get_str</references>
        <references refid="class_c_dark_silk_address_1ab98113189d0746ea660447efe3700103" compoundref="base58_8cpp" startline="218" endline="223">CDarkSilkAddress::IsValid</references>
        <references refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" compoundref="rpcprotocol_8cpp" startline="260" endline="266">JSONRPCError</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" compoundref="rpcprotocol_8h" startline="50">RPC_INVALID_ADDRESS_OR_KEY</references>
        <references refid="class_c_dark_silk_address_1a907e63758c7914a246b5807f6babf97d" compoundref="base58_8cpp" startline="225" endline="236">CDarkSilkAddress::Get</references>
        <references refid="main_8cpp_1aca9eb09c80679cf7c85926f83c353075" compoundref="main_8cpp" startline="1792" endline="1816">FindTransactionsByDestination</references>
        <references refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadadcfa95f6aca9c3a474fffac8c8ab1dd1" compoundref="rpcprotocol_8h" startline="53">RPC_DATABASE_ERROR</references>
        <references refid="main_8cpp_1a7d2a4633e4e0e8e4cb9c881d45a496b5" compoundref="main_8cpp" startline="1557" endline="1597">GetTransaction</references>
        <references refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" compoundref="serialize_8h" startline="89">SER_NETWORK</references>
        <references refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" compoundref="util_8h" startline="346" endline="362">HexStr</references>
        <references refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" compoundref="streams_8h" startline="112" endline="112">CDataStream::begin</references>
        <references refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" compoundref="streams_8h" startline="114" endline="114">CDataStream::end</references>
        <references refid="rpcrawtransaction_8cpp_1a366b04dae2aae86eee356cc85d759268" compoundref="rpcrawtransaction_8cpp" startline="53" endline="109">TxToJSON</references>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2009-2016<sp/>Satoshi<sp/>Nakamoto</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2009-2016<sp/>The<sp/>Bitcoin<sp/>Developers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2015-2016<sp/>Silk<sp/>Network</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Distributed<sp/>under<sp/>the<sp/>MIT/X11<sp/>software<sp/>license,<sp/>see<sp/>the<sp/>accompanying</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>file<sp/>COPYING<sp/>or<sp/>http://www.opensource.org/licenses/mit-license.php.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;boost/assign/list_of.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="transaction_8h" kindref="compound">primitives/transaction.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="base58_8h" kindref="compound">base58.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="rpcserver_8h" kindref="compound">rpcserver.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="txdb_8h" kindref="compound">txdb.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="init_8h" kindref="compound">init.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="main_8h" kindref="compound">main.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="net_8h" kindref="compound">net.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="keystore_8h" kindref="compound">keystore.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ENABLE_WALLET</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="wallet_8h" kindref="compound">wallet.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="txdb-leveldb_8h" kindref="compound">txdb-leveldb.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespacestd" kindref="compound">std</ref>;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceboost" kindref="compound">boost</ref>;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceboost_1_1assign" kindref="compound">boost::assign</ref>;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespacejson__spirit" kindref="compound">json_spirit</ref>;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="rpcrawtransaction_8cpp_1acb6efc0d76394e3858fe7451148069c2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="rpcrawtransaction_8cpp_1acb6efc0d76394e3858fe7451148069c2" kindref="member">ScriptPubKeyToJSON</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_script" kindref="compound">CScript</ref>&amp;<sp/>scriptPubKey,<sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref>&amp;<sp/>out,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fIncludeHex)</highlight></codeline>
<codeline lineno="28"><highlight class="normal">{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="script_8h_1a750f89f617f934820d5371be790e09ad" kindref="member">txnouttype</ref><sp/>type;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;CTxDestination&gt;<sp/>addresses;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nRequired;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;asm&quot;</highlight><highlight class="normal">,<sp/>scriptPubKey.<ref refid="class_c_script_1a391abaa856cf8511bc840fef949839d9" kindref="member">ToString</ref>()));</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fIncludeHex)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;hex&quot;</highlight><highlight class="normal">,<sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(scriptPubKey.begin(),<sp/>scriptPubKey.end())));</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="script_8cpp_1a6948ee6aa422ed8a5ffe06ddc77a55d8" kindref="member">ExtractDestinations</ref>(scriptPubKey,<sp/>type,<sp/>addresses,<sp/>nRequired))</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">,<sp/><ref refid="script_8cpp_1a998a2df1a42dc68c4cffa9933aa713c2" kindref="member">GetTxnOutputType</ref>(type)));</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;reqSigs&quot;</highlight><highlight class="normal">,<sp/>nRequired));</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">,<sp/><ref refid="script_8cpp_1a998a2df1a42dc68c4cffa9933aa713c2" kindref="member">GetTxnOutputType</ref>(type)));</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>a;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOST_FOREACH(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="keystore_8h_1a8f46ecba0ddeb036be6b58d6ed1909cd" kindref="member">CTxDestination</ref>&amp;<sp/>addr,<sp/>addresses)</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a.push_back(<ref refid="class_c_dark_silk_address" kindref="compound">CDarkSilkAddress</ref>(addr).ToString());</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;addresses&quot;</highlight><highlight class="normal">,<sp/>a));</highlight></codeline>
<codeline lineno="51"><highlight class="normal">}</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53" refid="rpcwallet_8cpp_1aba644e892d0fe242879f44311747ec76" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="rpcrawtransaction_8cpp_1a366b04dae2aae86eee356cc85d759268" kindref="member">TxToJSON</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref>&amp;<sp/>tx,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>hashBlock,<sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref>&amp;<sp/>entry)</highlight></codeline>
<codeline lineno="54"><highlight class="normal">{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;txid&quot;</highlight><highlight class="normal">,<sp/>tx.<ref refid="class_c_transaction_1a3f8666d2a275c40da14bd5eaf47dc004" kindref="member">GetHash</ref>().<ref refid="classbase__uint_1ac9929c28600796a9acf75881bb750576" kindref="member">GetHex</ref>()));</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;version&quot;</highlight><highlight class="normal">,<sp/>tx.<ref refid="class_c_transaction_1a6c29bdd822859c7b21b7b6c22dca6825" kindref="member">nVersion</ref>));</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;time&quot;</highlight><highlight class="normal">,<sp/>(<ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref>)tx.<ref refid="class_c_transaction_1a8ccb4b6020669bc562095e3417715e41" kindref="member">nTime</ref>));</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;locktime&quot;</highlight><highlight class="normal">,<sp/>(<ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref>)tx.<ref refid="class_c_transaction_1ab01e4e451d2f3f84b01380979c8fdacc" kindref="member">nLockTime</ref>));</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>vin;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOST_FOREACH(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_tx_in" kindref="compound">CTxIn</ref>&amp;<sp/>txin,<sp/>tx.<ref refid="class_c_transaction_1a53fa787e4ea57374b4fa2a28e9a957b2" kindref="member">vin</ref>)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>in;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tx.<ref refid="class_c_transaction_1a274384ecbb50d71355cd287b7a6bca51" kindref="member">IsCoinBase</ref>())</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in.push_back(<ref refid="structjson__spirit_1_1_pair__impl" kindref="compound">Pair</ref>(</highlight><highlight class="stringliteral">&quot;coinbase&quot;</highlight><highlight class="normal">,<sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref>.begin(),<sp/>txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref>.end())));</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;txid&quot;</highlight><highlight class="normal">,<sp/>txin.<ref refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" kindref="member">prevout</ref>.<ref refid="class_c_out_point_1af131c7194a660558b0ff158f4efa7a28" kindref="member">hash</ref>.<ref refid="classbase__uint_1ac9929c28600796a9acf75881bb750576" kindref="member">GetHex</ref>()));</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;vout&quot;</highlight><highlight class="normal">,<sp/>(<ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref>)txin.<ref refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" kindref="member">prevout</ref>.<ref refid="class_c_out_point_1a9fbc648ca0d11421ad66e897185a9b58" kindref="member">n</ref>));</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>o;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;asm&quot;</highlight><highlight class="normal">,<sp/>txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref>.<ref refid="class_c_script_1a391abaa856cf8511bc840fef949839d9" kindref="member">ToString</ref>()));</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;hex&quot;</highlight><highlight class="normal">,<sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref>.begin(),<sp/>txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref>.end())));</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;scriptSig&quot;</highlight><highlight class="normal">,<sp/>o));</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;sequence&quot;</highlight><highlight class="normal">,<sp/>(<ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref>)txin.<ref refid="class_c_tx_in_1aa0dd08a6ecd0a595d9ef4dad020c1ea5" kindref="member">nSequence</ref>));</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vin.push_back(in);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;vin&quot;</highlight><highlight class="normal">,<sp/>vin));</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>vout;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>tx.<ref refid="class_c_transaction_1ae42c0032a464c3054c508017c7d040ef" kindref="member">vout</ref>.size();<sp/>i++)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_tx_out" kindref="compound">CTxOut</ref>&amp;<sp/>txout<sp/>=<sp/>tx.<ref refid="class_c_transaction_1ae42c0032a464c3054c508017c7d040ef" kindref="member">vout</ref>[i];</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>out;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;value&quot;</highlight><highlight class="normal">,<sp/><ref refid="rpcserver_8cpp_1a0655c28ea826ddeb21e8079b6a0beb9e" kindref="member">ValueFromAmount</ref>(txout.<ref refid="class_c_tx_out_1ab278ecef3817a972cb6bc5360d13f197" kindref="member">nValue</ref>)));</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;n&quot;</highlight><highlight class="normal">,<sp/>(<ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref>)i));</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>o;</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="rpcrawtransaction_8cpp_1acb6efc0d76394e3858fe7451148069c2" kindref="member">ScriptPubKeyToJSON</ref>(txout.<ref refid="class_c_tx_out_1a25bf3f2f4befb22a6a0be45784fe57e2" kindref="member">scriptPubKey</ref>,<sp/>o,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;scriptPubKey&quot;</highlight><highlight class="normal">,<sp/>o));</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vout.push_back(out);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;vout&quot;</highlight><highlight class="normal">,<sp/>vout));</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hashBlock<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;blockhash&quot;</highlight><highlight class="normal">,<sp/>hashBlock.<ref refid="classbase__uint_1ac9929c28600796a9acf75881bb750576" kindref="member">GetHex</ref>()));</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map&lt;uint256,<sp/>CBlockIndex*&gt;::iterator<sp/>mi<sp/>=<sp/><ref refid="chain_8h_1a9d5aa0c4581116d898ff51357a0df059" kindref="member">mapBlockIndex</ref>.find(hashBlock);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mi<sp/>!=<sp/><ref refid="chain_8h_1a9d5aa0c4581116d898ff51357a0df059" kindref="member">mapBlockIndex</ref>.end()<sp/>&amp;&amp;<sp/>(*mi).second)</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex<sp/>=<sp/>(*mi).second;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pindex-&gt;<ref refid="class_c_block_index_1ae75f87263a196d250cc2bf10d70aa510" kindref="member">IsInMainChain</ref>())</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;confirmations&quot;</highlight><highlight class="normal">,<sp/>1<sp/>+<sp/><ref refid="main_8cpp_1a843f1984796a7e44a9e23fccd6a8af34" kindref="member">nBestHeight</ref><sp/>-<sp/>pindex-&gt;<ref refid="class_c_block_index_1aebfc8d6b95852546760e742553d7bfd5" kindref="member">nHeight</ref>));</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;time&quot;</highlight><highlight class="normal">,<sp/>(<ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref>)pindex-&gt;<ref refid="class_c_block_index_1a4b687a226e9e166b0f91c1b616b543a6" kindref="member">nTime</ref>));</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;blocktime&quot;</highlight><highlight class="normal">,<sp/>(<ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref>)pindex-&gt;<ref refid="class_c_block_index_1a4b687a226e9e166b0f91c1b616b543a6" kindref="member">nTime</ref>));</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;confirmations&quot;</highlight><highlight class="normal">,<sp/>0));</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="109"><highlight class="normal">}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111" refid="rpcrawtransaction_8cpp_1a12e1b8a05d99d1544e5343c2282cc55a" refkind="member"><highlight class="normal"><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/><ref refid="rpcrawtransaction_8cpp_1a12e1b8a05d99d1544e5343c2282cc55a" kindref="member">getrawtransaction</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref>&amp;<sp/>params,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fHelp)</highlight></codeline>
<codeline lineno="112"><highlight class="normal">{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fHelp<sp/>||<sp/>params.size()<sp/>&lt;<sp/>1<sp/>||<sp/>params.size()<sp/>&gt;<sp/>2)</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>runtime_error(</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;getrawtransaction<sp/>&lt;txid&gt;<sp/>[verbose=0]\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;If<sp/>verbose=0,<sp/>returns<sp/>a<sp/>string<sp/>that<sp/>is\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;serialized,<sp/>hex-encoded<sp/>data<sp/>for<sp/>&lt;txid&gt;.\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;If<sp/>verbose<sp/>is<sp/>non-zero,<sp/>returns<sp/>an<sp/>Object\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;with<sp/>information<sp/>about<sp/>&lt;txid&gt;.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/><ref refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" kindref="member">hash</ref>;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>hash.<ref refid="classbase__uint_1ade1a897fac931f28f54998c92c797228" kindref="member">SetHex</ref>(params[0].<ref refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" kindref="member">get_str</ref>());</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fVerbose<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fVerbose<sp/>=<sp/>(params[1].get_int()<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref><sp/>tx;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>hashBlock<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="main_8cpp_1a7d2a4633e4e0e8e4cb9c881d45a496b5" kindref="member">GetTransaction</ref>(hash,<sp/>tx,<sp/>hashBlock))</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" kindref="member">RPC_INVALID_ADDRESS_OR_KEY</ref>,<sp/></highlight><highlight class="stringliteral">&quot;No<sp/>information<sp/>available<sp/>about<sp/>transaction&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/>ssTx(<ref refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" kindref="member">SER_NETWORK</ref>,<sp/>PROTOCOL_VERSION);</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>ssTx<sp/>&lt;&lt;<sp/>tx;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>strHex<sp/>=<sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(ssTx.<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/>ssTx.<ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>());</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fVerbose)</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>strHex;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>result;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>result.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;hex&quot;</highlight><highlight class="normal">,<sp/>strHex));</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcrawtransaction_8cpp_1a366b04dae2aae86eee356cc85d759268" kindref="member">TxToJSON</ref>(tx,<sp/>hashBlock,<sp/>result);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="144"><highlight class="normal">}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ENABLE_WALLET</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/><ref refid="rpcserver_8h_1ac4ab7a74b8720a653d697eeba2a10650" kindref="member">listunspent</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref>&amp;<sp/>params,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fHelp)</highlight></codeline>
<codeline lineno="148"><highlight class="normal">{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fHelp<sp/>||<sp/>params.size()<sp/>&gt;<sp/>3)</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>runtime_error(</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;listunspent<sp/>[minconf=1]<sp/>[maxconf=9999999]<sp/><sp/>[\&quot;address\&quot;,...]\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Returns<sp/>array<sp/>of<sp/>unspent<sp/>transaction<sp/>outputs\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;with<sp/>between<sp/>minconf<sp/>and<sp/>maxconf<sp/>(inclusive)<sp/>confirmations.\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Optionally<sp/>filtered<sp/>to<sp/>only<sp/>include<sp/>txouts<sp/>paid<sp/>to<sp/>specified<sp/>addresses.\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Results<sp/>are<sp/>an<sp/>array<sp/>of<sp/>Objects,<sp/>each<sp/>of<sp/>which<sp/>has:\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;{txid,<sp/>vout,<sp/>scriptPubKey,<sp/>amount,<sp/>confirmations}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" kindref="member">RPCTypeCheck</ref>(params,<sp/>list_of(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa2975b4fc32d1b1c74976404c7064294" kindref="member">int_type</ref>)(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa2975b4fc32d1b1c74976404c7064294" kindref="member">int_type</ref>)(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a8a173a0de09f9f4e59c89abe4a965504" kindref="member">array_type</ref>));</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nMinDepth<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nMinDepth<sp/>=<sp/>params[0].get_int();</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nMaxDepth<sp/>=<sp/>9999999;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nMaxDepth<sp/>=<sp/>params[1].get_int();</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>set&lt;CDarkSilkAddress&gt;<sp/>setAddress;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>2)</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>inputs<sp/>=<sp/>params[2].get_array();</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BOOST_FOREACH(<ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref>&amp;<sp/>input,<sp/>inputs)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_dark_silk_address" kindref="compound">CDarkSilkAddress</ref><sp/>address(input.<ref refid="classjson__spirit_1_1_value__impl_1a0e02b3a4e65ae45f069ee938fee40f80" kindref="member">get_str</ref>());</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!address.IsValid())</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" kindref="member">RPC_INVALID_ADDRESS_OR_KEY</ref>,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>DarkSilk<sp/>address:<sp/>&quot;</highlight><highlight class="normal">)+input.<ref refid="classjson__spirit_1_1_value__impl_1a0e02b3a4e65ae45f069ee938fee40f80" kindref="member">get_str</ref>());</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(setAddress.count(address))</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" kindref="member">RPC_INVALID_PARAMETER</ref>,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>parameter,<sp/>duplicated<sp/>address:<sp/>&quot;</highlight><highlight class="normal">)+input.<ref refid="classjson__spirit_1_1_value__impl_1a0e02b3a4e65ae45f069ee938fee40f80" kindref="member">get_str</ref>());</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setAddress.insert(address);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>results;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;COutput&gt;<sp/>vecOutputs;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="darksilkgui_8cpp_1a8c747077ad84071cba8b87f34fe38920" kindref="member">pwalletMain</ref><sp/>!=<sp/>NULL);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="darksilkgui_8cpp_1a8c747077ad84071cba8b87f34fe38920" kindref="member">pwalletMain</ref>-&gt;<ref refid="class_c_wallet_1ad165e7a24c95ff9a5816933d7ca23c9b" kindref="member">AvailableCoins</ref>(vecOutputs,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOST_FOREACH(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_output" kindref="compound">COutput</ref>&amp;<sp/>out,<sp/>vecOutputs)</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out.<ref refid="class_c_output_1a2eb24fc73c35fcc551b736d68bd1c64a" kindref="member">nDepth</ref><sp/>&lt;<sp/>nMinDepth<sp/>||<sp/>out.<ref refid="class_c_output_1a2eb24fc73c35fcc551b736d68bd1c64a" kindref="member">nDepth</ref><sp/>&gt;<sp/>nMaxDepth)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(setAddress.size())</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="keystore_8h_1a8f46ecba0ddeb036be6b58d6ed1909cd" kindref="member">CTxDestination</ref><sp/>address;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!<ref refid="script_8cpp_1a951f7e601746ae076afdf3169ecca2fc" kindref="member">ExtractDestination</ref>(out.<ref refid="class_c_output_1ad5c15e7a2dc48258127b8fd5db421ad5" kindref="member">tx</ref>-&gt;<ref refid="class_c_transaction_1ae42c0032a464c3054c508017c7d040ef" kindref="member">vout</ref>[out.<ref refid="class_c_output_1ae1b3534a41afb09bb04a499017f2821e" kindref="member">i</ref>].scriptPubKey,<sp/>address))</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!setAddress.count(address))</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref><sp/>nValue<sp/>=<sp/>out.<ref refid="class_c_output_1ad5c15e7a2dc48258127b8fd5db421ad5" kindref="member">tx</ref>-&gt;<ref refid="class_c_transaction_1ae42c0032a464c3054c508017c7d040ef" kindref="member">vout</ref>[out.<ref refid="class_c_output_1ae1b3534a41afb09bb04a499017f2821e" kindref="member">i</ref>].nValue;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_script" kindref="compound">CScript</ref>&amp;<sp/>pk<sp/>=<sp/>out.<ref refid="class_c_output_1ad5c15e7a2dc48258127b8fd5db421ad5" kindref="member">tx</ref>-&gt;<ref refid="class_c_transaction_1ae42c0032a464c3054c508017c7d040ef" kindref="member">vout</ref>[out.<ref refid="class_c_output_1ae1b3534a41afb09bb04a499017f2821e" kindref="member">i</ref>].scriptPubKey;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>entry;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;txid&quot;</highlight><highlight class="normal">,<sp/>out.<ref refid="class_c_output_1ad5c15e7a2dc48258127b8fd5db421ad5" kindref="member">tx</ref>-&gt;<ref refid="class_c_transaction_1a3f8666d2a275c40da14bd5eaf47dc004" kindref="member">GetHash</ref>().<ref refid="classbase__uint_1ac9929c28600796a9acf75881bb750576" kindref="member">GetHex</ref>()));</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;vout&quot;</highlight><highlight class="normal">,<sp/>out.<ref refid="class_c_output_1ae1b3534a41afb09bb04a499017f2821e" kindref="member">i</ref>));</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="keystore_8h_1a8f46ecba0ddeb036be6b58d6ed1909cd" kindref="member">CTxDestination</ref><sp/>address;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="script_8cpp_1a951f7e601746ae076afdf3169ecca2fc" kindref="member">ExtractDestination</ref>(out.<ref refid="class_c_output_1ad5c15e7a2dc48258127b8fd5db421ad5" kindref="member">tx</ref>-&gt;<ref refid="class_c_transaction_1ae42c0032a464c3054c508017c7d040ef" kindref="member">vout</ref>[out.<ref refid="class_c_output_1ae1b3534a41afb09bb04a499017f2821e" kindref="member">i</ref>].scriptPubKey,<sp/>address))</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;address&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_dark_silk_address" kindref="compound">CDarkSilkAddress</ref>(address).ToString()));</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="darksilkgui_8cpp_1a8c747077ad84071cba8b87f34fe38920" kindref="member">pwalletMain</ref>-&gt;<ref refid="class_c_wallet_1afed31f2489c987e0f76233121ed84ab7" kindref="member">mapAddressBook</ref>.count(address))</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="structjson__spirit_1_1_pair__impl" kindref="compound">Pair</ref>(</highlight><highlight class="stringliteral">&quot;account&quot;</highlight><highlight class="normal">,<sp/><ref refid="darksilkgui_8cpp_1a8c747077ad84071cba8b87f34fe38920" kindref="member">pwalletMain</ref>-&gt;<ref refid="class_c_wallet_1afed31f2489c987e0f76233121ed84ab7" kindref="member">mapAddressBook</ref>[address]));</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;scriptPubKey&quot;</highlight><highlight class="normal">,<sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(pk.begin(),<sp/>pk.end())));</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pk.<ref refid="class_c_script_1acba6d6d35776de4ce3a632446f44805f" kindref="member">IsPayToScriptHash</ref>())</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="keystore_8h_1a8f46ecba0ddeb036be6b58d6ed1909cd" kindref="member">CTxDestination</ref><sp/>address;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="script_8cpp_1a951f7e601746ae076afdf3169ecca2fc" kindref="member">ExtractDestination</ref>(pk,<sp/>address))</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_script_i_d" kindref="compound">CScriptID</ref>&amp;<sp/><ref refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" kindref="member">hash</ref><sp/>=<sp/>boost::get&lt;CScriptID&gt;(address);</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_script" kindref="compound">CScript</ref><sp/>redeemScript;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="darksilkgui_8cpp_1a8c747077ad84071cba8b87f34fe38920" kindref="member">pwalletMain</ref>-&gt;<ref refid="class_c_basic_key_store_1aa7b10f974cfdc078f55fdb6adf8774a5" kindref="member">GetCScript</ref>(hash,<sp/>redeemScript))</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="structjson__spirit_1_1_pair__impl" kindref="compound">Pair</ref>(</highlight><highlight class="stringliteral">&quot;redeemScript&quot;</highlight><highlight class="normal">,<sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(redeemScript.begin(),<sp/>redeemScript.end())));</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;amount&quot;</highlight><highlight class="normal">,<ref refid="rpcserver_8cpp_1a0655c28ea826ddeb21e8079b6a0beb9e" kindref="member">ValueFromAmount</ref>(nValue)));</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;confirmations&quot;</highlight><highlight class="normal">,out.<ref refid="class_c_output_1a2eb24fc73c35fcc551b736d68bd1c64a" kindref="member">nDepth</ref>));</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;spendable&quot;</highlight><highlight class="normal">,<sp/>out.<ref refid="class_c_output_1ab8fa647313fbc2cda12f8b064031dd11" kindref="member">fSpendable</ref>));</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>results.push_back(entry);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>results;</highlight></codeline>
<codeline lineno="233"><highlight class="normal">}</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236" refid="rpcrawtransaction_8cpp_1a7924d2aa3d68d890b82773445e0d949e" refkind="member"><highlight class="normal"><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/><ref refid="rpcrawtransaction_8cpp_1a7924d2aa3d68d890b82773445e0d949e" kindref="member">createrawtransaction</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref>&amp;<sp/>params,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fHelp)</highlight></codeline>
<codeline lineno="237"><highlight class="normal">{</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fHelp<sp/>||<sp/>params.size()<sp/>!=<sp/>2)</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>runtime_error(</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;createrawtransaction<sp/>[{\&quot;txid\&quot;:txid,\&quot;vout\&quot;:n},...]<sp/>{address:amount,...}\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Create<sp/>a<sp/>transaction<sp/>spending<sp/>given<sp/>inputs\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;(array<sp/>of<sp/>objects<sp/>containing<sp/>transaction<sp/>id<sp/>and<sp/>output<sp/>number),\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;sending<sp/>to<sp/>given<sp/>address(es).\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Returns<sp/>hex-encoded<sp/>raw<sp/>transaction.\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Note<sp/>that<sp/>the<sp/>transaction&apos;s<sp/>inputs<sp/>are<sp/>not<sp/>signed,<sp/>and\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;it<sp/>is<sp/>not<sp/>stored<sp/>in<sp/>the<sp/>wallet<sp/>or<sp/>transmitted<sp/>to<sp/>the<sp/>network.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" kindref="member">RPCTypeCheck</ref>(params,<sp/>list_of(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a8a173a0de09f9f4e59c89abe4a965504" kindref="member">array_type</ref>)(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a565d5d50b32d0e652d62aae12baef6b5" kindref="member">obj_type</ref>));</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>inputs<sp/>=<sp/>params[0].get_array();</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>sendTo<sp/>=<sp/>params[1].get_obj();</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_mutable_transaction" kindref="compound">CMutableTransaction</ref><sp/>rawTx;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOST_FOREACH(<ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref>&amp;<sp/>input,<sp/>inputs)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref>&amp;<sp/>o<sp/>=<sp/>input.<ref refid="classjson__spirit_1_1_value__impl_1a85bcead33b915d62f83bb95ad824da4f" kindref="member">get_obj</ref>();</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref>&amp;<sp/>txid_v<sp/>=<sp/><ref refid="namespacejson__spirit_1a74f681114641f2ca6250370280ee1089" kindref="member">find_value</ref>(o,<sp/></highlight><highlight class="stringliteral">&quot;txid&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(txid_v.<ref refid="classjson__spirit_1_1_value__impl_1a1ba338778c3415bf0c740e965790d439" kindref="member">type</ref>()<sp/>!=<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>)</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" kindref="member">RPC_INVALID_PARAMETER</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>parameter,<sp/>missing<sp/>txid<sp/>key&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>txid<sp/>=<sp/>txid_v.<ref refid="classjson__spirit_1_1_value__impl_1a0e02b3a4e65ae45f069ee938fee40f80" kindref="member">get_str</ref>();</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="util_8cpp_1aa4e3553d2b2fe693c106f4296685f75c" kindref="member">IsHex</ref>(txid))</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" kindref="member">RPC_INVALID_PARAMETER</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>parameter,<sp/>expected<sp/>hex<sp/>txid&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref>&amp;<sp/>vout_v<sp/>=<sp/><ref refid="namespacejson__spirit_1a74f681114641f2ca6250370280ee1089" kindref="member">find_value</ref>(o,<sp/></highlight><highlight class="stringliteral">&quot;vout&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(vout_v.<ref refid="classjson__spirit_1_1_value__impl_1a1ba338778c3415bf0c740e965790d439" kindref="member">type</ref>()<sp/>!=<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa2975b4fc32d1b1c74976404c7064294" kindref="member">int_type</ref>)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" kindref="member">RPC_INVALID_PARAMETER</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>parameter,<sp/>missing<sp/>vout<sp/>key&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nOutput<sp/>=<sp/>vout_v.<ref refid="classjson__spirit_1_1_value__impl_1ad437ac0c465adaeefda05eef57a99248" kindref="member">get_int</ref>();</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nOutput<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" kindref="member">RPC_INVALID_PARAMETER</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>parameter,<sp/>vout<sp/>must<sp/>be<sp/>positive&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_tx_in" kindref="compound">CTxIn</ref><sp/>in(<ref refid="class_c_out_point" kindref="compound">COutPoint</ref>(<ref refid="classuint256" kindref="compound">uint256</ref>(txid),<sp/>nOutput));</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rawTx.<ref refid="struct_c_mutable_transaction_1ad6b1a0a773293fd153a1d384923631da" kindref="member">vin</ref>.push_back(in);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>set&lt;CDarkSilkAddress&gt;<sp/>setAddress;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOST_FOREACH(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structjson__spirit_1_1_pair__impl" kindref="compound">Pair</ref>&amp;<sp/>s,<sp/>sendTo)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_dark_silk_address" kindref="compound">CDarkSilkAddress</ref><sp/>address(s.<ref refid="structjson__spirit_1_1_pair__impl_1ac39e926ac119e19889bdc44958a707da" kindref="member">name_</ref>);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!address.<ref refid="class_c_dark_silk_address_1ab98113189d0746ea660447efe3700103" kindref="member">IsValid</ref>())</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" kindref="member">RPC_INVALID_ADDRESS_OR_KEY</ref>,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>DarkSilk<sp/>address:<sp/>&quot;</highlight><highlight class="normal">)+s.<ref refid="structjson__spirit_1_1_pair__impl_1ac39e926ac119e19889bdc44958a707da" kindref="member">name_</ref>);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(setAddress.count(address))</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" kindref="member">RPC_INVALID_PARAMETER</ref>,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>parameter,<sp/>duplicated<sp/>address:<sp/>&quot;</highlight><highlight class="normal">)+s.<ref refid="structjson__spirit_1_1_pair__impl_1ac39e926ac119e19889bdc44958a707da" kindref="member">name_</ref>);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setAddress.insert(address);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_script" kindref="compound">CScript</ref><sp/>scriptPubKey;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scriptPubKey.<ref refid="class_c_script_1ad1b5a9077241aa06116040c4f1b7c31e" kindref="member">SetDestination</ref>(address.<ref refid="class_c_dark_silk_address_1a907e63758c7914a246b5807f6babf97d" kindref="member">Get</ref>());</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="amount_8h_1a4eaf3a5239714d8c45b851527f7cb564" kindref="member">CAmount</ref><sp/>nAmount<sp/>=<sp/><ref refid="rpcserver_8cpp_1a848a8074b8c630442ccdd556a0f38a51" kindref="member">AmountFromValue</ref>(s.<ref refid="structjson__spirit_1_1_pair__impl_1aa669eda030541a05d8736db0839925e1" kindref="member">value_</ref>);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_tx_out" kindref="compound">CTxOut</ref><sp/>out(nAmount,<sp/>scriptPubKey);</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rawTx.<ref refid="struct_c_mutable_transaction_1aca14a252c78e4af2dfe68d7ea67a77dc" kindref="member">vout</ref>.push_back(out);</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/>ss(<ref refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" kindref="member">SER_NETWORK</ref>,<sp/>PROTOCOL_VERSION);</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>ss<sp/>&lt;&lt;<sp/>rawTx;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(ss.<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/>ss.<ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>());</highlight></codeline>
<codeline lineno="299"><highlight class="normal">}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301" refid="rpcrawtransaction_8cpp_1a6775c600b1bfdbb22f38e5f1cd27cfea" refkind="member"><highlight class="normal"><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/><ref refid="rpcrawtransaction_8cpp_1a6775c600b1bfdbb22f38e5f1cd27cfea" kindref="member">decoderawtransaction</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref>&amp;<sp/>params,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fHelp)</highlight></codeline>
<codeline lineno="302"><highlight class="normal">{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fHelp<sp/>||<sp/>params.size()<sp/>!=<sp/>1)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>runtime_error(</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;decoderawtransaction<sp/>&lt;hex<sp/>string&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Return<sp/>a<sp/>JSON<sp/>object<sp/>representing<sp/>the<sp/>serialized,<sp/>hex-encoded<sp/>transaction.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" kindref="member">RPCTypeCheck</ref>(params,<sp/>list_of(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>));</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;unsigned<sp/>char&gt;<sp/>txData(<ref refid="util_8cpp_1abea395175fbc4a788ed0f0a41710b8a7" kindref="member">ParseHex</ref>(params[0].<ref refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" kindref="member">get_str</ref>()));</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/>ssData(txData,<sp/><ref refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" kindref="member">SER_NETWORK</ref>,<sp/>PROTOCOL_VERSION);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref><sp/>tx;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ssData<sp/>&gt;&gt;<sp/>tx;</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(std::exception<sp/>&amp;e)<sp/>{</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;TX<sp/>decode<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>result;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcrawtransaction_8cpp_1a366b04dae2aae86eee356cc85d759268" kindref="member">TxToJSON</ref>(tx,<sp/>0,<sp/>result);</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="324"><highlight class="normal">}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326" refid="rpcrawtransaction_8cpp_1a342172992e2fa92490e8d83c2e95e87e" refkind="member"><highlight class="normal"><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/><ref refid="rpcrawtransaction_8cpp_1a342172992e2fa92490e8d83c2e95e87e" kindref="member">decodescript</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref>&amp;<sp/>params,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fHelp)</highlight></codeline>
<codeline lineno="327"><highlight class="normal">{</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fHelp<sp/>||<sp/>params.size()<sp/>!=<sp/>1)</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>runtime_error(</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;decodescript<sp/>&lt;hex<sp/>string&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Decode<sp/>a<sp/>hex-encoded<sp/>script.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" kindref="member">RPCTypeCheck</ref>(params,<sp/>list_of(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>));</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>r;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_script" kindref="compound">CScript</ref><sp/>script;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params[0].<ref refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" kindref="member">get_str</ref>().size()<sp/>&gt;<sp/>0){</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vector&lt;unsigned<sp/>char&gt;<sp/>scriptData(<ref refid="rpcserver_8cpp_1a6912ee7b40ffee24ad6d599b3667d4c8" kindref="member">ParseHexV</ref>(params[0],<sp/></highlight><highlight class="stringliteral">&quot;argument&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>script<sp/>=<sp/><ref refid="class_c_script" kindref="compound">CScript</ref>(scriptData.begin(),<sp/>scriptData.end());</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Empty<sp/>scripts<sp/>are<sp/>valid</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcrawtransaction_8cpp_1acb6efc0d76394e3858fe7451148069c2" kindref="member">ScriptPubKeyToJSON</ref>(script,<sp/>r,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>r.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;p2sh&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_dark_silk_address" kindref="compound">CDarkSilkAddress</ref>(script.<ref refid="class_c_script_1a59fd961e1b74202a0951a077b576c0ba" kindref="member">GetID</ref>()).ToString()));</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>r;</highlight></codeline>
<codeline lineno="347"><highlight class="normal">}</highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349" refid="rpcrawtransaction_8cpp_1aa0d151e35c0ad5ec82df451a833aeadb" refkind="member"><highlight class="normal"><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/><ref refid="rpcrawtransaction_8cpp_1aa0d151e35c0ad5ec82df451a833aeadb" kindref="member">signrawtransaction</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref>&amp;<sp/>params,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fHelp)</highlight></codeline>
<codeline lineno="350"><highlight class="normal">{</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fHelp<sp/>||<sp/>params.size()<sp/>&lt;<sp/>1<sp/>||<sp/>params.size()<sp/>&gt;<sp/>4)</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>runtime_error(</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;signrawtransaction<sp/>&lt;hex<sp/>string&gt;<sp/>[{\&quot;txid\&quot;:txid,\&quot;vout\&quot;:n,\&quot;scriptPubKey\&quot;:hex,\&quot;redeemScript\&quot;:hex},...]<sp/>[&lt;privatekey1&gt;,...]<sp/>[sighashtype=\&quot;ALL\&quot;]\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Sign<sp/>inputs<sp/>for<sp/>raw<sp/>transaction<sp/>(serialized,<sp/>hex-encoded).\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Second<sp/>optional<sp/>argument<sp/>(may<sp/>be<sp/>null)<sp/>is<sp/>an<sp/>array<sp/>of<sp/>previous<sp/>transaction<sp/>outputs<sp/>that\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;this<sp/>transaction<sp/>depends<sp/>on<sp/>but<sp/>may<sp/>not<sp/>yet<sp/>be<sp/>in<sp/>the<sp/>blockchain.\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Third<sp/>optional<sp/>argument<sp/>(may<sp/>be<sp/>null)<sp/>is<sp/>an<sp/>array<sp/>of<sp/>base58-encoded<sp/>private\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;keys<sp/>that,<sp/>if<sp/>given,<sp/>will<sp/>be<sp/>the<sp/>only<sp/>keys<sp/>used<sp/>to<sp/>sign<sp/>the<sp/>transaction.\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Fourth<sp/>optional<sp/>argument<sp/>is<sp/>a<sp/>string<sp/>that<sp/>is<sp/>one<sp/>of<sp/>six<sp/>values;<sp/>ALL,<sp/>NONE,<sp/>SINGLE<sp/>or\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ALL|ANYONECANPAY,<sp/>NONE|ANYONECANPAY,<sp/>SINGLE|ANYONECANPAY.\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Returns<sp/>json<sp/>object<sp/>with<sp/>keys:\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>hex<sp/>:<sp/>raw<sp/>transaction<sp/>with<sp/>signature(s)<sp/>(hex-encoded<sp/>string)\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>complete<sp/>:<sp/>1<sp/>if<sp/>transaction<sp/>has<sp/>a<sp/>complete<sp/>set<sp/>of<sp/>signature<sp/>(0<sp/>if<sp/>not)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal">#ifdef<sp/>ENABLE_WALLET</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/><ref refid="rpcserver_8h_1abcfbb0ad9335791f2832c01209b8f12d" kindref="member">HelpRequiringPassphrase</ref>()</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" kindref="member">RPCTypeCheck</ref>(params,<sp/>list_of(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>)(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a8a173a0de09f9f4e59c89abe4a965504" kindref="member">array_type</ref>)(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a8a173a0de09f9f4e59c89abe4a965504" kindref="member">array_type</ref>)(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>),<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;unsigned<sp/>char&gt;<sp/>txData(<ref refid="util_8cpp_1abea395175fbc4a788ed0f0a41710b8a7" kindref="member">ParseHex</ref>(params[0].<ref refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" kindref="member">get_str</ref>()));</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/>ssData(txData,<sp/><ref refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" kindref="member">SER_NETWORK</ref>,<sp/>PROTOCOL_VERSION);</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;CMutableTransaction&gt;<sp/>txVariants;</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!ssData.<ref refid="class_c_data_stream_1a6e50e788d33080ac804e4d8ba7150279" kindref="member">empty</ref>())</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_c_mutable_transaction" kindref="compound">CMutableTransaction</ref><sp/>tx;</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ssData<sp/>&gt;&gt;<sp/>tx;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>txVariants.push_back(tx);</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(std::exception<sp/>&amp;e)<sp/>{</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;TX<sp/>decode<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(txVariants.empty())</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Missing<sp/>transaction&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>mergedTx<sp/>will<sp/>end<sp/>up<sp/>with<sp/>all<sp/>the<sp/>signatures;<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>starts<sp/>as<sp/>a<sp/>clone<sp/>of<sp/>the<sp/>rawtx:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_c_mutable_transaction" kindref="compound">CMutableTransaction</ref><sp/>mergedTx(txVariants[0]);</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fComplete<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Fetch<sp/>previous<sp/>transactions<sp/>(inputs):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/>map&lt;COutPoint,<sp/>CScript&gt;<sp/>mapPrevOut;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>mergedTx.<ref refid="struct_c_mutable_transaction_1ad6b1a0a773293fd153a1d384923631da" kindref="member">vin</ref>.size();<sp/>i++)</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref><sp/>tempTx;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="main_8h_1a05bae354566c88f7dca5ad13aaf8b30f" kindref="member">MapPrevTx</ref><sp/>mapPrevTx;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_tx_d_b" kindref="compound">CTxDB</ref><sp/><ref refid="txdb-leveldb_8cpp_1a72eff8ae1d84de13daf97a61b8c02bc6" kindref="member">txdb</ref>(</highlight><highlight class="stringliteral">&quot;r&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map&lt;uint256,<sp/>CTxIndex&gt;<sp/>unused;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fInvalid;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>FetchInputs<sp/>aborts<sp/>on<sp/>failure,<sp/>so<sp/>we<sp/>go<sp/>one<sp/>at<sp/>a<sp/>time.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_transaction_po_s" kindref="compound">CTransactionPoS</ref><sp/>txPoS;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempTx.<ref refid="class_c_transaction_1a53fa787e4ea57374b4fa2a28e9a957b2" kindref="member">vin</ref>.push_back(mergedTx.<ref refid="struct_c_mutable_transaction_1ad6b1a0a773293fd153a1d384923631da" kindref="member">vin</ref>[i]);</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>txPoS.<ref refid="class_c_transaction_po_s_1a20a028e06f505f03a0d30a7f186d9489" kindref="member">FetchInputs</ref>(tempTx,<sp/>txdb,<sp/>unused,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>mapPrevTx,<sp/>fInvalid);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Copy<sp/>results<sp/>into<sp/>mapPrevOut:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BOOST_FOREACH(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_tx_in" kindref="compound">CTxIn</ref>&amp;<sp/>txin,<sp/>tempTx.<ref refid="class_c_transaction_1a53fa787e4ea57374b4fa2a28e9a957b2" kindref="member">vin</ref>)</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classuint256" kindref="compound">uint256</ref>&amp;<sp/>prevHash<sp/>=<sp/>txin.<ref refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" kindref="member">prevout</ref>.<ref refid="class_c_out_point_1af131c7194a660558b0ff158f4efa7a28" kindref="member">hash</ref>;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mapPrevTx.count(prevHash)<sp/>&amp;&amp;<sp/>mapPrevTx[prevHash].second.vout.size()&gt;txin.<ref refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" kindref="member">prevout</ref>.<ref refid="class_c_out_point_1a9fbc648ca0d11421ad66e897185a9b58" kindref="member">n</ref>)</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mapPrevOut[txin.<ref refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" kindref="member">prevout</ref>]<sp/>=<sp/>mapPrevTx[prevHash].second.vout[txin.<ref refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" kindref="member">prevout</ref>.<ref refid="class_c_out_point_1a9fbc648ca0d11421ad66e897185a9b58" kindref="member">n</ref>].scriptPubKey;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fGivenKeys<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_basic_key_store" kindref="compound">CBasicKeyStore</ref><sp/>tempKeystore;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>2<sp/>&amp;&amp;<sp/>params[2].type()<sp/>!=<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a38ef470443cb345064758efff2e303fc" kindref="member">null_type</ref>)</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fGivenKeys<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>keys<sp/>=<sp/>params[2].get_array();</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BOOST_FOREACH(<ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/>k,<sp/>keys)</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_dark_silk_secret" kindref="compound">CDarkSilkSecret</ref><sp/>vchSecret;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fGood<sp/>=<sp/>vchSecret.<ref refid="class_c_dark_silk_secret_1a06075192fb631c3b406a6ca231d2f926" kindref="member">SetString</ref>(k.<ref refid="classjson__spirit_1_1_value__impl_1a0e02b3a4e65ae45f069ee938fee40f80" kindref="member">get_str</ref>());</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fGood)</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" kindref="member">RPC_INVALID_ADDRESS_OR_KEY</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>private<sp/>key&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_key" kindref="compound">CKey</ref><sp/>key<sp/>=<sp/>vchSecret.<ref refid="class_c_dark_silk_secret_1af7b026d90efb897f6e592ce424c8d2c9" kindref="member">GetKey</ref>();</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempKeystore.<ref refid="class_c_key_store_1a0b4ca43724cfcc6e2ea70c0baa192750" kindref="member">AddKey</ref>(key);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>ENABLE_WALLET</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="rpcdump_8cpp_1a8f837f6d506b9719cef93188db00fd3c" kindref="member">EnsureWalletIsUnlocked</ref>();</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>previous<sp/>txouts<sp/>given<sp/>in<sp/>the<sp/>RPC<sp/>call:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>1<sp/>&amp;&amp;<sp/>params[1].type()<sp/>!=<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a38ef470443cb345064758efff2e303fc" kindref="member">null_type</ref>)</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>prevTxs<sp/>=<sp/>params[1].get_array();</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BOOST_FOREACH(<ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref>&amp;<sp/>p,<sp/>prevTxs)</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p.<ref refid="classjson__spirit_1_1_value__impl_1a1ba338778c3415bf0c740e965790d439" kindref="member">type</ref>()<sp/>!=<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a565d5d50b32d0e652d62aae12baef6b5" kindref="member">obj_type</ref>)</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;expected<sp/>object<sp/>with<sp/>{\&quot;txid&apos;\&quot;,\&quot;vout\&quot;,\&quot;scriptPubKey\&quot;}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>prevOut<sp/>=<sp/>p.<ref refid="classjson__spirit_1_1_value__impl_1a85bcead33b915d62f83bb95ad824da4f" kindref="member">get_obj</ref>();</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" kindref="member">RPCTypeCheck</ref>(prevOut,<sp/>map_list_of(</highlight><highlight class="stringliteral">&quot;txid&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>)(</highlight><highlight class="stringliteral">&quot;vout&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa2975b4fc32d1b1c74976404c7064294" kindref="member">int_type</ref>)(</highlight><highlight class="stringliteral">&quot;scriptPubKey&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>));</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>txidHex<sp/>=<sp/><ref refid="namespacejson__spirit_1a74f681114641f2ca6250370280ee1089" kindref="member">find_value</ref>(prevOut,<sp/></highlight><highlight class="stringliteral">&quot;txid&quot;</highlight><highlight class="normal">).get_str();</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="util_8cpp_1aa4e3553d2b2fe693c106f4296685f75c" kindref="member">IsHex</ref>(txidHex))</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;txid<sp/>must<sp/>be<sp/>hexadecimal&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>txid;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>txid.<ref refid="classbase__uint_1ade1a897fac931f28f54998c92c797228" kindref="member">SetHex</ref>(txidHex);</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nOut<sp/>=<sp/><ref refid="namespacejson__spirit_1a74f681114641f2ca6250370280ee1089" kindref="member">find_value</ref>(prevOut,<sp/></highlight><highlight class="stringliteral">&quot;vout&quot;</highlight><highlight class="normal">).get_int();</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nOut<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;vout<sp/>must<sp/>be<sp/>positive&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>pkHex<sp/>=<sp/><ref refid="namespacejson__spirit_1a74f681114641f2ca6250370280ee1089" kindref="member">find_value</ref>(prevOut,<sp/></highlight><highlight class="stringliteral">&quot;scriptPubKey&quot;</highlight><highlight class="normal">).get_str();</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="util_8cpp_1aa4e3553d2b2fe693c106f4296685f75c" kindref="member">IsHex</ref>(pkHex))</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;scriptPubKey<sp/>must<sp/>be<sp/>hexadecimal&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vector&lt;unsigned<sp/>char&gt;<sp/>pkData(<ref refid="util_8cpp_1abea395175fbc4a788ed0f0a41710b8a7" kindref="member">ParseHex</ref>(pkHex));</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_script" kindref="compound">CScript</ref><sp/>scriptPubKey(pkData.begin(),<sp/>pkData.end());</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_out_point" kindref="compound">COutPoint</ref><sp/>outpoint(txid,<sp/>nOut);</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mapPrevOut.count(outpoint))</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Complain<sp/>if<sp/>scriptPubKey<sp/>doesn&apos;t<sp/>match</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mapPrevOut[outpoint]<sp/>!=<sp/>scriptPubKey)</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>err(</highlight><highlight class="stringliteral">&quot;Previous<sp/>output<sp/>scriptPubKey<sp/>mismatch:\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>err<sp/>=<sp/>err<sp/>+<sp/>mapPrevOut[outpoint].ToString()<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;\nvs:\n&quot;</highlight><highlight class="normal">+</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scriptPubKey.ToString();</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/>err);</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mapPrevOut[outpoint]<sp/>=<sp/>scriptPubKey;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>redeemScript<sp/>given<sp/>and<sp/>not<sp/>using<sp/>the<sp/>local<sp/>wallet<sp/>(private<sp/>keys</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>given),<sp/>add<sp/>redeemScript<sp/>to<sp/>the<sp/>tempKeystore<sp/>so<sp/>it<sp/>can<sp/>be<sp/>signed:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fGivenKeys<sp/>&amp;&amp;<sp/>scriptPubKey.IsPayToScriptHash())</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" kindref="member">RPCTypeCheck</ref>(prevOut,<sp/>map_list_of(</highlight><highlight class="stringliteral">&quot;txid&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>)(</highlight><highlight class="stringliteral">&quot;vout&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa2975b4fc32d1b1c74976404c7064294" kindref="member">int_type</ref>)(</highlight><highlight class="stringliteral">&quot;scriptPubKey&quot;</highlight><highlight class="normal">,<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>)(</highlight><highlight class="stringliteral">&quot;redeemScript&quot;</highlight><highlight class="normal">,<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>));</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/>v<sp/>=<sp/><ref refid="namespacejson__spirit_1a74f681114641f2ca6250370280ee1089" kindref="member">find_value</ref>(prevOut,<sp/></highlight><highlight class="stringliteral">&quot;redeemScript&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(v<sp/>==<sp/>Value::null))</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vector&lt;unsigned<sp/>char&gt;<sp/>rsData(<ref refid="rpcserver_8cpp_1a6912ee7b40ffee24ad6d599b3667d4c8" kindref="member">ParseHexV</ref>(v,<sp/></highlight><highlight class="stringliteral">&quot;redeemScript&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_script" kindref="compound">CScript</ref><sp/>redeemScript(rsData.begin(),<sp/>rsData.end());</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempKeystore.<ref refid="class_c_basic_key_store_1a56249ce3540398999cd397eeb662e836" kindref="member">AddCScript</ref>(redeemScript);</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>3<sp/>&amp;&amp;<sp/>params[3].type()<sp/>!=<sp/><ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74a38ef470443cb345064758efff2e303fc" kindref="member">null_type</ref>)</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>map&lt;string,<sp/>int&gt;<sp/>mapSigHashValues<sp/>=</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>boost::assign::map_list_of</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;ALL&quot;</highlight><highlight class="normal">),<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">(<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fceac68c7df6528b3001624e56b2de3826de" kindref="member">SIGHASH_ALL</ref>))</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(string(</highlight><highlight class="stringliteral">&quot;ALL|ANYONECANPAY&quot;</highlight><highlight class="normal">),<sp/>int(<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fceac68c7df6528b3001624e56b2de3826de" kindref="member">SIGHASH_ALL</ref>|<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fcea9412c721b741fe9be1e3247dc390a4d2" kindref="member">SIGHASH_ANYONECANPAY</ref>))</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;NONE&quot;</highlight><highlight class="normal">),<sp/>int(<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fceacaba9b1f029a1628196345fce5667f6f" kindref="member">SIGHASH_NONE</ref>))</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;NONE|ANYONECANPAY&quot;</highlight><highlight class="normal">),<sp/>int(<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fceacaba9b1f029a1628196345fce5667f6f" kindref="member">SIGHASH_NONE</ref>|<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fcea9412c721b741fe9be1e3247dc390a4d2" kindref="member">SIGHASH_ANYONECANPAY</ref>))</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;SINGLE&quot;</highlight><highlight class="normal">),<sp/>int(<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fcead9bb96e76cf9f1b6ebbf50373f4f9ca5" kindref="member">SIGHASH_SINGLE</ref>))</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;SINGLE|ANYONECANPAY&quot;</highlight><highlight class="normal">),<sp/>int(<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fcead9bb96e76cf9f1b6ebbf50373f4f9ca5" kindref="member">SIGHASH_SINGLE</ref>|<ref refid="script_8h_1aaf105ae5beaca1dee30ae54530691fcea9412c721b741fe9be1e3247dc390a4d2" kindref="member">SIGHASH_ANYONECANPAY</ref>))</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>;</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>strHashType<sp/>=<sp/>params[3].get_str();</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mapSigHashValues.count(strHashType))</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//int<sp/>nHashType<sp/>=<sp/>SIGHASH_ALL;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mapSigHashValues[strHashType];</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadab38a9a653209a57acfc9a551c310e4dc" kindref="member">RPC_INVALID_PARAMETER</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>sighash<sp/>param&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Sign<sp/>what<sp/>we<sp/>can:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>mergedTx.<ref refid="struct_c_mutable_transaction_1ad6b1a0a773293fd153a1d384923631da" kindref="member">vin</ref>.size();<sp/>i++)</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_tx_in" kindref="compound">CTxIn</ref>&amp;<sp/>txin<sp/>=<sp/>mergedTx.<ref refid="struct_c_mutable_transaction_1ad6b1a0a773293fd153a1d384923631da" kindref="member">vin</ref>[i];</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mapPrevOut.count(txin.<ref refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" kindref="member">prevout</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fComplete<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_script" kindref="compound">CScript</ref>&amp;<sp/>prevPubKey<sp/>=<sp/>mapPrevOut[txin.<ref refid="class_c_tx_in_1aed9312051a25380cbd7f123408ab7c20" kindref="member">prevout</ref>];</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref>.<ref refid="class_c_script_1a7b2baf842621f07c4939408acf63377c" kindref="member">clear</ref>();</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Only<sp/>sign<sp/>SIGHASH_SINGLE<sp/>if<sp/>there&apos;s<sp/>a<sp/>corresponding<sp/>output:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//bool<sp/>fHashSingle<sp/>=<sp/>((nHashType<sp/>&amp;<sp/>~SIGHASH_ANYONECANPAY)<sp/>==<sp/>SIGHASH_SINGLE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(!fHashSingle<sp/>||<sp/>(i<sp/>&lt;<sp/>mergedTx.vout.size()))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>SignSignature(keystore,<sp/>prevPubKey,<sp/>mergedTx,<sp/>i,<sp/>nHashType);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>...<sp/>and<sp/>merge<sp/>in<sp/>other<sp/>signatures:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BOOST_FOREACH(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_c_mutable_transaction" kindref="compound">CMutableTransaction</ref>&amp;<sp/>txv,<sp/>txVariants)</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref><sp/>=<sp/><ref refid="script_8cpp_1af2e061fe8f5ec7708f28db4628ff5c10" kindref="member">CombineSignatures</ref>(prevPubKey,<sp/>mergedTx,<sp/>i,<sp/>txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref>,<sp/>txv.<ref refid="struct_c_mutable_transaction_1ad6b1a0a773293fd153a1d384923631da" kindref="member">vin</ref>[i].scriptSig);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="script_8cpp_1a995f521b6ca4a8bfbd02d4cfe226feb6" kindref="member">VerifyScript</ref>(txin.<ref refid="class_c_tx_in_1aba540fd902366210a6ad6cd9a18fe763" kindref="member">scriptSig</ref>,<sp/>prevPubKey,<sp/>mergedTx,<sp/>i,<sp/>STANDARD_SCRIPT_VERIFY_FLAGS,<sp/>0))</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fComplete<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>result;</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/>ssTx(<ref refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" kindref="member">SER_NETWORK</ref>,<sp/>PROTOCOL_VERSION);</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/>ssTx<sp/>&lt;&lt;<sp/>mergedTx;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/>result.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;hex&quot;</highlight><highlight class="normal">,<sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(ssTx.<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/>ssTx.<ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>())));</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/>result.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;complete&quot;</highlight><highlight class="normal">,<sp/>fComplete));</highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="555"><highlight class="normal">}</highlight></codeline>
<codeline lineno="556"><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"></highlight></codeline>
<codeline lineno="558" refid="rpcrawtransaction_8cpp_1ad5aad44f890060f42efb49acf349511e" refkind="member"><highlight class="normal"><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/><ref refid="rpcrawtransaction_8cpp_1ad5aad44f890060f42efb49acf349511e" kindref="member">sendrawtransaction</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref>&amp;<sp/>params,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fHelp)</highlight></codeline>
<codeline lineno="559"><highlight class="normal">{</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fHelp<sp/>||<sp/>params.size()<sp/>&lt;<sp/>1<sp/>||<sp/>params.size()<sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>runtime_error(</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;sendrawtransaction<sp/>&lt;hex<sp/>string&gt;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Submits<sp/>raw<sp/>transaction<sp/>(serialized,<sp/>hex-encoded)<sp/>to<sp/>local<sp/>node<sp/>and<sp/>network.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="rpcserver_8cpp_1a6f9782b3c0efdb472b355c60bd90f2b6" kindref="member">RPCTypeCheck</ref>(params,<sp/>list_of(<ref refid="namespacejson__spirit_1aeaad57c912e0370a76f60cd510ad3d74aa7f3c0ef07c91049418fc6ac24ff1c1f" kindref="member">str_type</ref>));</highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>hex<sp/>string<sp/>from<sp/>parameter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;unsigned<sp/>char&gt;<sp/>txData(<ref refid="util_8cpp_1abea395175fbc4a788ed0f0a41710b8a7" kindref="member">ParseHex</ref>(params[0].<ref refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" kindref="member">get_str</ref>()));</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/>ssData(txData,<sp/><ref refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" kindref="member">SER_NETWORK</ref>,<sp/>PROTOCOL_VERSION);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref><sp/>tx;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>deserialize<sp/>binary<sp/>data<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ssData<sp/>&gt;&gt;<sp/>tx;</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(std::exception<sp/>&amp;e)<sp/>{</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;TX<sp/>decode<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>hashTx<sp/>=<sp/>tx.<ref refid="class_c_transaction_1a3f8666d2a275c40da14bd5eaf47dc004" kindref="member">GetHash</ref>();</highlight></codeline>
<codeline lineno="580"><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>See<sp/>if<sp/>the<sp/>transaction<sp/>is<sp/>already<sp/>in<sp/>a<sp/>block</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>or<sp/>in<sp/>the<sp/>memory<sp/>pool:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref><sp/>existingTx;</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>hashBlock<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="main_8cpp_1a7d2a4633e4e0e8e4cb9c881d45a496b5" kindref="member">GetTransaction</ref>(hashTx,<sp/>existingTx,<sp/>hashBlock))</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hashBlock<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" kindref="member">RPC_INVALID_ADDRESS_OR_KEY</ref>,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">&quot;transaction<sp/>already<sp/>in<sp/>block<sp/>&quot;</highlight><highlight class="normal">)+hashBlock.<ref refid="classbase__uint_1ac9929c28600796a9acf75881bb750576" kindref="member">GetHex</ref>());</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Not<sp/>in<sp/>block,<sp/>but<sp/>already<sp/>in<sp/>the<sp/>memory<sp/>pool;<sp/>will<sp/>drop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>through<sp/>to<sp/>re-relay<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>push<sp/>to<sp/>local<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_validation_state" kindref="compound">CValidationState</ref><sp/><ref refid="db__test_8cc_1a42432b4356adce5579ccf597f6e83e54" kindref="member">state</ref>;</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="main_8cpp_1ad73f7fbd48c12a894b914e6a51940c64" kindref="member">AcceptToMemoryPool</ref>(<ref refid="main_8cpp_1a52890038ef379d29a1a8f3bd20dbe088" kindref="member">mempool</ref>,<sp/>state,<sp/>tx,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>NULL))</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadae41723a0e8091c7853a1e582e317b272" kindref="member">RPC_DESERIALIZATION_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;TX<sp/>rejected&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="net_8cpp_1abe329205a15b55df86608f5f1964bdb1" kindref="member">RelayTransaction</ref>(tx,<sp/>hashTx);</highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>hashTx.<ref refid="classbase__uint_1ac9929c28600796a9acf75881bb750576" kindref="member">GetHex</ref>();</highlight></codeline>
<codeline lineno="602"><highlight class="normal">}</highlight></codeline>
<codeline lineno="603"><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="605" refid="rpcrawtransaction_8cpp_1ae119520f4c7a75fcaf31fbfaf8dff482" refkind="member"><highlight class="normal"><ref refid="classjson__spirit_1_1_value__impl" kindref="compound">Value</ref><sp/><ref refid="rpcrawtransaction_8cpp_1ae119520f4c7a75fcaf31fbfaf8dff482" kindref="member">searchrawtransactions</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>&amp;params,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fHelp)</highlight></codeline>
<codeline lineno="606"><highlight class="normal">{</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fHelp<sp/>||<sp/>params.size()<sp/>&lt;<sp/>1<sp/>||<sp/>params.size()<sp/>&gt;<sp/>4)</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>runtime_error(</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;searchrawtransactions<sp/>&lt;address&gt;<sp/>[verbose=1]<sp/>[skip=0]<sp/>[count=100]\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_dark_silk_address" kindref="compound">CDarkSilkAddress</ref><sp/>address(params[0].<ref refid="namespacejson__spirit_1acdef70e45909522ba51a74b68e186b25" kindref="member">get_str</ref>());</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!address.<ref refid="class_c_dark_silk_address_1ab98113189d0746ea660447efe3700103" kindref="member">IsValid</ref>())</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadafb8d27e000f4a668b66974c73256a576" kindref="member">RPC_INVALID_ADDRESS_OR_KEY</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>DarkSilk<sp/>address&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="keystore_8h_1a8f46ecba0ddeb036be6b58d6ed1909cd" kindref="member">CTxDestination</ref><sp/>dest<sp/>=<sp/>address.<ref refid="class_c_dark_silk_address_1a907e63758c7914a246b5807f6babf97d" kindref="member">Get</ref>();</highlight></codeline>
<codeline lineno="615"><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;uint256&gt;<sp/>vtxhash;</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="main_8cpp_1aca9eb09c80679cf7c85926f83c353075" kindref="member">FindTransactionsByDestination</ref>(dest,<sp/>vtxhash))</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/><ref refid="rpcprotocol_8cpp_1a17b1bb111ab339efc951929834766039" kindref="member">JSONRPCError</ref>(<ref refid="rpcprotocol_8h_1af867221d51315471f28ed8cdac85deadadcfa95f6aca9c3a474fffac8c8ab1dd1" kindref="member">RPC_DATABASE_ERROR</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Cannot<sp/>search<sp/>for<sp/>address&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nSkip<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nCount<sp/>=<sp/>100;</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fVerbose<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fVerbose<sp/>=<sp/>(params[1].get_int()<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>2)</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nSkip<sp/>=<sp/>params[2].get_int();</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(params.size()<sp/>&gt;<sp/>3)</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nCount<sp/>=<sp/>params[3].get_int();</highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nSkip<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nSkip<sp/>+=<sp/>vtxhash.size();</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nSkip<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nSkip<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nCount<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;uint256&gt;::const_iterator<sp/>it<sp/>=<sp/>vtxhash.begin();</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(it<sp/>!=<sp/>vtxhash.end()<sp/>&amp;&amp;<sp/>nSkip--)<sp/>it++;</highlight></codeline>
<codeline lineno="639"><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aee299e52bda3816039a53210cbbfea1a" kindref="member">Array</ref><sp/>result;</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(it<sp/>!=<sp/>vtxhash.end()<sp/>&amp;&amp;<sp/>nCount--)<sp/>{</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_transaction" kindref="compound">CTransaction</ref><sp/>tx;</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>hashBlock;</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="main_8cpp_1a7d2a4633e4e0e8e4cb9c881d45a496b5" kindref="member">GetTransaction</ref>(*it,<sp/>tx,<sp/>hashBlock))</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>throw<sp/>JSONRPCError(RPC_DESERIALIZATION_ERROR,<sp/>&quot;Cannot<sp/>read<sp/>transaction<sp/>from<sp/>disk&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>obj;</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obj.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;ERROR&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Cannot<sp/>read<sp/>transaction<sp/>from<sp/>disk&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.push_back(obj);</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="653"><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/>ssTx(<ref refid="serialize_8h_1a6b7b47dd702d9e331586d485013fd1eaa652754eeaf79fba4fcf4c18597a6961c" kindref="member">SER_NETWORK</ref>,<sp/>PROTOCOL_VERSION);</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ssTx<sp/>&lt;&lt;<sp/>tx;</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>strHex<sp/>=<sp/><ref refid="util_8h_1ace13a819ca4e98c22847d26b3b357e75" kindref="member">HexStr</ref>(ssTx.<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/>ssTx.<ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>());</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fVerbose)<sp/>{</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacejson__spirit_1aa1e2c4032be0d25e7b42eb17115dabb2" kindref="member">Object</ref><sp/>object;</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="rpcrawtransaction_8cpp_1a366b04dae2aae86eee356cc85d759268" kindref="member">TxToJSON</ref>(tx,<sp/>hashBlock,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal">.push_back(<ref refid="namespacejson__spirit_1a7200dfb0c24dea92f37dfd20c1a354c1" kindref="member">Pair</ref>(</highlight><highlight class="stringliteral">&quot;hex&quot;</highlight><highlight class="normal">,<sp/>strHex));</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.push_back(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.push_back(strHex);</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it++;</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="670"><highlight class="normal">}</highlight></codeline>
<codeline lineno="671"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/home/dev/ds-160209/src/rpcrawtransaction.cpp"/>
  </compounddef>
</doxygen>
