<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.9.1">
  <compounddef id="snapshot_8h" kind="file" language="C++">
    <compoundname>snapshot.h</compoundname>
    <includes refid="leveldb_2include_2leveldb_2db_8h" local="yes">leveldb/db.h</includes>
    <includedby refid="db__impl_8h" local="yes">/home/dev/ds-160209/src/leveldb/db/db_impl.h</includedby>
    <incdepgraph>
      <node id="7497">
        <label>assert.h</label>
      </node>
      <node id="7502">
        <label>leveldb/options.h</label>
        <link refid="options_8h"/>
        <childnode refid="7498" relation="include">
        </childnode>
      </node>
      <node id="7492">
        <label>leveldb/db.h</label>
        <link refid="leveldb_2include_2leveldb_2db_8h"/>
        <childnode refid="7493" relation="include">
        </childnode>
        <childnode refid="7494" relation="include">
        </childnode>
        <childnode refid="7495" relation="include">
        </childnode>
        <childnode refid="7502" relation="include">
        </childnode>
      </node>
      <node id="7500">
        <label>string</label>
      </node>
      <node id="7498">
        <label>stddef.h</label>
      </node>
      <node id="7501">
        <label>leveldb/status.h</label>
        <link refid="status_8h"/>
        <childnode refid="7500" relation="include">
        </childnode>
        <childnode refid="7496" relation="include">
        </childnode>
      </node>
      <node id="7499">
        <label>string.h</label>
      </node>
      <node id="7493">
        <label>stdint.h</label>
        <link refid="stdint_8h"/>
      </node>
      <node id="7491">
        <label>/home/dev/ds-160209/src/leveldb/db/snapshot.h</label>
        <link refid="snapshot.h"/>
        <childnode refid="7492" relation="include">
        </childnode>
      </node>
      <node id="7496">
        <label>leveldb/slice.h</label>
        <link refid="slice_8h"/>
        <childnode refid="7497" relation="include">
        </childnode>
        <childnode refid="7498" relation="include">
        </childnode>
        <childnode refid="7499" relation="include">
        </childnode>
        <childnode refid="7500" relation="include">
        </childnode>
      </node>
      <node id="7494">
        <label>stdio.h</label>
      </node>
      <node id="7495">
        <label>leveldb/iterator.h</label>
        <link refid="iterator_8h"/>
        <childnode refid="7496" relation="include">
        </childnode>
        <childnode refid="7501" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="7508">
        <label>/home/dev/ds-160209/src/leveldb/db/db_impl.cc</label>
        <link refid="db__impl_8cc"/>
      </node>
      <node id="7507">
        <label>/home/dev/ds-160209/src/leveldb/db/db_bench.cc</label>
        <link refid="db__bench_8cc"/>
      </node>
      <node id="7511">
        <label>/home/dev/ds-160209/src/leveldb/db/repair.cc</label>
        <link refid="repair_8cc"/>
      </node>
      <node id="7504">
        <label>/home/dev/ds-160209/src/leveldb/db/db_impl.h</label>
        <link refid="db__impl_8h"/>
        <childnode refid="7505" relation="include">
        </childnode>
        <childnode refid="7506" relation="include">
        </childnode>
        <childnode refid="7507" relation="include">
        </childnode>
        <childnode refid="7508" relation="include">
        </childnode>
        <childnode refid="7509" relation="include">
        </childnode>
        <childnode refid="7510" relation="include">
        </childnode>
        <childnode refid="7511" relation="include">
        </childnode>
        <childnode refid="7512" relation="include">
        </childnode>
      </node>
      <node id="7509">
        <label>/home/dev/ds-160209/src/leveldb/db/db_iter.cc</label>
        <link refid="db__iter_8cc"/>
      </node>
      <node id="7505">
        <label>/home/dev/ds-160209/src/leveldb/db/autocompact_test.cc</label>
        <link refid="autocompact__test_8cc"/>
      </node>
      <node id="7512">
        <label>/home/dev/ds-160209/src/leveldb/helpers/memenv/memenv_test.cc</label>
        <link refid="memenv__test_8cc"/>
      </node>
      <node id="7503">
        <label>/home/dev/ds-160209/src/leveldb/db/snapshot.h</label>
        <link refid="snapshot.h"/>
        <childnode refid="7504" relation="include">
        </childnode>
      </node>
      <node id="7510">
        <label>/home/dev/ds-160209/src/leveldb/db/db_test.cc</label>
        <link refid="db__test_8cc"/>
      </node>
      <node id="7506">
        <label>/home/dev/ds-160209/src/leveldb/db/corruption_test.cc</label>
        <link refid="corruption__test_8cc"/>
      </node>
    </invincdepgraph>
    <innerclass refid="classleveldb_1_1_snapshot_impl" prot="public">leveldb::SnapshotImpl</innerclass>
    <innerclass refid="classleveldb_1_1_snapshot_list" prot="public">leveldb::SnapshotList</innerclass>
    <innernamespace refid="namespaceleveldb">leveldb</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2011-2016<sp/>The<sp/>LevelDB<sp/>Authors.<sp/>All<sp/>rights<sp/>reserved.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Use<sp/>of<sp/>this<sp/>source<sp/>code<sp/>is<sp/>governed<sp/>by<sp/>a<sp/>BSD-style<sp/>license<sp/>that<sp/>can<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>found<sp/>in<sp/>the<sp/>LICENSE<sp/>file.<sp/>See<sp/>the<sp/>AUTHORS<sp/>file<sp/>for<sp/>names<sp/>of<sp/>contributors.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>STORAGE_LEVELDB_DB_SNAPSHOT_H_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>STORAGE_LEVELDB_DB_SNAPSHOT_H_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="leveldb_2include_2leveldb_2db_8h" kindref="compound">leveldb/db.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceleveldb" kindref="compound">leveldb</ref><sp/>{</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">SnapshotList;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Snapshots<sp/>are<sp/>kept<sp/>in<sp/>a<sp/>doubly-linked<sp/>list<sp/>in<sp/>the<sp/>DB.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Each<sp/>SnapshotImpl<sp/>corresponds<sp/>to<sp/>a<sp/>particular<sp/>sequence<sp/>number.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16" refid="classleveldb_1_1_snapshot_impl" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classleveldb_1_1_snapshot" kindref="compound">Snapshot</ref><sp/>{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="18" refid="classleveldb_1_1_snapshot_impl_1aa31dca969679d05d17c4c0eb1443a96e" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="namespaceleveldb_1a5481ededd221c36d652c371249f869fa" kindref="member">SequenceNumber</ref><sp/><ref refid="classleveldb_1_1_snapshot_impl_1aa31dca969679d05d17c4c0eb1443a96e" kindref="member">number_</ref>;<sp/><sp/></highlight><highlight class="comment">//<sp/>const<sp/>after<sp/>creation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="21" refid="classleveldb_1_1_snapshot_impl_1abe14b2fb5e32159324c619e1a42327a0" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classleveldb_1_1_snapshot_list" kindref="compound">SnapshotList</ref>;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>SnapshotImpl<sp/>is<sp/>kept<sp/>in<sp/>a<sp/>doubly-linked<sp/>circular<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref>*<sp/>prev_;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref>*<sp/>next_;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><ref refid="classleveldb_1_1_snapshot_list" kindref="compound">SnapshotList</ref>*<sp/><ref refid="cache_8cc_1a2d97c9d385cbc36b0cb8e560f68f23ea" kindref="member">list_</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>just<sp/>for<sp/>sanity<sp/>checks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal">};</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="classleveldb_1_1_snapshot_list" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classleveldb_1_1_snapshot_list" kindref="compound">SnapshotList</ref><sp/>{</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="32" refid="classleveldb_1_1_snapshot_list_1a8e312959c2c2e2e64e9bb7eaca2459ae" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classleveldb_1_1_snapshot_list_1a8e312959c2c2e2e64e9bb7eaca2459ae" kindref="member">SnapshotList</ref>()<sp/>{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>list_.prev_<sp/>=<sp/>&amp;list_;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>list_.next_<sp/>=<sp/>&amp;list_;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="classleveldb_1_1_snapshot_list_1a27da501f33ea4aff4bb13c3443f98f70" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classleveldb_1_1_snapshot_list_1a27da501f33ea4aff4bb13c3443f98f70" kindref="member">empty</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>list_.next_<sp/>==<sp/>&amp;list_;<sp/>}</highlight></codeline>
<codeline lineno="38" refid="classleveldb_1_1_snapshot_list_1ad5990de13c4afa6877f8f3c641d8e72d" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref>*<sp/><ref refid="classleveldb_1_1_snapshot_list_1ad5990de13c4afa6877f8f3c641d8e72d" kindref="member">oldest</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/>assert(!<ref refid="classleveldb_1_1_snapshot_list_1a27da501f33ea4aff4bb13c3443f98f70" kindref="member">empty</ref>());<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>list_.next_;<sp/>}</highlight></codeline>
<codeline lineno="39" refid="classleveldb_1_1_snapshot_list_1a783918fabc82113d6ffb014ce67395dc" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref>*<sp/><ref refid="classleveldb_1_1_snapshot_list_1a783918fabc82113d6ffb014ce67395dc" kindref="member">newest</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/>assert(!<ref refid="classleveldb_1_1_snapshot_list_1a27da501f33ea4aff4bb13c3443f98f70" kindref="member">empty</ref>());<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>list_.prev_;<sp/>}</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="classleveldb_1_1_snapshot_list_1adfd5d9c7cb888e711d83a48299141994" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref>*<sp/><ref refid="classleveldb_1_1_snapshot_list_1adfd5d9c7cb888e711d83a48299141994" kindref="member">New</ref>(<ref refid="namespaceleveldb_1a5481ededd221c36d652c371249f869fa" kindref="member">SequenceNumber</ref><sp/>seq)<sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref>*<sp/>s<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref>;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>s-&gt;<ref refid="classleveldb_1_1_snapshot_impl_1aa31dca969679d05d17c4c0eb1443a96e" kindref="member">number_</ref><sp/>=<sp/>seq;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>s-&gt;list_<sp/>=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>s-&gt;next_<sp/>=<sp/>&amp;list_;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>s-&gt;prev_<sp/>=<sp/>list_.prev_;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>s-&gt;prev_-&gt;next_<sp/>=<sp/>s;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>s-&gt;next_-&gt;prev_<sp/>=<sp/>s;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52" refid="classleveldb_1_1_snapshot_list_1aa16863f35b8bb6dbc44f4528fab6790a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classleveldb_1_1_snapshot_list_1aa16863f35b8bb6dbc44f4528fab6790a" kindref="member">Delete</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref>*<sp/>s)<sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(s-&gt;list_<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>s-&gt;prev_-&gt;next_<sp/>=<sp/>s-&gt;next_;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>s-&gt;next_-&gt;prev_<sp/>=<sp/>s-&gt;prev_;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Dummy<sp/>head<sp/>of<sp/>doubly-linked<sp/>list<sp/>of<sp/>snapshots</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><ref refid="classleveldb_1_1_snapshot_impl" kindref="compound">SnapshotImpl</ref><sp/>list_;</highlight></codeline>
<codeline lineno="62"><highlight class="normal">};</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal">}<sp/><sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>leveldb</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/><sp/>//<sp/>STORAGE_LEVELDB_DB_SNAPSHOT_H_</highlight></codeline>
    </programlisting>
    <location file="/home/dev/ds-160209/src/leveldb/db/snapshot.h"/>
  </compounddef>
</doxygen>
