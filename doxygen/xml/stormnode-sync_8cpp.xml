<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.9.1">
  <compounddef id="stormnode-sync_8cpp" kind="file" language="C++">
    <compoundname>stormnode-sync.cpp</compoundname>
    <includes refid="stormnode-sync_8h" local="yes">stormnode-sync.h</includes>
    <includes refid="activestormnode_8h" local="yes">activestormnode.h</includes>
    <includes refid="stormnode-budget_8h" local="yes">stormnode-budget.h</includes>
    <includes refid="stormnode-payments_8h" local="yes">stormnode-payments.h</includes>
    <includes refid="stormnode_8h" local="yes">stormnode.h</includes>
    <includes refid="stormnodeman_8h" local="yes">stormnodeman.h</includes>
    <includes refid="spork_8h" local="yes">spork.h</includes>
    <includes refid="util_8h" local="yes">util.h</includes>
    <includes refid="addrman_8h" local="yes">addrman.h</includes>
    <incdepgraph>
      <node id="53971">
        <label>list</label>
      </node>
      <node id="53925">
        <label>boost/thread/mutex.hpp</label>
      </node>
      <node id="54005">
        <label>leveldb/write_batch.h</label>
        <link refid="write__batch_8h"/>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="54003" relation="include">
        </childnode>
      </node>
      <node id="54019">
        <label>netinet/in.h</label>
      </node>
      <node id="53957">
        <label>amount.h</label>
        <link refid="amount_8h"/>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53922" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
      </node>
      <node id="54012">
        <label>arpa/inet.h</label>
      </node>
      <node id="53989">
        <label>boost/thread/condition_variable.hpp</label>
      </node>
      <node id="53941">
        <label>limits</label>
      </node>
      <node id="54042">
        <label>init.h</label>
        <link refid="init_8h"/>
      </node>
      <node id="53950">
        <label>crypto/sha256.h</label>
        <link refid="sha256_8h"/>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53922" relation="include">
        </childnode>
      </node>
      <node id="54041">
        <label>stormnode-budget.h</label>
        <link refid="stormnode-budget_8h"/>
        <childnode refid="53954" relation="include">
        </childnode>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="54008" relation="include">
        </childnode>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="54030" relation="include">
        </childnode>
        <childnode refid="54029" relation="include">
        </childnode>
        <childnode refid="54031" relation="include">
        </childnode>
        <childnode refid="54042" relation="include">
        </childnode>
      </node>
      <node id="53956">
        <label>primitives/transaction.h</label>
        <link refid="transaction_8h"/>
        <childnode refid="53957" relation="include">
        </childnode>
        <childnode refid="53932" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53958" relation="include">
        </childnode>
        <childnode refid="53959" relation="include">
        </childnode>
        <childnode refid="53986" relation="include">
        </childnode>
        <childnode refid="53984" relation="include">
        </childnode>
      </node>
      <node id="53951">
        <label>crypto/argon2/blake2/blake2.h</label>
        <link refid="blake2_8h"/>
        <childnode refid="53952" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53928" relation="include">
        </childnode>
      </node>
      <node id="53959">
        <label>script.h</label>
        <link refid="script_8h"/>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53960" relation="include">
        </childnode>
        <childnode refid="53961" relation="include">
        </childnode>
        <childnode refid="53930" relation="include">
        </childnode>
        <childnode refid="53962" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="53983" relation="include">
        </childnode>
      </node>
      <node id="53982">
        <label>openssl/rand.h</label>
      </node>
      <node id="54034">
        <label>walletdb.h</label>
        <link refid="walletdb_8h"/>
        <childnode refid="54035" relation="include">
        </childnode>
        <childnode refid="54037" relation="include">
        </childnode>
        <childnode refid="53983" relation="include">
        </childnode>
        <childnode refid="53957" relation="include">
        </childnode>
        <childnode refid="53971" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53972" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="53944">
        <label>boost/tuple/tuple.hpp</label>
      </node>
      <node id="53933">
        <label>assert.h</label>
      </node>
      <node id="54018">
        <label>net/if.h</label>
      </node>
      <node id="54045">
        <label>sandstorm.h</label>
        <link refid="sandstorm_8h"/>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="54032" relation="include">
        </childnode>
        <childnode refid="54043" relation="include">
        </childnode>
      </node>
      <node id="53955">
        <label>txmempool.h</label>
        <link refid="txmempool_8h"/>
        <childnode refid="53956" relation="include">
        </childnode>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="53992" relation="include">
        </childnode>
        <childnode refid="53957" relation="include">
        </childnode>
        <childnode refid="54007" relation="include">
        </childnode>
      </node>
      <node id="53917">
        <label>stormnode-sync.h</label>
        <link refid="stormnode-sync_8h"/>
        <childnode refid="53918" relation="include">
        </childnode>
        <childnode refid="53954" relation="include">
        </childnode>
      </node>
      <node id="54031">
        <label>boost/lexical_cast.hpp</label>
      </node>
      <node id="54004">
        <label>leveldb/options.h</label>
        <link refid="options_8h"/>
        <childnode refid="53952" relation="include">
        </childnode>
      </node>
      <node id="53991">
        <label>boost/thread/recursive_mutex.hpp</label>
      </node>
      <node id="54030">
        <label>base58.h</label>
        <link refid="base58_8h"/>
        <childnode refid="54024" relation="include">
        </childnode>
        <childnode refid="53930" relation="include">
        </childnode>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="53959" relation="include">
        </childnode>
        <childnode refid="53920" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="53945">
        <label>version.h</label>
        <link refid="version_8h"/>
        <childnode refid="53946" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
      </node>
      <node id="53992">
        <label>coins.h</label>
        <link refid="coins_8h"/>
        <childnode refid="53993" relation="include">
        </childnode>
        <childnode refid="53955" relation="include">
        </childnode>
        <childnode refid="53933" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53960" relation="include">
        </childnode>
        <childnode refid="54006" relation="include">
        </childnode>
      </node>
      <node id="53927">
        <label>sys/mman.h</label>
      </node>
      <node id="53922">
        <label>stdlib.h</label>
      </node>
      <node id="54026">
        <label>chain.h</label>
        <link refid="chain_8h"/>
        <childnode refid="54027" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="54024" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53960" relation="include">
        </childnode>
      </node>
      <node id="53960">
        <label>boost/foreach.hpp</label>
      </node>
      <node id="53981">
        <label>openssl/crypto.h</label>
      </node>
      <node id="53918">
        <label>stormnode-payments.h</label>
        <link refid="stormnode-payments_8h"/>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="53954" relation="include">
        </childnode>
        <childnode refid="54029" relation="include">
        </childnode>
        <childnode refid="54031" relation="include">
        </childnode>
      </node>
      <node id="54015">
        <label>compat.h</label>
        <link refid="compat_8h"/>
        <childnode refid="54016" relation="include">
        </childnode>
        <childnode refid="53927" relation="include">
        </childnode>
        <childnode refid="54017" relation="include">
        </childnode>
        <childnode refid="53965" relation="include">
        </childnode>
        <childnode refid="54018" relation="include">
        </childnode>
        <childnode refid="54019" relation="include">
        </childnode>
        <childnode refid="54012" relation="include">
        </childnode>
        <childnode refid="54020" relation="include">
        </childnode>
        <childnode refid="53928" relation="include">
        </childnode>
        <childnode refid="54021" relation="include">
        </childnode>
        <childnode refid="53929" relation="include">
        </childnode>
        <childnode refid="54022" relation="include">
        </childnode>
      </node>
      <node id="53977">
        <label>boost/date_time/posix_time/posix_time_types.hpp</label>
      </node>
      <node id="53947">
        <label>openssl/sha.h</label>
      </node>
      <node id="54022">
        <label>errno.h</label>
      </node>
      <node id="53940">
        <label>cassert</label>
      </node>
      <node id="53935">
        <label>stdexcept</label>
      </node>
      <node id="53964">
        <label>util.h</label>
        <link refid="util_8h"/>
        <childnode refid="53965" relation="include">
        </childnode>
        <childnode refid="53966" relation="include">
        </childnode>
        <childnode refid="53967" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53968" relation="include">
        </childnode>
        <childnode refid="53957" relation="include">
        </childnode>
        <childnode refid="53926" relation="include">
        </childnode>
        <childnode refid="53971" relation="include">
        </childnode>
        <childnode refid="53972" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53973" relation="include">
        </childnode>
        <childnode refid="53974" relation="include">
        </childnode>
        <childnode refid="53975" relation="include">
        </childnode>
        <childnode refid="53976" relation="include">
        </childnode>
        <childnode refid="53977" relation="include">
        </childnode>
        <childnode refid="53978" relation="include">
        </childnode>
        <childnode refid="53979" relation="include">
        </childnode>
        <childnode refid="53980" relation="include">
        </childnode>
        <childnode refid="53981" relation="include">
        </childnode>
        <childnode refid="53982" relation="include">
        </childnode>
        <childnode refid="53963" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
      </node>
      <node id="54023">
        <label>protocol.h</label>
        <link refid="protocol_8h"/>
        <childnode refid="54024" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="54014" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
      </node>
      <node id="53976">
        <label>boost/date_time/gregorian/gregorian_types.hpp</label>
      </node>
      <node id="54000">
        <label>leveldb/db.h</label>
        <link refid="leveldb_2include_2leveldb_2db_8h"/>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53984" relation="include">
        </childnode>
        <childnode refid="54001" relation="include">
        </childnode>
        <childnode refid="54004" relation="include">
        </childnode>
      </node>
      <node id="53924">
        <label>string</label>
      </node>
      <node id="54033">
        <label>wallet.h</label>
        <link refid="wallet_8h"/>
        <childnode refid="54034" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53922" relation="include">
        </childnode>
        <childnode refid="54027" relation="include">
        </childnode>
        <childnode refid="53956" relation="include">
        </childnode>
        <childnode refid="54038" relation="include">
        </childnode>
        <childnode refid="53954" relation="include">
        </childnode>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="54037" relation="include">
        </childnode>
        <childnode refid="53959" relation="include">
        </childnode>
        <childnode refid="54039" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="53983" relation="include">
        </childnode>
      </node>
      <node id="54028">
        <label>scrypt.h</label>
        <link refid="scrypt_8h"/>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53922" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="54008" relation="include">
        </childnode>
      </node>
      <node id="53926">
        <label>map</label>
      </node>
      <node id="53973">
        <label>boost/thread.hpp</label>
      </node>
      <node id="53916">
        <label>/home/dev/ds-160209/src/stormnode-sync.cpp</label>
        <link refid="stormnode-sync.cpp"/>
        <childnode refid="53917" relation="include">
        </childnode>
        <childnode refid="54032" relation="include">
        </childnode>
        <childnode refid="54041" relation="include">
        </childnode>
        <childnode refid="53918" relation="include">
        </childnode>
        <childnode refid="54029" relation="include">
        </childnode>
        <childnode refid="54043" relation="include">
        </childnode>
        <childnode refid="54044" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="54025" relation="include">
        </childnode>
      </node>
      <node id="54025">
        <label>addrman.h</label>
        <link refid="addrman_8h"/>
        <childnode refid="54014" relation="include">
        </childnode>
        <childnode refid="54023" relation="include">
        </childnode>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="53986" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="53926" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="54029">
        <label>stormnode.h</label>
        <link refid="stormnode_8h"/>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="54008" relation="include">
        </childnode>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="54030" relation="include">
        </childnode>
        <childnode refid="53954" relation="include">
        </childnode>
        <childnode refid="53986" relation="include">
        </childnode>
      </node>
      <node id="54039">
        <label>ui_interface.h</label>
        <link refid="ui__interface_8h"/>
        <childnode refid="53957" relation="include">
        </childnode>
        <childnode refid="54040" relation="include">
        </childnode>
        <childnode refid="54011" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
      </node>
      <node id="53996">
        <label>leveldbwrapper.h</label>
        <link refid="leveldbwrapper_8h"/>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53997" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="53975" relation="include">
        </childnode>
        <childnode refid="54000" relation="include">
        </childnode>
        <childnode refid="54005" relation="include">
        </childnode>
      </node>
      <node id="53952">
        <label>stddef.h</label>
      </node>
      <node id="53961">
        <label>boost/variant.hpp</label>
      </node>
      <node id="54021">
        <label>netdb.h</label>
      </node>
      <node id="54016">
        <label>sys/fcntl.h</label>
      </node>
      <node id="53993">
        <label>undo.h</label>
        <link refid="undo_8h"/>
        <childnode refid="53994" relation="include">
        </childnode>
      </node>
      <node id="54003">
        <label>leveldb/status.h</label>
        <link refid="status_8h"/>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="54002" relation="include">
        </childnode>
      </node>
      <node id="54007">
        <label>boost/circular_buffer.hpp</label>
      </node>
      <node id="53938">
        <label>serialize.h</label>
        <link refid="serialize_8h"/>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53926" relation="include">
        </childnode>
        <childnode refid="53939" relation="include">
        </childnode>
        <childnode refid="53940" relation="include">
        </childnode>
        <childnode refid="53941" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53934" relation="include">
        </childnode>
        <childnode refid="53942" relation="include">
        </childnode>
        <childnode refid="53943" relation="include">
        </childnode>
        <childnode refid="53944" relation="include">
        </childnode>
        <childnode refid="53920" relation="include">
        </childnode>
        <childnode refid="53945" relation="include">
        </childnode>
      </node>
      <node id="53928">
        <label>limits.h</label>
      </node>
      <node id="53988">
        <label>threadsafety.h</label>
        <link refid="threadsafety_8h"/>
      </node>
      <node id="54013">
        <label>mruset.h</label>
        <link refid="mruset_8h"/>
        <childnode refid="53939" relation="include">
        </childnode>
        <childnode refid="54009" relation="include">
        </childnode>
      </node>
      <node id="53967">
        <label>sys/resource.h</label>
      </node>
      <node id="53978">
        <label>openssl/bio.h</label>
      </node>
      <node id="54038">
        <label>crypter.h</label>
        <link refid="crypter_8h"/>
        <childnode refid="53920" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="54037" relation="include">
        </childnode>
      </node>
      <node id="54011">
        <label>boost/signals2/signal.hpp</label>
      </node>
      <node id="54014">
        <label>netbase.h</label>
        <link refid="netbase_8h"/>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="54015" relation="include">
        </childnode>
      </node>
      <node id="54037">
        <label>keystore.h</label>
        <link refid="keystore_8h"/>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="53930" relation="include">
        </childnode>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="53959" relation="include">
        </childnode>
        <childnode refid="54011" relation="include">
        </childnode>
        <childnode refid="53961" relation="include">
        </childnode>
      </node>
      <node id="53931">
        <label>hash.h</label>
        <link refid="hash_8h"/>
        <childnode refid="53932" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53947" relation="include">
        </childnode>
        <childnode refid="53948" relation="include">
        </childnode>
        <childnode refid="53949" relation="include">
        </childnode>
        <childnode refid="53950" relation="include">
        </childnode>
        <childnode refid="53951" relation="include">
        </childnode>
        <childnode refid="53953" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="54020">
        <label>ifaddrs.h</label>
      </node>
      <node id="53983">
        <label>stealth.h</label>
        <link refid="stealth_8h"/>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53922" relation="include">
        </childnode>
        <childnode refid="53984" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53985" relation="include">
        </childnode>
      </node>
      <node id="53965">
        <label>sys/types.h</label>
      </node>
      <node id="53999">
        <label>ios</label>
      </node>
      <node id="53923">
        <label>string.h</label>
      </node>
      <node id="53946">
        <label>clientversion.h</label>
        <link refid="clientversion_8h"/>
      </node>
      <node id="53942">
        <label>cstdio</label>
      </node>
      <node id="53990">
        <label>boost/thread/locks.hpp</label>
      </node>
      <node id="53980">
        <label>openssl/buffer.h</label>
      </node>
      <node id="53943">
        <label>boost/type_traits/is_fundamental.hpp</label>
      </node>
      <node id="53954">
        <label>main.h</label>
        <link refid="main_8h"/>
        <childnode refid="53955" relation="include">
        </childnode>
        <childnode refid="54008" relation="include">
        </childnode>
        <childnode refid="53959" relation="include">
        </childnode>
        <childnode refid="53997" relation="include">
        </childnode>
        <childnode refid="53995" relation="include">
        </childnode>
        <childnode refid="54026" relation="include">
        </childnode>
        <childnode refid="53971" relation="include">
        </childnode>
        <childnode refid="54006" relation="include">
        </childnode>
      </node>
      <node id="53975">
        <label>boost/filesystem/path.hpp</label>
      </node>
      <node id="54043">
        <label>stormnodeman.h</label>
        <link refid="stormnodeman_8h"/>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="54008" relation="include">
        </childnode>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="54030" relation="include">
        </childnode>
        <childnode refid="53954" relation="include">
        </childnode>
        <childnode refid="54029" relation="include">
        </childnode>
      </node>
      <node id="54006">
        <label>boost/unordered_map.hpp</label>
      </node>
      <node id="53930">
        <label>pubkey.h</label>
        <link refid="pubkey_8h"/>
        <childnode refid="53931" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53932" relation="include">
        </childnode>
        <childnode refid="53935" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="53929">
        <label>unistd.h</label>
      </node>
      <node id="54036">
        <label>db_cxx.h</label>
      </node>
      <node id="53937">
        <label>vector</label>
      </node>
      <node id="53962">
        <label>bignum.h</label>
        <link refid="bignum_8h"/>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53932" relation="include">
        </childnode>
        <childnode refid="53963" relation="include">
        </childnode>
        <childnode refid="53935" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
      </node>
      <node id="54008">
        <label>net.h</label>
        <link refid="net_8h"/>
        <childnode refid="54009" relation="include">
        </childnode>
        <childnode refid="54010" relation="include">
        </childnode>
        <childnode refid="53960" relation="include">
        </childnode>
        <childnode refid="54011" relation="include">
        </childnode>
        <childnode refid="53982" relation="include">
        </childnode>
        <childnode refid="54012" relation="include">
        </childnode>
        <childnode refid="54013" relation="include">
        </childnode>
        <childnode refid="54014" relation="include">
        </childnode>
        <childnode refid="54023" relation="include">
        </childnode>
        <childnode refid="54025" relation="include">
        </childnode>
        <childnode refid="53931" relation="include">
        </childnode>
        <childnode refid="53997" relation="include">
        </childnode>
      </node>
      <node id="53948">
        <label>openssl/ripemd.h</label>
      </node>
      <node id="53974">
        <label>boost/filesystem.hpp</label>
      </node>
      <node id="53972">
        <label>utility</label>
      </node>
      <node id="53994">
        <label>compressor.h</label>
        <link refid="compressor_8h"/>
        <childnode refid="53956" relation="include">
        </childnode>
        <childnode refid="53995" relation="include">
        </childnode>
      </node>
      <node id="53970">
        <label>sstream</label>
      </node>
      <node id="54040">
        <label>boost/signals2/last_value.hpp</label>
      </node>
      <node id="53919">
        <label>key.h</label>
        <link refid="key_8h"/>
        <childnode refid="53920" relation="include">
        </childnode>
        <childnode refid="53930" relation="include">
        </childnode>
        <childnode refid="53935" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="53979">
        <label>openssl/evp.h</label>
      </node>
      <node id="53968">
        <label>tinyformat.h</label>
        <link refid="tinyformat_8h"/>
        <childnode refid="53940" relation="include">
        </childnode>
        <childnode refid="53969" relation="include">
        </childnode>
        <childnode refid="53970" relation="include">
        </childnode>
        <childnode refid="53935" relation="include">
        </childnode>
      </node>
      <node id="53936">
        <label>stdint.h</label>
        <link refid="stdint_8h"/>
      </node>
      <node id="54035">
        <label>db.h</label>
        <link refid="db_8h"/>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="53997" relation="include">
        </childnode>
        <childnode refid="53926" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
        <childnode refid="53975" relation="include">
        </childnode>
        <childnode refid="54036" relation="include">
        </childnode>
      </node>
      <node id="53997">
        <label>streams.h</label>
        <link refid="streams_8h"/>
        <childnode refid="53920" relation="include">
        </childnode>
        <childnode refid="53938" relation="include">
        </childnode>
        <childnode refid="53998" relation="include">
        </childnode>
        <childnode refid="53933" relation="include">
        </childnode>
        <childnode refid="53999" relation="include">
        </childnode>
        <childnode refid="53941" relation="include">
        </childnode>
        <childnode refid="53926" relation="include">
        </childnode>
        <childnode refid="53939" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53923" relation="include">
        </childnode>
        <childnode refid="53972" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="53953">
        <label>crypto/argon2/argon2.h</label>
        <link refid="argon2_8h"/>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53952" relation="include">
        </childnode>
        <childnode refid="53928" relation="include">
        </childnode>
      </node>
      <node id="54044">
        <label>spork.h</label>
        <link refid="spork_8h"/>
        <childnode refid="53962" relation="include">
        </childnode>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="54008" relation="include">
        </childnode>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="53964" relation="include">
        </childnode>
        <childnode refid="53959" relation="include">
        </childnode>
        <childnode refid="54030" relation="include">
        </childnode>
        <childnode refid="53954" relation="include">
        </childnode>
        <childnode refid="54023" relation="include">
        </childnode>
        <childnode refid="54045" relation="include">
        </childnode>
        <childnode refid="54031" relation="include">
        </childnode>
      </node>
      <node id="53966">
        <label>sys/time.h</label>
      </node>
      <node id="53969">
        <label>iostream</label>
      </node>
      <node id="54009">
        <label>deque</label>
      </node>
      <node id="53932">
        <label>uint256.h</label>
        <link refid="uint256_8h"/>
        <childnode refid="53933" relation="include">
        </childnode>
        <childnode refid="53934" relation="include">
        </childnode>
        <childnode refid="53935" relation="include">
        </childnode>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="54017">
        <label>sys/socket.h</label>
      </node>
      <node id="54002">
        <label>leveldb/slice.h</label>
        <link refid="slice_8h"/>
        <childnode refid="53933" relation="include">
        </childnode>
        <childnode refid="53952" relation="include">
        </childnode>
        <childnode refid="53923" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
      </node>
      <node id="54010">
        <label>boost/array.hpp</label>
      </node>
      <node id="53963">
        <label>openssl/bn.h</label>
      </node>
      <node id="53995">
        <label>txdb.h</label>
        <link refid="txdb_8h"/>
        <childnode refid="53996" relation="include">
        </childnode>
        <childnode refid="53954" relation="include">
        </childnode>
        <childnode refid="53926" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53972" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="53986">
        <label>timedata.h</label>
        <link refid="timedata_8h"/>
        <childnode refid="53936" relation="include">
        </childnode>
      </node>
      <node id="53920">
        <label>allocators.h</label>
        <link refid="allocators_8h"/>
        <childnode refid="53921" relation="include">
        </childnode>
        <childnode refid="53923" relation="include">
        </childnode>
        <childnode refid="53924" relation="include">
        </childnode>
        <childnode refid="53925" relation="include">
        </childnode>
        <childnode refid="53926" relation="include">
        </childnode>
        <childnode refid="53927" relation="include">
        </childnode>
        <childnode refid="53928" relation="include">
        </childnode>
        <childnode refid="53929" relation="include">
        </childnode>
      </node>
      <node id="54024">
        <label>chainparams.h</label>
        <link refid="chainparams_8h"/>
        <childnode refid="53962" relation="include">
        </childnode>
        <childnode refid="53932" relation="include">
        </childnode>
        <childnode refid="53937" relation="include">
        </childnode>
      </node>
      <node id="53939">
        <label>set</label>
      </node>
      <node id="53998">
        <label>algorithm</label>
      </node>
      <node id="54032">
        <label>activestormnode.h</label>
        <link refid="activestormnode_8h"/>
        <childnode refid="53987" relation="include">
        </childnode>
        <childnode refid="53919" relation="include">
        </childnode>
        <childnode refid="54033" relation="include">
        </childnode>
      </node>
      <node id="53949">
        <label>crypto/ripemd160.h</label>
        <link refid="ripemd160_8h"/>
        <childnode refid="53936" relation="include">
        </childnode>
        <childnode refid="53922" relation="include">
        </childnode>
      </node>
      <node id="53958">
        <label>util.h</label>
      </node>
      <node id="53984">
        <label>stdio.h</label>
      </node>
      <node id="53921">
        <label>cleanse.h</label>
        <link refid="cleanse_8h"/>
        <childnode refid="53922" relation="include">
        </childnode>
      </node>
      <node id="53934">
        <label>cstring</label>
      </node>
      <node id="53987">
        <label>sync.h</label>
        <link refid="sync_8h"/>
        <childnode refid="53988" relation="include">
        </childnode>
        <childnode refid="53989" relation="include">
        </childnode>
        <childnode refid="53990" relation="include">
        </childnode>
        <childnode refid="53925" relation="include">
        </childnode>
        <childnode refid="53991" relation="include">
        </childnode>
      </node>
      <node id="53985">
        <label>inttypes.h</label>
      </node>
      <node id="54001">
        <label>leveldb/iterator.h</label>
        <link refid="iterator_8h"/>
        <childnode refid="54002" relation="include">
        </childnode>
        <childnode refid="54003" relation="include">
        </childnode>
      </node>
      <node id="54027">
        <label>primitives/block.h</label>
        <link refid="primitives_2block_8h"/>
        <childnode refid="53956" relation="include">
        </childnode>
        <childnode refid="53953" relation="include">
        </childnode>
        <childnode refid="54028" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="stormnode-sync_8cpp_1a4233fda53cfb60fd6ba208d981ac3fe7" prot="public" static="no" mutable="no">
        <type><ref refid="class_c_stormnode_sync" kindref="compound">CStormnodeSync</ref></type>
        <definition>CStormnodeSync stormnodeSync</definition>
        <argsstring></argsstring>
        <name>stormnodeSync</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/dev/ds-160209/src/stormnode-sync.cpp" line="16" column="1" bodyfile="/home/dev/ds-160209/src/stormnode-sync.cpp" bodystart="15" bodyend="-1"/>
        <referencedby refid="class_c_active_stormnode_1a9532e0804ea4c96ad7d58ab3e9da6891" compoundref="activestormnode_8cpp" startline="17" endline="140">CActiveStormnode::ManageStatus</referencedby>
        <referencedby refid="class_c_active_stormnode_1a23b6459a057d50230f258050e9b2d6f8" compoundref="activestormnode_8cpp" startline="209" endline="252">CActiveStormnode::Register</referencedby>
        <referencedby refid="instantx_8h_1aa516cb499ead2691d8ab216a499db5d0" compoundref="instantx_8cpp" startline="38" endline="173">ProcessMessageInstantX</referencedby>
        <referencedby refid="rpcstormnode-budget_8cpp_1aae19bf2ba52f3b864bfaf70206bcb29a" compoundref="rpcstormnode-budget_8cpp" startline="22" endline="515">snbudget</referencedby>
        <referencedby refid="rpcstormnode_8cpp_1a1b562b4a6a627758a7c1080f23a82aa0" compoundref="rpcstormnode_8cpp" startline="81" endline="471">stormnode</referencedby>
        <referencedby refid="class_c_sandstorm_pool_1acf0b5b0e5703c88b7d3c9cb121ec6533" compoundref="sandstorm_8cpp" startline="38" endline="374">CSandstormPool::ProcessMessageSandstorm</referencedby>
        <referencedby refid="class_c_sandstorm_pool_1abf8b2c93df923f599639502bfaa165ec" compoundref="sandstorm_8cpp" startline="438" endline="490">CSandstormPool::GetStatus</referencedby>
        <referencedby refid="class_c_sandstorm_pool_1a459d1986058ad736773fa9857390ba96" compoundref="sandstorm_8cpp" startline="1353" endline="1625">CSandstormPool::DoAutomaticDenominating</referencedby>
        <referencedby refid="sandstorm_8h_1ac661e702905cd5093cb237555ba5c1c0" compoundref="sandstorm_8cpp" startline="2196" endline="2239">ThreadCheckSandStormPool</referencedby>
        <referencedby refid="class_c_budget_manager_1a6ec491bb3f9b9772144fff7c458e75a8" compoundref="stormnode-budget_8cpp" startline="557" endline="572">CBudgetManager::HasNextFinalizedBudget</referencedby>
        <referencedby refid="class_c_budget_manager_1a9c62c8f18b6f101465415952349ce203" compoundref="stormnode-budget_8cpp" startline="799" endline="902">CBudgetManager::NewBlock</referencedby>
        <referencedby refid="class_c_budget_manager_1a3fc235d528e37ec1c66789f3bfed1878" compoundref="stormnode-budget_8cpp" startline="904" endline="1072">CBudgetManager::ProcessMessage</referencedby>
        <referencedby refid="class_c_budget_manager_1a643d564d0232ed6f9e6ca025b8377c13" compoundref="stormnode-budget_8cpp" startline="1231" endline="1256">CBudgetManager::UpdateProposal</referencedby>
        <referencedby refid="class_c_budget_manager_1a4ac3207b673d7163a7d03005e35d6f8b" compoundref="stormnode-budget_8cpp" startline="1258" endline="1283">CBudgetManager::UpdateFinalizedBudget</referencedby>
        <referencedby refid="stormnode-payments_8h_1a775fd7f6eef6c395268172c278b9100b" compoundref="stormnode-payments_8cpp" startline="185" endline="228">IsBlockValueValid</referencedby>
        <referencedby refid="stormnode-payments_8h_1af9e474d79a12729ed3e96b0d1c0351b4" compoundref="stormnode-payments_8cpp" startline="230" endline="269">IsBlockPayeeValid</referencedby>
        <referencedby refid="class_c_stormnode_payments_1a8dc55316a297daad51a03d4cf7b37d06" compoundref="stormnode-payments_8cpp" startline="354" endline="430">CStormnodePayments::ProcessMessageStormnodePayments</referencedby>
        <referencedby refid="class_c_stormnode_payments_1a0113fb8a5dc2e0b0efd0b8180535f9d0" compoundref="stormnode-payments_8cpp" startline="610" endline="632">CStormnodePayments::CleanPaymentList</referencedby>
        <referencedby refid="class_c_stormnode_payment_winner_1ae8e5cecfd1f95eed8fdd14f019360fa0" compoundref="stormnode-payments_8cpp" startline="644" endline="681">CStormnodePaymentWinner::IsValid</referencedby>
        <referencedby refid="class_c_stormnode_broadcast_1a1492e5bc8fc2587de913ec8ffc9d18a8" compoundref="stormnode_8cpp" startline="351" endline="422">CStormnodeBroadcast::CheckAndUpdate</referencedby>
        <referencedby refid="class_c_stormnode_broadcast_1ac182349ba784e20ce826eda23a239e3c" compoundref="stormnode_8cpp" startline="424" endline="507">CStormnodeBroadcast::CheckInputsAndAdd</referencedby>
        <referencedby refid="class_c_stormnode_man_1a6d8c3a832ea7d6f4780a59e2ae0441b8" compoundref="stormnodeman_8cpp" startline="255" endline="350">CStormnodeMan::CheckAndRemove</referencedby>
        <referencedby refid="class_c_stormnode_man_1ae30d0b9b493e23c3d14ec48c77be7b6f" compoundref="stormnodeman_8cpp" startline="674" endline="803">CStormnodeMan::ProcessMessage</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2014-2016<sp/>The<sp/>Dash<sp/>developers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Distributed<sp/>under<sp/>the<sp/>MIT/X11<sp/>software<sp/>license,<sp/>see<sp/>the<sp/>accompanying</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>file<sp/>COPYING<sp/>or<sp/>http://www.opensource.org/licenses/mit-license.php.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="stormnode-sync_8h" kindref="compound">stormnode-sync.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="activestormnode_8h" kindref="compound">activestormnode.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="stormnode-budget_8h" kindref="compound">stormnode-budget.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="stormnode-payments_8h" kindref="compound">stormnode-payments.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="stormnode_8h" kindref="compound">stormnode.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="stormnodeman_8h" kindref="compound">stormnodeman.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="spork_8h" kindref="compound">spork.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="util_8h" kindref="compound">util.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="addrman_8h" kindref="compound">addrman.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="stormnode-sync_8h_1a4233fda53cfb60fd6ba208d981ac3fe7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_stormnode_sync" kindref="compound">CStormnodeSync</ref>;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><ref refid="class_c_stormnode_sync" kindref="compound">CStormnodeSync</ref><sp/><ref refid="stormnode-sync_8cpp_1a4233fda53cfb60fd6ba208d981ac3fe7" kindref="member">stormnodeSync</ref>;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18" refid="class_c_stormnode_sync_1ab51f592abb72b888aa291dc4e5f5ca01" refkind="member"><highlight class="normal"><ref refid="class_c_stormnode_sync_1ab51f592abb72b888aa291dc4e5f5ca01" kindref="member">CStormnodeSync::CStormnodeSync</ref>()</highlight></codeline>
<codeline lineno="19"><highlight class="normal">{</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a14d6ee22d6cd11c4045b9fb8c7891551" kindref="member">Reset</ref>();</highlight></codeline>
<codeline lineno="21"><highlight class="normal">}</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="class_c_stormnode_sync_1a0f196a2ca46b0cc4de3a488a4cbc2374" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1a0f196a2ca46b0cc4de3a488a4cbc2374" kindref="member">CStormnodeSync::IsSynced</ref>()</highlight></codeline>
<codeline lineno="24"><highlight class="normal">{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>==<sp/>STORMNODE_SYNC_FINISHED;</highlight></codeline>
<codeline lineno="26"><highlight class="normal">}</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="class_c_stormnode_sync_1adfb3343f29476ca833084be0320a7d50" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1adfb3343f29476ca833084be0320a7d50" kindref="member">CStormnodeSync::IsBlockchainSynced</ref>()</highlight></codeline>
<codeline lineno="29"><highlight class="normal">{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>fBlockchainSynced<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="stdint_8h_1adec1df1b8b51cb32b77e5b86fff46471" kindref="member">int64_t</ref><sp/>lastProcess<sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>the<sp/>last<sp/>call<sp/>to<sp/>this<sp/>function<sp/>was<sp/>more<sp/>than<sp/>60<sp/>minutes<sp/>ago<sp/>(client<sp/>was<sp/>in<sp/>sleep<sp/>mode)<sp/>reset<sp/>the<sp/>sync<sp/>process</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>()<sp/>-<sp/>lastProcess<sp/>&gt;<sp/>60*60)<sp/>{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a14d6ee22d6cd11c4045b9fb8c7891551" kindref="member">Reset</ref>();</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fBlockchainSynced<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>lastProcess<sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(fBlockchainSynced)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="main_8cpp_1aaf87d0dd26c4a7c9bcc5bdd1127e8637" kindref="member">fImporting</ref><sp/>||<sp/><ref refid="main_8cpp_1a8e0eca589b2d4254a65f04c5d91888b2" kindref="member">fReindex</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1aca08e7299069c2d60b8aa726fc550612" kindref="member">TRY_LOCK</ref>(<ref refid="main_8cpp_1a1ed8285f0fe3c6799c53265ce72552c8" kindref="member">cs_main</ref>,<sp/>lockMain);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!lockMain)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindex<sp/>=<sp/><ref refid="chain_8h_1a6454ad864029344132a0a0b59b1456ee" kindref="member">pindexBest</ref>;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pindex<sp/>==<sp/>NULL)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pindex-&gt;<ref refid="class_c_block_index_1a4b687a226e9e166b0f91c1b616b543a6" kindref="member">nTime</ref><sp/>+<sp/>60*60<sp/>&lt;<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>())</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>fBlockchainSynced<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="57"><highlight class="normal">}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59" refid="class_c_stormnode_sync_1a14d6ee22d6cd11c4045b9fb8c7891551" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1a14d6ee22d6cd11c4045b9fb8c7891551" kindref="member">CStormnodeSync::Reset</ref>()</highlight></codeline>
<codeline lineno="60"><highlight class="normal">{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1aeb0a6f0e92f6f1f25c5d9fa6c2b15bbd" kindref="member">lastStormnodeList</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a84ac2bc44ac623f8e679f2ba58034c7a" kindref="member">lastStormnodeWinner</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a5499eabbf28dc8ec6f77cfef1569dbb7" kindref="member">lastBudgetItem</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ab5874fbd02e921572983d1530cc7d69e" kindref="member">mapSeenSyncSNB</ref>.clear();</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1aa691249c2bfd876d49d24b82b3df7048" kindref="member">mapSeenSyncSNW</ref>.clear();</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a7555b263aa695f48c81f4051c1a4788c" kindref="member">mapSeenSyncBudget</ref>.clear();</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a8b236ed2df48f8d8fdbec1e07872f34f" kindref="member">lastFailure</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ad7944c7fc57bc0288472b1f88fbd88e6" kindref="member">nCountFailures</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a3049bd8c09a2b946e99bb1ffca5ebd97" kindref="member">sumStormnodeList</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a37b84e2f05256e44f9d0c80a87b26895" kindref="member">sumStormnodeWinner</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a04a5e8c869c0b3802ce5ab2b8d0c7952" kindref="member">sumBudgetItemProp</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ae54e3ff056c6bab202db68c4ceb0792e" kindref="member">sumBudgetItemFin</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a5b480191e47be00a7b1919244b5f9714" kindref="member">countStormnodeList</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ad0db06b3a1913c0c40c8e6719953d346" kindref="member">countStormnodeWinner</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1af73aa6104e72c120d7def3f42bab1dc5" kindref="member">countBudgetItemProp</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a2a5824d8f6eddbdb6aec4daa51cae6a4" kindref="member">countBudgetItemFin</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_INITIAL;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a2e7baab6709175db874ce9bc325c762d" kindref="member">nAssetSyncStarted</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="80"><highlight class="normal">}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="class_c_stormnode_sync_1ad9e9ad7392c3fa1ec0af4b178b3c62c0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1ad9e9ad7392c3fa1ec0af4b178b3c62c0" kindref="member">CStormnodeSync::AddedStormnodeList</ref>(<ref refid="classuint256" kindref="compound">uint256</ref><sp/><ref refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" kindref="member">hash</ref>)</highlight></codeline>
<codeline lineno="83"><highlight class="normal">{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="stormnodeman_8cpp_1a1e28814877e5fb4ed8113e3621ca13ff" kindref="member">snodeman</ref>.<ref refid="class_c_stormnode_man_1a320b85dcbbc8f01a412c96b23bca5424" kindref="member">mapSeenStormnodeBroadcast</ref>.count(hash))<sp/>{</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1ab5874fbd02e921572983d1530cc7d69e" kindref="member">mapSeenSyncSNB</ref>[hash]<sp/>&lt;<sp/>STORMNODE_SYNC_THRESHOLD)<sp/>{</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1aeb0a6f0e92f6f1f25c5d9fa6c2b15bbd" kindref="member">lastStormnodeList</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ab5874fbd02e921572983d1530cc7d69e" kindref="member">mapSeenSyncSNB</ref>[<ref refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" kindref="member">hash</ref>]++;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1aeb0a6f0e92f6f1f25c5d9fa6c2b15bbd" kindref="member">lastStormnodeList</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ab5874fbd02e921572983d1530cc7d69e" kindref="member">mapSeenSyncSNB</ref>.insert(make_pair(hash,<sp/>1));</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="93"><highlight class="normal">}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95" refid="class_c_stormnode_sync_1a686a36163137e9079365e7fd0ede826c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1a686a36163137e9079365e7fd0ede826c" kindref="member">CStormnodeSync::AddedStormnodeWinner</ref>(<ref refid="classuint256" kindref="compound">uint256</ref><sp/><ref refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" kindref="member">hash</ref>)</highlight></codeline>
<codeline lineno="96"><highlight class="normal">{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="stormnode-payments_8cpp_1a1d528b1b067a2f669dfd90c513a97116" kindref="member">stormnodePayments</ref>.<ref refid="class_c_stormnode_payments_1a2227618f68b1655073c17d4b2ffe1c56" kindref="member">mapStormnodePayeeVotes</ref>.count(hash))<sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1aa691249c2bfd876d49d24b82b3df7048" kindref="member">mapSeenSyncSNW</ref>[hash]<sp/>&lt;<sp/>STORMNODE_SYNC_THRESHOLD)<sp/>{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a84ac2bc44ac623f8e679f2ba58034c7a" kindref="member">lastStormnodeWinner</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1aa691249c2bfd876d49d24b82b3df7048" kindref="member">mapSeenSyncSNW</ref>[<ref refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" kindref="member">hash</ref>]++;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a84ac2bc44ac623f8e679f2ba58034c7a" kindref="member">lastStormnodeWinner</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1aa691249c2bfd876d49d24b82b3df7048" kindref="member">mapSeenSyncSNW</ref>.insert(make_pair(hash,<sp/>1));</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="106"><highlight class="normal">}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108" refid="class_c_stormnode_sync_1af200f11664c64e5256ad77bd0465b634" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1af200f11664c64e5256ad77bd0465b634" kindref="member">CStormnodeSync::AddedBudgetItem</ref>(<ref refid="classuint256" kindref="compound">uint256</ref><sp/><ref refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" kindref="member">hash</ref>)</highlight></codeline>
<codeline lineno="109"><highlight class="normal">{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="stormnode-budget_8cpp_1ad9842d355854ad5602728a96cf684706" kindref="member">budget</ref>.<ref refid="class_c_budget_manager_1a5336c99bc4c72c185de0391165a67159" kindref="member">mapSeenStormnodeBudgetProposals</ref>.count(hash)<sp/>||<sp/><ref refid="stormnode-budget_8cpp_1ad9842d355854ad5602728a96cf684706" kindref="member">budget</ref>.<ref refid="class_c_budget_manager_1af729951208566289252458a01ed9fc7a" kindref="member">mapSeenStormnodeBudgetVotes</ref>.count(hash)<sp/>||</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stormnode-budget_8cpp_1ad9842d355854ad5602728a96cf684706" kindref="member">budget</ref>.<ref refid="class_c_budget_manager_1a289e14968fc776b8c0570b03ea8c8ecd" kindref="member">mapSeenFinalizedBudgets</ref>.count(hash)<sp/>||<sp/><ref refid="stormnode-budget_8cpp_1ad9842d355854ad5602728a96cf684706" kindref="member">budget</ref>.<ref refid="class_c_budget_manager_1aecbf6ad23e6f6044672d5619d3e7c40d" kindref="member">mapSeenFinalizedBudgetVotes</ref>.count(hash))<sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a7555b263aa695f48c81f4051c1a4788c" kindref="member">mapSeenSyncBudget</ref>[hash]<sp/>&lt;<sp/>STORMNODE_SYNC_THRESHOLD)<sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a5499eabbf28dc8ec6f77cfef1569dbb7" kindref="member">lastBudgetItem</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a7555b263aa695f48c81f4051c1a4788c" kindref="member">mapSeenSyncBudget</ref>[<ref refid="cache_8cc_1a11ecb029164e055f28f4123ce3748862" kindref="member">hash</ref>]++;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a5499eabbf28dc8ec6f77cfef1569dbb7" kindref="member">lastBudgetItem</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a7555b263aa695f48c81f4051c1a4788c" kindref="member">mapSeenSyncBudget</ref>.insert(make_pair(hash,<sp/>1));</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="120"><highlight class="normal">}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="class_c_stormnode_sync_1a85c30a78fdad0ac91f6fc1a4c17077e5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1a85c30a78fdad0ac91f6fc1a4c17077e5" kindref="member">CStormnodeSync::IsBudgetPropEmpty</ref>()</highlight></codeline>
<codeline lineno="123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1a04a5e8c869c0b3802ce5ab2b8d0c7952" kindref="member">sumBudgetItemProp</ref>==0<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1af73aa6104e72c120d7def3f42bab1dc5" kindref="member">countBudgetItemProp</ref>&gt;0;</highlight></codeline>
<codeline lineno="125"><highlight class="normal">}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127" refid="class_c_stormnode_sync_1a71a5cb2516527d38bca276b5bc90c3f1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1a71a5cb2516527d38bca276b5bc90c3f1" kindref="member">CStormnodeSync::IsBudgetFinEmpty</ref>()</highlight></codeline>
<codeline lineno="128"><highlight class="normal">{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1ae54e3ff056c6bab202db68c4ceb0792e" kindref="member">sumBudgetItemFin</ref>==0<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1a2a5824d8f6eddbdb6aec4daa51cae6a4" kindref="member">countBudgetItemFin</ref>&gt;0;</highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132" refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">CStormnodeSync::GetNextAsset</ref>()</highlight></codeline>
<codeline lineno="133"><highlight class="normal">{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref>)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_INITIAL):</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_FAILED):<sp/></highlight><highlight class="comment">//<sp/>should<sp/>never<sp/>be<sp/>used<sp/>here<sp/>actually,<sp/>use<sp/>Reset()<sp/>instead</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a4852378d102b54360f8656731d264c04" kindref="member">ClearFulfilledRequest</ref>();</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_SPORKS;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_SPORKS):</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_LIST;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_LIST):</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_SNW;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_SNW):</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_BUDGET;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_BUDGET):</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="util_8h_1afc02c0a4258fedfb316be612bb659ba8" kindref="member">LogPrintf</ref>(</highlight><highlight class="stringliteral">&quot;CStormnodeSync::GetNextAsset<sp/>-<sp/>Sync<sp/>has<sp/>finished\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_FINISHED;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a2e7baab6709175db874ce9bc325c762d" kindref="member">nAssetSyncStarted</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="157"><highlight class="normal">}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159" refid="class_c_stormnode_sync_1a11096b1811db2d0b8d495a82010969d9" refkind="member"><highlight class="normal">std::string<sp/><ref refid="class_c_stormnode_sync_1a11096b1811db2d0b8d495a82010969d9" kindref="member">CStormnodeSync::GetSyncStatus</ref>()</highlight></codeline>
<codeline lineno="160"><highlight class="normal">{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(stormnodeSync.<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref>)<sp/>{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>STORMNODE_SYNC_INITIAL:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ui__interface_8h_1aad133bb6103b53cebf03fd01e2f11ba1" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Synchronization<sp/>pending...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>STORMNODE_SYNC_SPORKS:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ui__interface_8h_1aad133bb6103b53cebf03fd01e2f11ba1" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Synchronizing<sp/>sporks...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>STORMNODE_SYNC_LIST:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ui__interface_8h_1aad133bb6103b53cebf03fd01e2f11ba1" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Synchronizing<sp/>stormnodes...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>STORMNODE_SYNC_SNW:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ui__interface_8h_1aad133bb6103b53cebf03fd01e2f11ba1" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Synchronizing<sp/>stormnode<sp/>winners...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>STORMNODE_SYNC_BUDGET:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ui__interface_8h_1aad133bb6103b53cebf03fd01e2f11ba1" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Synchronizing<sp/>budgets...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>STORMNODE_SYNC_FAILED:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ui__interface_8h_1aad133bb6103b53cebf03fd01e2f11ba1" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Synchronization<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>STORMNODE_SYNC_FINISHED:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ui__interface_8h_1aad133bb6103b53cebf03fd01e2f11ba1" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Synchronization<sp/>finished&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="171"><highlight class="normal">}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173" refid="class_c_stormnode_sync_1aaca810ce9a48fed7e8608f73c0d5f29d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1aaca810ce9a48fed7e8608f73c0d5f29d" kindref="member">CStormnodeSync::ProcessMessage</ref>(<ref refid="class_c_node" kindref="compound">CNode</ref>*<sp/>pfrom,<sp/>std::string&amp;<sp/>strCommand,<sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/>vRecv)</highlight></codeline>
<codeline lineno="174"><highlight class="normal">{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strCommand<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;ssc&quot;</highlight><highlight class="normal">)<sp/>{<sp/></highlight><highlight class="comment">//Sync<sp/>status<sp/>count</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nItemID;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nCount;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vRecv<sp/>&gt;&gt;<sp/>nItemID<sp/>&gt;&gt;<sp/>nCount;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_FINISHED)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//this<sp/>means<sp/>we<sp/>will<sp/>receive<sp/>no<sp/>further<sp/>communication</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(nItemID)</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_LIST):</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(nItemID<sp/>!=<sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a3049bd8c09a2b946e99bb1ffca5ebd97" kindref="member">sumStormnodeList</ref><sp/>+=<sp/>nCount;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a5b480191e47be00a7b1919244b5f9714" kindref="member">countStormnodeList</ref>++;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_SNW):</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(nItemID<sp/>!=<sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a37b84e2f05256e44f9d0c80a87b26895" kindref="member">sumStormnodeWinner</ref><sp/>+=<sp/>nCount;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ad0db06b3a1913c0c40c8e6719953d346" kindref="member">countStormnodeWinner</ref>++;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_BUDGET_PROP):</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>!=<sp/>STORMNODE_SYNC_BUDGET)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a04a5e8c869c0b3802ce5ab2b8d0c7952" kindref="member">sumBudgetItemProp</ref><sp/>+=<sp/>nCount;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1af73aa6104e72c120d7def3f42bab1dc5" kindref="member">countBudgetItemProp</ref>++;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal">(STORMNODE_SYNC_BUDGET_FIN):</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>!=<sp/>STORMNODE_SYNC_BUDGET)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ae54e3ff056c6bab202db68c4ceb0792e" kindref="member">sumBudgetItemFin</ref><sp/>+=<sp/>nCount;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a2a5824d8f6eddbdb6aec4daa51cae6a4" kindref="member">countBudgetItemFin</ref>++;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="util_8h_1afc02c0a4258fedfb316be612bb659ba8" kindref="member">LogPrintf</ref>(</highlight><highlight class="stringliteral">&quot;CStormnodeSync:ProcessMessage<sp/>-<sp/>ssc<sp/>-<sp/>got<sp/>inventory<sp/>count<sp/>%d<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>nItemID,<sp/>nCount);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal">}</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211" refid="class_c_stormnode_sync_1a4852378d102b54360f8656731d264c04" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1a4852378d102b54360f8656731d264c04" kindref="member">CStormnodeSync::ClearFulfilledRequest</ref>()</highlight></codeline>
<codeline lineno="212"><highlight class="normal">{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1aca08e7299069c2d60b8aa726fc550612" kindref="member">TRY_LOCK</ref>(<ref refid="net_8cpp_1a8282e3a7948351ac96516573cd31f9d0" kindref="member">cs_vNodes</ref>,<sp/>lockRecv);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!lockRecv)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOST_FOREACH(<ref refid="class_c_node" kindref="compound">CNode</ref>*<sp/>pnode,<sp/><ref refid="net_8cpp_1aa5a11f8873e230cea77bc7e91ee51918" kindref="member">vNodes</ref>)</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1aa57c7ad448501f5c8667d430b390b5ea" kindref="member">ClearFulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;getspork&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1aa57c7ad448501f5c8667d430b390b5ea" kindref="member">ClearFulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;snsync&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1aa57c7ad448501f5c8667d430b390b5ea" kindref="member">ClearFulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;snwsync&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1aa57c7ad448501f5c8667d430b390b5ea" kindref="member">ClearFulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;busync&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="223"><highlight class="normal">}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225" refid="class_c_stormnode_sync_1adaaeb592c3432c8a459560523c7be207" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_stormnode_sync_1adaaeb592c3432c8a459560523c7be207" kindref="member">CStormnodeSync::Process</ref>()</highlight></codeline>
<codeline lineno="226"><highlight class="normal">{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tick<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tick++<sp/>%<sp/>STORMNODE_SYNC_TIMEOUT<sp/>!=<sp/>0)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a0f196a2ca46b0cc4de3a488a4cbc2374" kindref="member">IsSynced</ref>())<sp/>{</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/></highlight></codeline>
<codeline lineno="233"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Resync<sp/>if<sp/>we<sp/>lose<sp/>all<sp/>stormnodes<sp/>from<sp/>sleep/wake<sp/>or<sp/>failure<sp/>to<sp/>sync<sp/>originally</highlight></codeline>
<codeline lineno="234"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="stormnodeman_8cpp_1a1e28814877e5fb4ed8113e3621ca13ff" kindref="member">snodeman</ref>.<ref refid="class_c_stormnode_man_1a02b9b11565e19f2c9dafbe132341fabd" kindref="member">CountEnabled</ref>()<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a14d6ee22d6cd11c4045b9fb8c7891551" kindref="member">Reset</ref>();</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//try<sp/>syncing<sp/>again</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>==<sp/>STORMNODE_SYNC_FAILED<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1a8b236ed2df48f8d8fdbec1e07872f34f" kindref="member">lastFailure</ref><sp/>+<sp/>(1*60)<sp/>&lt;<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>())<sp/>{</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a14d6ee22d6cd11c4045b9fb8c7891551" kindref="member">Reset</ref>();</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>==<sp/>STORMNODE_SYNC_FAILED)<sp/>{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="util_8cpp_1a2ba7badc843121dde40a6f109d224a42" kindref="member">fDebug</ref>)<sp/><ref refid="util_8h_1afc02c0a4258fedfb316be612bb659ba8" kindref="member">LogPrintf</ref>(</highlight><highlight class="stringliteral">&quot;CStormnodeSync::Process()<sp/>-<sp/>tick<sp/>%d<sp/>RequestedStormnodeAssets<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>tick,<sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref>);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>==<sp/>STORMNODE_SYNC_INITIAL)<sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">GetNextAsset</ref>();</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>sporks<sp/>synced<sp/>but<sp/>blockchain<sp/>is<sp/>not,<sp/>wait<sp/>until<sp/>we&apos;re<sp/>almost<sp/>at<sp/>a<sp/>recent<sp/>block<sp/>to<sp/>continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="chainparams_8cpp_1ace5c5b706d71a324a417dd2db394fd4a" kindref="member">Params</ref>().NetworkID()<sp/>!=<sp/><ref refid="class_c_chain_params_1a5c4bb1d7c0205399ff06ee58fab7f176a7bfe4c44c13adffa9807917840050c60" kindref="member">CChainParams::TESTNET</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!<ref refid="class_c_stormnode_sync_1adfb3343f29476ca833084be0320a7d50" kindref="member">IsBlockchainSynced</ref>()<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>&gt;<sp/>STORMNODE_SYNC_SPORKS)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sync_8h_1aca08e7299069c2d60b8aa726fc550612" kindref="member">TRY_LOCK</ref>(<ref refid="net_8cpp_1a8282e3a7948351ac96516573cd31f9d0" kindref="member">cs_vNodes</ref>,<sp/>lockRecv);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!lockRecv)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>BOOST_FOREACH(<ref refid="class_c_node" kindref="compound">CNode</ref>*<sp/>pnode,<sp/><ref refid="net_8cpp_1aa5a11f8873e230cea77bc7e91ee51918" kindref="member">vNodes</ref>)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="chainparams_8cpp_1ace5c5b706d71a324a417dd2db394fd4a" kindref="member">Params</ref>().NetworkID()<sp/>==<sp/><ref refid="class_c_chain_params_1a5c4bb1d7c0205399ff06ee58fab7f176a7bfe4c44c13adffa9807917840050c60" kindref="member">CChainParams::TESTNET</ref>){</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&lt;=<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a204fda3d33404cb37698c085b1583ab2" kindref="member">PushMessage</ref>(</highlight><highlight class="stringliteral">&quot;getsporks&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="comment">//get<sp/>current<sp/>network<sp/>sporks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&lt;<sp/>4)<sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stormnodeman_8cpp_1a1e28814877e5fb4ed8113e3621ca13ff" kindref="member">snodeman</ref>.<ref refid="class_c_stormnode_man_1a3f8f9f86f01df701533b544903b55113" kindref="member">SsegUpdate</ref>(pnode);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&lt;<sp/>6)<sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nSnCount<sp/>=<sp/><ref refid="stormnodeman_8cpp_1a1e28814877e5fb4ed8113e3621ca13ff" kindref="member">snodeman</ref>.<ref refid="class_c_stormnode_man_1a02b9b11565e19f2c9dafbe132341fabd" kindref="member">CountEnabled</ref>();</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a204fda3d33404cb37698c085b1583ab2" kindref="member">PushMessage</ref>(</highlight><highlight class="stringliteral">&quot;snget&quot;</highlight><highlight class="normal">,<sp/>nSnCount);<sp/></highlight><highlight class="comment">//sync<sp/>payees</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>n<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a204fda3d33404cb37698c085b1583ab2" kindref="member">PushMessage</ref>(</highlight><highlight class="stringliteral">&quot;snvs&quot;</highlight><highlight class="normal">,<sp/>n);<sp/></highlight><highlight class="comment">//sync<sp/>stormnode<sp/>votes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_FINISHED;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref>++;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//set<sp/>to<sp/>synced</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>==<sp/>STORMNODE_SYNC_SPORKS){</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pnode-&gt;<ref refid="class_c_node_1ae94af0e82ca84242e420fc53debe6f25" kindref="member">HasFulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;getspork&quot;</highlight><highlight class="normal">))<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a5b378bdd447e2f1e63ced2ae5b36ed76" kindref="member">FulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;getspork&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a204fda3d33404cb37698c085b1583ab2" kindref="member">PushMessage</ref>(</highlight><highlight class="stringliteral">&quot;getsporks&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="comment">//get<sp/>current<sp/>network<sp/>sporks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>2)<sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">GetNextAsset</ref>();</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref>++;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pnode-&gt;<ref refid="class_c_node_1a99173eb3cef17e699ba21a5249ac33d2" kindref="member">nVersion</ref><sp/>&gt;=<sp/><ref refid="stormnode-payments_8cpp_1a1d528b1b067a2f669dfd90c513a97116" kindref="member">stormnodePayments</ref>.<ref refid="class_c_stormnode_payments_1a98392b86e945308c9c66f1cd4942a220" kindref="member">GetMinStormnodePaymentsProto</ref>())<sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>==<sp/>STORMNODE_SYNC_LIST)<sp/>{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="util_8cpp_1a2ba7badc843121dde40a6f109d224a42" kindref="member">fDebug</ref>)<sp/><ref refid="util_8h_1afc02c0a4258fedfb316be612bb659ba8" kindref="member">LogPrintf</ref>(</highlight><highlight class="stringliteral">&quot;CStormnodeSync::Process()<sp/>-<sp/>lastStormnodeList<sp/>%lld<sp/>(GetTime()<sp/>-<sp/>STORMNODE_SYNC_TIMEOUT)<sp/>%lld\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="class_c_stormnode_sync_1aeb0a6f0e92f6f1f25c5d9fa6c2b15bbd" kindref="member">lastStormnodeList</ref>,<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>()<sp/>-<sp/>STORMNODE_SYNC_TIMEOUT);</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1aeb0a6f0e92f6f1f25c5d9fa6c2b15bbd" kindref="member">lastStormnodeList</ref><sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1aeb0a6f0e92f6f1f25c5d9fa6c2b15bbd" kindref="member">lastStormnodeList</ref><sp/>&lt;<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>()<sp/>-<sp/>STORMNODE_SYNC_TIMEOUT<sp/>*<sp/>2<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD){<sp/></highlight><highlight class="comment">//hasn&apos;t<sp/>received<sp/>a<sp/>new<sp/>item<sp/>in<sp/>the<sp/>last<sp/>five<sp/>seconds,<sp/>so<sp/>we&apos;ll<sp/>move<sp/>to<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">GetNextAsset</ref>();</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pnode-&gt;<ref refid="class_c_node_1ae94af0e82ca84242e420fc53debe6f25" kindref="member">HasFulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;snsync&quot;</highlight><highlight class="normal">))<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a5b378bdd447e2f1e63ced2ae5b36ed76" kindref="member">FulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;snsync&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>timeout</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1aeb0a6f0e92f6f1f25c5d9fa6c2b15bbd" kindref="member">lastStormnodeList</ref><sp/>==<sp/>0<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD<sp/>*<sp/>3<sp/>||<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>()<sp/>-<sp/><ref refid="class_c_stormnode_sync_1a2e7baab6709175db874ce9bc325c762d" kindref="member">nAssetSyncStarted</ref><sp/>&gt;<sp/>STORMNODE_SYNC_TIMEOUT<sp/>*<sp/>5))<sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="spork_8cpp_1a3305663176e21e81c80dc951a7f8ea5e" kindref="member">IsSporkActive</ref>(SPORK_8_STORMNODE_PAYMENT_ENFORCEMENT))<sp/>{</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="util_8h_1afc02c0a4258fedfb316be612bb659ba8" kindref="member">LogPrintf</ref>(</highlight><highlight class="stringliteral">&quot;CStormnodeSync::Process<sp/>-<sp/>ERROR<sp/>-<sp/>Sync<sp/>has<sp/>failed,<sp/>will<sp/>retry<sp/>later\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_FAILED;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a8b236ed2df48f8d8fdbec1e07872f34f" kindref="member">lastFailure</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ad7944c7fc57bc0288472b1f88fbd88e6" kindref="member">nCountFailures</ref>++;</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">GetNextAsset</ref>();</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD<sp/>*<sp/>3)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="stormnodeman_8cpp_1a1e28814877e5fb4ed8113e3621ca13ff" kindref="member">snodeman</ref>.<ref refid="class_c_stormnode_man_1a3f8f9f86f01df701533b544903b55113" kindref="member">SsegUpdate</ref>(pnode);</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref>++;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>==<sp/>STORMNODE_SYNC_SNW)<sp/>{</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a84ac2bc44ac623f8e679f2ba58034c7a" kindref="member">lastStormnodeWinner</ref><sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1a84ac2bc44ac623f8e679f2ba58034c7a" kindref="member">lastStormnodeWinner</ref><sp/>&lt;<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>()<sp/>-<sp/>STORMNODE_SYNC_TIMEOUT<sp/>*<sp/>2<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD){<sp/></highlight><highlight class="comment">//hasn&apos;t<sp/>received<sp/>a<sp/>new<sp/>item<sp/>in<sp/>the<sp/>last<sp/>five<sp/>seconds,<sp/>so<sp/>we&apos;ll<sp/>move<sp/>to<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">GetNextAsset</ref>();</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pnode-&gt;<ref refid="class_c_node_1ae94af0e82ca84242e420fc53debe6f25" kindref="member">HasFulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;snwsync&quot;</highlight><highlight class="normal">))<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a5b378bdd447e2f1e63ced2ae5b36ed76" kindref="member">FulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;snwsync&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>timeout</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a84ac2bc44ac623f8e679f2ba58034c7a" kindref="member">lastStormnodeWinner</ref><sp/>==<sp/>0<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD<sp/>*<sp/>3<sp/>||<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>()<sp/>-<sp/><ref refid="class_c_stormnode_sync_1a2e7baab6709175db874ce9bc325c762d" kindref="member">nAssetSyncStarted</ref><sp/>&gt;<sp/>STORMNODE_SYNC_TIMEOUT<sp/>*<sp/>5))<sp/>{</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="spork_8cpp_1a3305663176e21e81c80dc951a7f8ea5e" kindref="member">IsSporkActive</ref>(SPORK_8_STORMNODE_PAYMENT_ENFORCEMENT))<sp/>{</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="util_8h_1afc02c0a4258fedfb316be612bb659ba8" kindref="member">LogPrintf</ref>(</highlight><highlight class="stringliteral">&quot;CStormnodeSync::Process<sp/>-<sp/>ERROR<sp/>-<sp/>Sync<sp/>has<sp/>failed,<sp/>will<sp/>retry<sp/>later\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>=<sp/>STORMNODE_SYNC_FAILED;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a8b236ed2df48f8d8fdbec1e07872f34f" kindref="member">lastFailure</ref><sp/>=<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>();</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1ad7944c7fc57bc0288472b1f88fbd88e6" kindref="member">nCountFailures</ref>++;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">GetNextAsset</ref>();</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD<sp/>*<sp/>3)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_block_index" kindref="compound">CBlockIndex</ref>*<sp/>pindexPrev<sp/>=<sp/><ref refid="chain_8h_1a6454ad864029344132a0a0b59b1456ee" kindref="member">pindexBest</ref>;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pindexPrev<sp/>==<sp/>NULL)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nSnCount<sp/>=<sp/><ref refid="stormnodeman_8cpp_1a1e28814877e5fb4ed8113e3621ca13ff" kindref="member">snodeman</ref>.<ref refid="class_c_stormnode_man_1a02b9b11565e19f2c9dafbe132341fabd" kindref="member">CountEnabled</ref>();</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a204fda3d33404cb37698c085b1583ab2" kindref="member">PushMessage</ref>(</highlight><highlight class="stringliteral">&quot;snget&quot;</highlight><highlight class="normal">,<sp/>nSnCount);<sp/></highlight><highlight class="comment">//sync<sp/>payees</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref>++;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pnode-&gt;<ref refid="class_c_node_1a99173eb3cef17e699ba21a5249ac33d2" kindref="member">nVersion</ref><sp/>&gt;=<sp/>MIN_BUDGET_PEER_PROTO_VERSION)<sp/>{</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1abd82a675dc58c17710dac55b20426945" kindref="member">RequestedStormnodeAssets</ref><sp/>==<sp/>STORMNODE_SYNC_BUDGET){</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//we&apos;ll<sp/>start<sp/>rejecting<sp/>votes<sp/>if<sp/>we<sp/>accidentally<sp/>get<sp/>set<sp/>as<sp/>synced<sp/>too<sp/>soon</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a5499eabbf28dc8ec6f77cfef1569dbb7" kindref="member">lastBudgetItem</ref><sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1a5499eabbf28dc8ec6f77cfef1569dbb7" kindref="member">lastBudgetItem</ref><sp/>&lt;<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>()<sp/>-<sp/>STORMNODE_SYNC_TIMEOUT<sp/>*<sp/>2<sp/>&amp;&amp;<sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD){<sp/></highlight><highlight class="comment">//hasn&apos;t<sp/>received<sp/>a<sp/>new<sp/>item<sp/>in<sp/>the<sp/>last<sp/>five<sp/>seconds,<sp/>so<sp/>we&apos;ll<sp/>move<sp/>to<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//LogPrintf(&quot;CStormnodeSync::Process<sp/>-<sp/>HasNextFinalizedBudget<sp/>%d<sp/>nCountFailures<sp/>%d<sp/>IsBudgetPropEmpty<sp/>%d\n&quot;,<sp/>budget.HasNextFinalizedBudget(),<sp/>nCountFailures,<sp/>IsBudgetPropEmpty());</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if(budget.HasNextFinalizedBudget()<sp/>||<sp/>nCountFailures<sp/>&gt;=<sp/>2<sp/>||<sp/>IsBudgetPropEmpty())<sp/>{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">GetNextAsset</ref>();</highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//try<sp/>to<sp/>activate<sp/>our<sp/>stormnode<sp/>if<sp/>possible</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sandstorm_8cpp_1ac75d1761e37a1f1cbf71007bcbadf5b0" kindref="member">activeStormnode</ref>.<ref refid="class_c_active_stormnode_1a9532e0804ea4c96ad7d58ab3e9da6891" kindref="member">ManageStatus</ref>();</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>}<sp/>else<sp/>{<sp/>//we&apos;ve<sp/>failed<sp/>to<sp/>sync,<sp/>this<sp/>state<sp/>will<sp/>reject<sp/>the<sp/>next<sp/>budget<sp/>block</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>LogPrintf(&quot;CStormnodeSync::Process<sp/>-<sp/>ERROR<sp/>-<sp/>Sync<sp/>has<sp/>failed,<sp/>will<sp/>retry<sp/>later\n&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>RequestedStormnodeAssets<sp/>=<sp/>STORMNODE_SYNC_FAILED;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>RequestedStormnodeAttempt<sp/>=<sp/>0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>lastFailure<sp/>=<sp/>GetTime();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>nCountFailures++;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>timeout</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a5499eabbf28dc8ec6f77cfef1569dbb7" kindref="member">lastBudgetItem</ref><sp/>==<sp/>0<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD<sp/>*<sp/>3<sp/>||<sp/><ref refid="util_8cpp_1a46fac5fba8ba905b5f9acb364f5d8c6f" kindref="member">GetTime</ref>()<sp/>-<sp/><ref refid="class_c_stormnode_sync_1a2e7baab6709175db874ce9bc325c762d" kindref="member">nAssetSyncStarted</ref><sp/>&gt;<sp/>STORMNODE_SYNC_TIMEOUT<sp/>*<sp/>5))<sp/>{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>maybe<sp/>there<sp/>is<sp/>no<sp/>budgets<sp/>at<sp/>all,<sp/>so<sp/>just<sp/>finish<sp/>syncing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a3c70130712267c3c100a69d35b97acf8" kindref="member">GetNextAsset</ref>();</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sandstorm_8cpp_1ac75d1761e37a1f1cbf71007bcbadf5b0" kindref="member">activeStormnode</ref>.<ref refid="class_c_active_stormnode_1a9532e0804ea4c96ad7d58ab3e9da6891" kindref="member">ManageStatus</ref>();</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pnode-&gt;<ref refid="class_c_node_1ae94af0e82ca84242e420fc53debe6f25" kindref="member">HasFulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;busync&quot;</highlight><highlight class="normal">))<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a5b378bdd447e2f1e63ced2ae5b36ed76" kindref="member">FulfilledRequest</ref>(</highlight><highlight class="stringliteral">&quot;busync&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref><sp/>&gt;=<sp/>STORMNODE_SYNC_THRESHOLD<sp/>*<sp/>3)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classuint256" kindref="compound">uint256</ref><sp/>n<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnode-&gt;<ref refid="class_c_node_1a204fda3d33404cb37698c085b1583ab2" kindref="member">PushMessage</ref>(</highlight><highlight class="stringliteral">&quot;snvs&quot;</highlight><highlight class="normal">,<sp/>n);<sp/></highlight><highlight class="comment">//sync<sp/>stormnode<sp/>votes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_stormnode_sync_1a66dcbc68478f042210ec161a7aba7fd5" kindref="member">RequestedStormnodeAttempt</ref>++;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="405"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/home/dev/ds-160209/src/stormnode-sync.cpp"/>
  </compounddef>
</doxygen>
