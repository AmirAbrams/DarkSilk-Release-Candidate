<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.9.1">
  <compounddef id="streams_8h" kind="file" language="C++">
    <compoundname>streams.h</compoundname>
    <includes refid="allocators_8h" local="yes">allocators.h</includes>
    <includes refid="serialize_8h" local="yes">serialize.h</includes>
    <includes local="no">algorithm</includes>
    <includes local="no">assert.h</includes>
    <includes local="no">ios</includes>
    <includes local="no">limits</includes>
    <includes local="no">map</includes>
    <includes local="no">set</includes>
    <includes refid="stdint_8h" local="no">stdint.h</includes>
    <includes local="no">string</includes>
    <includes local="no">string.h</includes>
    <includes local="no">utility</includes>
    <includes local="no">vector</includes>
    <includedby refid="db_8h" local="yes">/home/dev/ds-160209/src/db.h</includedby>
    <includedby refid="leveldbwrapper_8h" local="yes">/home/dev/ds-160209/src/leveldbwrapper.h</includedby>
    <includedby refid="net_8h" local="yes">/home/dev/ds-160209/src/net.h</includedby>
    <includedby refid="main_8h" local="yes">/home/dev/ds-160209/src/main.h</includedby>
    <includedby refid="addrman_8cpp" local="yes">/home/dev/ds-160209/src/addrman.cpp</includedby>
    <includedby refid="txdb-leveldb_8h" local="yes">/home/dev/ds-160209/src/txdb-leveldb.h</includedby>
    <incdepgraph>
      <node id="25373">
        <label>boost/thread/mutex.hpp</label>
      </node>
      <node id="25382">
        <label>limits</label>
      </node>
      <node id="25391">
        <label>assert.h</label>
      </node>
      <node id="25387">
        <label>boost/tuple/tuple.hpp</label>
      </node>
      <node id="25388">
        <label>version.h</label>
        <link refid="version_8h"/>
        <childnode refid="25389" relation="include">
        </childnode>
        <childnode refid="25372" relation="include">
        </childnode>
      </node>
      <node id="25375">
        <label>sys/mman.h</label>
      </node>
      <node id="25370">
        <label>stdlib.h</label>
      </node>
      <node id="25381">
        <label>cassert</label>
      </node>
      <node id="25372">
        <label>string</label>
      </node>
      <node id="25374">
        <label>map</label>
      </node>
      <node id="25378">
        <label>serialize.h</label>
        <link refid="serialize_8h"/>
        <childnode refid="25372" relation="include">
        </childnode>
        <childnode refid="25379" relation="include">
        </childnode>
        <childnode refid="25374" relation="include">
        </childnode>
        <childnode refid="25380" relation="include">
        </childnode>
        <childnode refid="25381" relation="include">
        </childnode>
        <childnode refid="25382" relation="include">
        </childnode>
        <childnode refid="25383" relation="include">
        </childnode>
        <childnode refid="25384" relation="include">
        </childnode>
        <childnode refid="25385" relation="include">
        </childnode>
        <childnode refid="25386" relation="include">
        </childnode>
        <childnode refid="25387" relation="include">
        </childnode>
        <childnode refid="25368" relation="include">
        </childnode>
        <childnode refid="25388" relation="include">
        </childnode>
      </node>
      <node id="25376">
        <label>limits.h</label>
      </node>
      <node id="25392">
        <label>ios</label>
      </node>
      <node id="25371">
        <label>string.h</label>
      </node>
      <node id="25389">
        <label>clientversion.h</label>
        <link refid="clientversion_8h"/>
      </node>
      <node id="25385">
        <label>cstdio</label>
      </node>
      <node id="25386">
        <label>boost/type_traits/is_fundamental.hpp</label>
      </node>
      <node id="25377">
        <label>unistd.h</label>
      </node>
      <node id="25379">
        <label>vector</label>
      </node>
      <node id="25393">
        <label>utility</label>
      </node>
      <node id="25383">
        <label>stdint.h</label>
        <link refid="stdint_8h"/>
      </node>
      <node id="25367">
        <label>/home/dev/ds-160209/src/streams.h</label>
        <link refid="streams.h"/>
        <childnode refid="25368" relation="include">
        </childnode>
        <childnode refid="25378" relation="include">
        </childnode>
        <childnode refid="25390" relation="include">
        </childnode>
        <childnode refid="25391" relation="include">
        </childnode>
        <childnode refid="25392" relation="include">
        </childnode>
        <childnode refid="25382" relation="include">
        </childnode>
        <childnode refid="25374" relation="include">
        </childnode>
        <childnode refid="25380" relation="include">
        </childnode>
        <childnode refid="25383" relation="include">
        </childnode>
        <childnode refid="25372" relation="include">
        </childnode>
        <childnode refid="25371" relation="include">
        </childnode>
        <childnode refid="25393" relation="include">
        </childnode>
        <childnode refid="25379" relation="include">
        </childnode>
      </node>
      <node id="25368">
        <label>allocators.h</label>
        <link refid="allocators_8h"/>
        <childnode refid="25369" relation="include">
        </childnode>
        <childnode refid="25371" relation="include">
        </childnode>
        <childnode refid="25372" relation="include">
        </childnode>
        <childnode refid="25373" relation="include">
        </childnode>
        <childnode refid="25374" relation="include">
        </childnode>
        <childnode refid="25375" relation="include">
        </childnode>
        <childnode refid="25376" relation="include">
        </childnode>
        <childnode refid="25377" relation="include">
        </childnode>
      </node>
      <node id="25380">
        <label>set</label>
      </node>
      <node id="25390">
        <label>algorithm</label>
      </node>
      <node id="25369">
        <label>cleanse.h</label>
        <link refid="cleanse_8h"/>
        <childnode refid="25370" relation="include">
        </childnode>
      </node>
      <node id="25384">
        <label>cstring</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="25428">
        <label>/home/dev/ds-160209/src/qt/darksilkgui.cpp</label>
        <link refid="darksilkgui_8cpp"/>
      </node>
      <node id="25412">
        <label>/home/dev/ds-160209/src/stormnodeman.cpp</label>
        <link refid="stormnodeman_8cpp"/>
      </node>
      <node id="25433">
        <label>/home/dev/ds-160209/src/rpcsmessage.cpp</label>
        <link refid="rpcsmessage_8cpp"/>
      </node>
      <node id="25461">
        <label>/home/dev/ds-160209/src/rpcserver.cpp</label>
        <link refid="rpcserver_8cpp"/>
      </node>
      <node id="25413">
        <label>/home/dev/ds-160209/src/wallet.cpp</label>
        <link refid="wallet_8cpp"/>
      </node>
      <node id="25441">
        <label>/home/dev/ds-160209/src/qt/guiutil.cpp</label>
        <link refid="guiutil_8cpp"/>
      </node>
      <node id="25475">
        <label>/home/dev/ds-160209/src/stormnode-budget.h</label>
        <link refid="stormnode-budget_8h"/>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25419" relation="include">
        </childnode>
        <childnode refid="25420" relation="include">
        </childnode>
        <childnode refid="25409" relation="include">
        </childnode>
        <childnode refid="25423" relation="include">
        </childnode>
        <childnode refid="25410" relation="include">
        </childnode>
        <childnode refid="25411" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25426">
        <label>/home/dev/ds-160209/src/qt/messagemodel.h</label>
        <link refid="messagemodel_8h"/>
        <childnode refid="25427" relation="include">
        </childnode>
        <childnode refid="25428" relation="include">
        </childnode>
        <childnode refid="25429" relation="include">
        </childnode>
        <childnode refid="25430" relation="include">
        </childnode>
        <childnode refid="25431" relation="include">
        </childnode>
        <childnode refid="25432" relation="include">
        </childnode>
      </node>
      <node id="25439">
        <label>/home/dev/ds-160209/src/qt/addresstablemodel.cpp</label>
        <link refid="addresstablemodel_8cpp"/>
      </node>
      <node id="25502">
        <label>/home/dev/ds-160209/src/primitives/block.cpp</label>
        <link refid="block_8cpp"/>
      </node>
      <node id="25414">
        <label>/home/dev/ds-160209/src/net.cpp</label>
        <link refid="net_8cpp"/>
      </node>
      <node id="25396">
        <label>/home/dev/ds-160209/src/walletdb.h</label>
        <link refid="walletdb_8h"/>
        <childnode refid="25397" relation="include">
        </childnode>
        <childnode refid="25437" relation="include">
        </childnode>
        <childnode refid="25453" relation="include">
        </childnode>
        <childnode refid="25417" relation="include">
        </childnode>
        <childnode refid="25407" relation="include">
        </childnode>
        <childnode refid="25455" relation="include">
        </childnode>
        <childnode refid="25456" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
        <childnode refid="25459" relation="include">
        </childnode>
      </node>
      <node id="25400">
        <label>/home/dev/ds-160209/src/sandstorm.h</label>
        <link refid="sandstorm_8h"/>
        <childnode refid="25401" relation="include">
        </childnode>
        <childnode refid="25404" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25414" relation="include">
        </childnode>
        <childnode refid="25415" relation="include">
        </childnode>
        <childnode refid="25416" relation="include">
        </childnode>
        <childnode refid="25417" relation="include">
        </childnode>
        <childnode refid="25418" relation="include">
        </childnode>
        <childnode refid="25419" relation="include">
        </childnode>
        <childnode refid="25420" relation="include">
        </childnode>
        <childnode refid="25421" relation="include">
        </childnode>
        <childnode refid="25422" relation="include">
        </childnode>
        <childnode refid="25423" relation="include">
        </childnode>
        <childnode refid="25410" relation="include">
        </childnode>
        <childnode refid="25424" relation="include">
        </childnode>
        <childnode refid="25412" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25470">
        <label>/home/dev/ds-160209/src/stormnode-sync.h</label>
        <link refid="stormnode-sync_8h"/>
        <childnode refid="25399" relation="include">
        </childnode>
        <childnode refid="25404" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25471" relation="include">
        </childnode>
        <childnode refid="25428" relation="include">
        </childnode>
        <childnode refid="25436" relation="include">
        </childnode>
        <childnode refid="25408" relation="include">
        </childnode>
        <childnode refid="25419" relation="include">
        </childnode>
        <childnode refid="25420" relation="include">
        </childnode>
        <childnode refid="25422" relation="include">
        </childnode>
        <childnode refid="25423" relation="include">
        </childnode>
        <childnode refid="25410" relation="include">
        </childnode>
        <childnode refid="25411" relation="include">
        </childnode>
        <childnode refid="25424" relation="include">
        </childnode>
        <childnode refid="25412" relation="include">
        </childnode>
      </node>
      <node id="25467">
        <label>/home/dev/ds-160209/src/txmempool.h</label>
        <link refid="txmempool_8h"/>
        <childnode refid="25468" relation="include">
        </childnode>
        <childnode refid="25466" relation="include">
        </childnode>
        <childnode refid="25491" relation="include">
        </childnode>
      </node>
      <node id="25409">
        <label>/home/dev/ds-160209/src/spork.cpp</label>
        <link refid="spork_8cpp"/>
      </node>
      <node id="25454">
        <label>/home/dev/ds-160209/src/qt/transactiondesc.cpp</label>
        <link refid="transactiondesc_8cpp"/>
      </node>
      <node id="25471">
        <label>/home/dev/ds-160209/src/qt/clientmodel.cpp</label>
        <link refid="clientmodel_8cpp"/>
      </node>
      <node id="25448">
        <label>/home/dev/ds-160209/src/qt/transactionview.cpp</label>
        <link refid="transactionview_8cpp"/>
      </node>
      <node id="25420">
        <label>/home/dev/ds-160209/src/rpcstormnode.cpp</label>
        <link refid="rpcstormnode_8cpp"/>
      </node>
      <node id="25415">
        <label>/home/dev/ds-160209/src/qt/coincontroldialog.cpp</label>
        <link refid="coincontroldialog_8cpp"/>
      </node>
      <node id="25492">
        <label>/home/dev/ds-160209/src/coins.cpp</label>
        <link refid="coins_8cpp"/>
      </node>
      <node id="25429">
        <label>/home/dev/ds-160209/src/qt/messagemodel.cpp</label>
        <link refid="messagemodel_8cpp"/>
      </node>
      <node id="25505">
        <label>/home/dev/ds-160209/src/stormnodeconfig.cpp</label>
        <link refid="stormnodeconfig_8cpp"/>
      </node>
      <node id="25466">
        <label>/home/dev/ds-160209/src/coins.h</label>
        <link refid="coins_8h"/>
        <childnode refid="25467" relation="include">
        </childnode>
        <childnode refid="25492" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
      </node>
      <node id="25500">
        <label>/home/dev/ds-160209/src/chain.h</label>
        <link refid="chain_8h"/>
        <childnode refid="25468" relation="include">
        </childnode>
        <childnode refid="25402" relation="include">
        </childnode>
        <childnode refid="25501" relation="include">
        </childnode>
      </node>
      <node id="25425">
        <label>/home/dev/ds-160209/src/smessage.h</label>
        <link refid="smessage_8h"/>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25426" relation="include">
        </childnode>
        <childnode refid="25432" relation="include">
        </childnode>
        <childnode refid="25407" relation="include">
        </childnode>
        <childnode refid="25433" relation="include">
        </childnode>
        <childnode refid="25434" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25427">
        <label>/home/dev/ds-160209/src/qt/darksilk.cpp</label>
        <link refid="darksilk_8cpp"/>
      </node>
      <node id="25455">
        <label>/home/dev/ds-160209/src/rpcwallet.cpp</label>
        <link refid="rpcwallet_8cpp"/>
      </node>
      <node id="25487">
        <label>/home/dev/ds-160209/src/rpcblockchain.cpp</label>
        <link refid="rpcblockchain_8cpp"/>
        <childnode refid="25452" relation="include">
        </childnode>
      </node>
      <node id="25491">
        <label>/home/dev/ds-160209/src/txmempool.cpp</label>
        <link refid="txmempool_8cpp"/>
      </node>
      <node id="25469">
        <label>/home/dev/ds-160209/src/stormnode-payments.h</label>
        <link refid="stormnode-payments_8h"/>
        <childnode refid="25470" relation="include">
        </childnode>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25406" relation="include">
        </childnode>
        <childnode refid="25419" relation="include">
        </childnode>
        <childnode refid="25420" relation="include">
        </childnode>
        <childnode refid="25422" relation="include">
        </childnode>
        <childnode refid="25410" relation="include">
        </childnode>
        <childnode refid="25411" relation="include">
        </childnode>
        <childnode refid="25424" relation="include">
        </childnode>
        <childnode refid="25412" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25452">
        <label>/home/dev/ds-160209/src/qt/statisticspage.cpp</label>
        <link refid="statisticspage_8cpp"/>
      </node>
      <node id="25444">
        <label>/home/dev/ds-160209/src/qt/sendcoinsentry.cpp</label>
        <link refid="sendcoinsentry_8cpp"/>
      </node>
      <node id="25484">
        <label>/home/dev/ds-160209/src/qt/debugconsole.h</label>
        <link refid="debugconsole_8h"/>
        <childnode refid="25428" relation="include">
        </childnode>
        <childnode refid="25485" relation="include">
        </childnode>
      </node>
      <node id="25481">
        <label>/home/dev/ds-160209/src/chainparams.cpp</label>
        <link refid="chainparams_8cpp"/>
      </node>
      <node id="25407">
        <label>/home/dev/ds-160209/src/qt/walletmodel.cpp</label>
        <link refid="walletmodel_8cpp"/>
      </node>
      <node id="25494">
        <label>/home/dev/ds-160209/src/compressor.cpp</label>
        <link refid="compressor_8cpp"/>
      </node>
      <node id="25446">
        <label>/home/dev/ds-160209/src/qt/test/uritests.cpp</label>
        <link refid="uritests_8cpp"/>
      </node>
      <node id="25397">
        <label>/home/dev/ds-160209/src/wallet.h</label>
        <link refid="wallet_8h"/>
        <childnode refid="25398" relation="include">
        </childnode>
        <childnode refid="25402" relation="include">
        </childnode>
        <childnode refid="25425" relation="include">
        </childnode>
        <childnode refid="25435" relation="include">
        </childnode>
        <childnode refid="25414" relation="include">
        </childnode>
        <childnode refid="25437" relation="include">
        </childnode>
        <childnode refid="25438" relation="include">
        </childnode>
        <childnode refid="25439" relation="include">
        </childnode>
        <childnode refid="25449" relation="include">
        </childnode>
        <childnode refid="25450" relation="include">
        </childnode>
        <childnode refid="25415" relation="include">
        </childnode>
        <childnode refid="25427" relation="include">
        </childnode>
        <childnode refid="25428" relation="include">
        </childnode>
        <childnode refid="25451" relation="include">
        </childnode>
        <childnode refid="25453" relation="include">
        </childnode>
        <childnode refid="25445" relation="include">
        </childnode>
        <childnode refid="25452" relation="include">
        </childnode>
        <childnode refid="25417" relation="include">
        </childnode>
        <childnode refid="25454" relation="include">
        </childnode>
        <childnode refid="25418" relation="include">
        </childnode>
        <childnode refid="25447" relation="include">
        </childnode>
        <childnode refid="25407" relation="include">
        </childnode>
        <childnode refid="25455" relation="include">
        </childnode>
        <childnode refid="25456" relation="include">
        </childnode>
        <childnode refid="25457" relation="include">
        </childnode>
        <childnode refid="25458" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
        <childnode refid="25459" relation="include">
        </childnode>
      </node>
      <node id="25498">
        <label>/home/dev/ds-160209/src/scrypt.h</label>
        <link refid="scrypt_8h"/>
        <childnode refid="25499" relation="include">
        </childnode>
        <childnode refid="25503" relation="include">
        </childnode>
        <childnode refid="25504" relation="include">
        </childnode>
      </node>
      <node id="25488">
        <label>/home/dev/ds-160209/src/rpcnet.cpp</label>
        <link refid="rpcnet_8cpp"/>
      </node>
      <node id="25480">
        <label>/home/dev/ds-160209/src/txdb.cpp</label>
        <link refid="txdb_8cpp"/>
      </node>
      <node id="25445">
        <label>/home/dev/ds-160209/src/qt/signverifymessagedialog.cpp</label>
        <link refid="signverifymessagedialog_8cpp"/>
      </node>
      <node id="25406">
        <label>/home/dev/ds-160209/src/miner.cpp</label>
        <link refid="miner_8cpp"/>
      </node>
      <node id="25411">
        <label>/home/dev/ds-160209/src/stormnode-sync.cpp</label>
        <link refid="stormnode-sync_8cpp"/>
      </node>
      <node id="25436">
        <label>/home/dev/ds-160209/src/rpcmining.cpp</label>
        <link refid="rpcmining_8cpp"/>
      </node>
      <node id="25474">
        <label>/home/dev/ds-160209/src/sandstorm-relay.h</label>
        <link refid="sandstorm-relay_8h"/>
        <childnode refid="25421" relation="include">
        </childnode>
      </node>
      <node id="25450">
        <label>/home/dev/ds-160209/src/qt/blockbrowser.cpp</label>
        <link refid="blockbrowser_8cpp"/>
      </node>
      <node id="25472">
        <label>/home/dev/ds-160209/src/stormnode.h</label>
        <link refid="stormnode_8h"/>
        <childnode refid="25469" relation="include">
        </childnode>
        <childnode refid="25473" relation="include">
        </childnode>
        <childnode refid="25475" relation="include">
        </childnode>
        <childnode refid="25417" relation="include">
        </childnode>
        <childnode refid="25423" relation="include">
        </childnode>
        <childnode refid="25411" relation="include">
        </childnode>
        <childnode refid="25424" relation="include">
        </childnode>
        <childnode refid="25412" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25462">
        <label>/home/dev/ds-160209/src/leveldbwrapper.h</label>
        <link refid="leveldbwrapper_8h"/>
        <childnode refid="25463" relation="include">
        </childnode>
        <childnode refid="25495" relation="include">
        </childnode>
      </node>
      <node id="25506">
        <label>/home/dev/ds-160209/src/addrman.cpp</label>
        <link refid="addrman_8cpp"/>
      </node>
      <node id="25479">
        <label>/home/dev/ds-160209/src/txdb-leveldb.cpp</label>
        <link refid="txdb-leveldb_8cpp"/>
      </node>
      <node id="25418">
        <label>/home/dev/ds-160209/src/qt/transactionrecord.cpp</label>
        <link refid="transactionrecord_8cpp"/>
      </node>
      <node id="25465">
        <label>/home/dev/ds-160209/src/undo.h</label>
        <link refid="undo_8h"/>
        <childnode refid="25466" relation="include">
        </childnode>
        <childnode refid="25493" relation="include">
        </childnode>
      </node>
      <node id="25490">
        <label>/home/dev/ds-160209/src/test/allocator_tests.cpp</label>
        <link refid="allocator__tests_8cpp"/>
      </node>
      <node id="25504">
        <label>/home/dev/ds-160209/src/scrypt.cpp</label>
        <link refid="scrypt_8cpp"/>
      </node>
      <node id="25489">
        <label>/home/dev/ds-160209/src/script.cpp</label>
        <link refid="script_8cpp"/>
      </node>
      <node id="25457">
        <label>/home/dev/ds-160209/src/test/base64_tests.cpp</label>
        <link refid="base64__tests_8cpp"/>
      </node>
      <node id="25417">
        <label>/home/dev/ds-160209/src/qt/stormnodemanager.cpp</label>
        <link refid="stormnodemanager_8cpp"/>
      </node>
      <node id="25442">
        <label>/home/dev/ds-160209/src/qt/sandstormconfig.cpp</label>
        <link refid="sandstormconfig_8cpp"/>
      </node>
      <node id="25410">
        <label>/home/dev/ds-160209/src/stormnode-payments.cpp</label>
        <link refid="stormnode-payments_8cpp"/>
      </node>
      <node id="25497">
        <label>/home/dev/ds-160209/src/alert.cpp</label>
        <link refid="alert_8cpp"/>
      </node>
      <node id="25458">
        <label>/home/dev/ds-160209/src/test/wallet_tests.cpp</label>
        <link refid="wallet__tests_8cpp"/>
      </node>
      <node id="25453">
        <label>/home/dev/ds-160209/src/qt/optionsmodel.cpp</label>
        <link refid="optionsmodel_8cpp"/>
      </node>
      <node id="25460">
        <label>/home/dev/ds-160209/src/db.cpp</label>
        <link refid="db_8cpp"/>
      </node>
      <node id="25501">
        <label>/home/dev/ds-160209/src/kernel.h</label>
        <link refid="kernel_8h"/>
        <childnode refid="25402" relation="include">
        </childnode>
        <childnode refid="25477" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25406" relation="include">
        </childnode>
        <childnode refid="25487" relation="include">
        </childnode>
        <childnode refid="25436" relation="include">
        </childnode>
        <childnode refid="25479" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25456">
        <label>/home/dev/ds-160209/src/test/accounting_tests.cpp</label>
        <link refid="accounting__tests_8cpp"/>
      </node>
      <node id="25478">
        <label>/home/dev/ds-160209/src/rpcrawtransaction.cpp</label>
        <link refid="rpcrawtransaction_8cpp"/>
      </node>
      <node id="25468">
        <label>/home/dev/ds-160209/src/main.h</label>
        <link refid="main_8h"/>
        <childnode refid="25397" relation="include">
        </childnode>
        <childnode refid="25463" relation="include">
        </childnode>
        <childnode refid="25469" relation="include">
        </childnode>
        <childnode refid="25472" relation="include">
        </childnode>
        <childnode refid="25470" relation="include">
        </childnode>
        <childnode refid="25473" relation="include">
        </childnode>
        <childnode refid="25401" relation="include">
        </childnode>
        <childnode refid="25476" relation="include">
        </childnode>
        <childnode refid="25481" relation="include">
        </childnode>
        <childnode refid="25482" relation="include">
        </childnode>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25475" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25414" relation="include">
        </childnode>
        <childnode refid="25449" relation="include">
        </childnode>
        <childnode refid="25450" relation="include">
        </childnode>
        <childnode refid="25483" relation="include">
        </childnode>
        <childnode refid="25471" relation="include">
        </childnode>
        <childnode refid="25451" relation="include">
        </childnode>
        <childnode refid="25445" relation="include">
        </childnode>
        <childnode refid="25452" relation="include">
        </childnode>
        <childnode refid="25454" relation="include">
        </childnode>
        <childnode refid="25487" relation="include">
        </childnode>
        <childnode refid="25436" relation="include">
        </childnode>
        <childnode refid="25408" relation="include">
        </childnode>
        <childnode refid="25488" relation="include">
        </childnode>
        <childnode refid="25478" relation="include">
        </childnode>
        <childnode refid="25433" relation="include">
        </childnode>
        <childnode refid="25419" relation="include">
        </childnode>
        <childnode refid="25420" relation="include">
        </childnode>
        <childnode refid="25489" relation="include">
        </childnode>
        <childnode refid="25409" relation="include">
        </childnode>
        <childnode refid="25423" relation="include">
        </childnode>
        <childnode refid="25490" relation="include">
        </childnode>
        <childnode refid="25457" relation="include">
        </childnode>
        <childnode refid="25458" relation="include">
        </childnode>
        <childnode refid="25479" relation="include">
        </childnode>
      </node>
      <node id="25421">
        <label>/home/dev/ds-160209/src/sandstorm-relay.cpp</label>
        <link refid="sandstorm-relay_8cpp"/>
      </node>
      <node id="25473">
        <label>/home/dev/ds-160209/src/stormnodeman.h</label>
        <link refid="stormnodeman_8h"/>
        <childnode refid="25399" relation="include">
        </childnode>
        <childnode refid="25400" relation="include">
        </childnode>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25404" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25406" relation="include">
        </childnode>
        <childnode refid="25471" relation="include">
        </childnode>
        <childnode refid="25417" relation="include">
        </childnode>
        <childnode refid="25419" relation="include">
        </childnode>
        <childnode refid="25420" relation="include">
        </childnode>
        <childnode refid="25474" relation="include">
        </childnode>
        <childnode refid="25423" relation="include">
        </childnode>
        <childnode refid="25410" relation="include">
        </childnode>
        <childnode refid="25411" relation="include">
        </childnode>
        <childnode refid="25424" relation="include">
        </childnode>
        <childnode refid="25412" relation="include">
        </childnode>
      </node>
      <node id="25477">
        <label>/home/dev/ds-160209/src/kernel.cpp</label>
        <link refid="kernel_8cpp"/>
      </node>
      <node id="25440">
        <label>/home/dev/ds-160209/src/qt/askpassphrasedialog.cpp</label>
        <link refid="askpassphrasedialog_8cpp"/>
      </node>
      <node id="25496">
        <label>/home/dev/ds-160209/src/net.h</label>
        <link refid="net_8h"/>
        <childnode refid="25468" relation="include">
        </childnode>
        <childnode refid="25472" relation="include">
        </childnode>
        <childnode refid="25473" relation="include">
        </childnode>
        <childnode refid="25401" relation="include">
        </childnode>
        <childnode refid="25497" relation="include">
        </childnode>
        <childnode refid="25498" relation="include">
        </childnode>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25475" relation="include">
        </childnode>
        <childnode refid="25425" relation="include">
        </childnode>
        <childnode refid="25404" relation="include">
        </childnode>
        <childnode refid="25414" relation="include">
        </childnode>
        <childnode refid="25483" relation="include">
        </childnode>
        <childnode refid="25486" relation="include">
        </childnode>
        <childnode refid="25408" relation="include">
        </childnode>
        <childnode refid="25488" relation="include">
        </childnode>
        <childnode refid="25478" relation="include">
        </childnode>
        <childnode refid="25455" relation="include">
        </childnode>
        <childnode refid="25504" relation="include">
        </childnode>
        <childnode refid="25409" relation="include">
        </childnode>
        <childnode refid="25505" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25419">
        <label>/home/dev/ds-160209/src/rpcstormnode-budget.cpp</label>
        <link refid="rpcstormnode-budget_8cpp"/>
      </node>
      <node id="25495">
        <label>/home/dev/ds-160209/src/leveldbwrapper.cpp</label>
        <link refid="leveldbwrapper_8cpp"/>
      </node>
      <node id="25464">
        <label>/home/dev/ds-160209/src/compressor.h</label>
        <link refid="compressor_8h"/>
        <childnode refid="25465" relation="include">
        </childnode>
        <childnode refid="25494" relation="include">
        </childnode>
      </node>
      <node id="25399">
        <label>/home/dev/ds-160209/src/activestormnode.cpp</label>
        <link refid="activestormnode_8cpp"/>
      </node>
      <node id="25459">
        <label>/home/dev/ds-160209/src/walletdb.cpp</label>
        <link refid="walletdb_8cpp"/>
      </node>
      <node id="25402">
        <label>/home/dev/ds-160209/src/chain.cpp</label>
        <link refid="chain_8cpp"/>
      </node>
      <node id="25423">
        <label>/home/dev/ds-160209/src/stormnode-budget.cpp</label>
        <link refid="stormnode-budget_8cpp"/>
      </node>
      <node id="25493">
        <label>/home/dev/ds-160209/src/undo.cpp</label>
        <link refid="undo_8cpp"/>
      </node>
      <node id="25476">
        <label>/home/dev/ds-160209/src/txdb-leveldb.h</label>
        <link refid="txdb-leveldb_8h"/>
        <childnode refid="25402" relation="include">
        </childnode>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25477" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25406" relation="include">
        </childnode>
        <childnode refid="25454" relation="include">
        </childnode>
        <childnode refid="25436" relation="include">
        </childnode>
        <childnode refid="25478" relation="include">
        </childnode>
        <childnode refid="25434" relation="include">
        </childnode>
        <childnode refid="25479" relation="include">
        </childnode>
        <childnode refid="25480" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25437">
        <label>/home/dev/ds-160209/src/qt/addeditstormnode.cpp</label>
        <link refid="addeditstormnode_8cpp"/>
      </node>
      <node id="25404">
        <label>/home/dev/ds-160209/src/instantx.cpp</label>
        <link refid="instantx_8cpp"/>
      </node>
      <node id="25403">
        <label>/home/dev/ds-160209/src/init.cpp</label>
        <link refid="init_8cpp"/>
      </node>
      <node id="25483">
        <label>/home/dev/ds-160209/src/qt/peertablemodel.h</label>
        <link refid="peertablemodel_8h"/>
        <childnode refid="25471" relation="include">
        </childnode>
        <childnode refid="25484" relation="include">
        </childnode>
        <childnode refid="25486" relation="include">
        </childnode>
      </node>
      <node id="25395">
        <label>/home/dev/ds-160209/src/db.h</label>
        <link refid="db_8h"/>
        <childnode refid="25396" relation="include">
        </childnode>
        <childnode refid="25460" relation="include">
        </childnode>
        <childnode refid="25425" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25414" relation="include">
        </childnode>
        <childnode refid="25436" relation="include">
        </childnode>
        <childnode refid="25461" relation="include">
        </childnode>
        <childnode refid="25419" relation="include">
        </childnode>
        <childnode refid="25420" relation="include">
        </childnode>
        <childnode refid="25434" relation="include">
        </childnode>
      </node>
      <node id="25394">
        <label>/home/dev/ds-160209/src/streams.h</label>
        <link refid="streams.h"/>
        <childnode refid="25395" relation="include">
        </childnode>
        <childnode refid="25462" relation="include">
        </childnode>
        <childnode refid="25496" relation="include">
        </childnode>
        <childnode refid="25468" relation="include">
        </childnode>
        <childnode refid="25506" relation="include">
        </childnode>
        <childnode refid="25476" relation="include">
        </childnode>
      </node>
      <node id="25430">
        <label>/home/dev/ds-160209/src/qt/messagepage.cpp</label>
        <link refid="messagepage_8cpp"/>
      </node>
      <node id="25401">
        <label>/home/dev/ds-160209/src/spork.h</label>
        <link refid="spork_8h"/>
        <childnode refid="25399" relation="include">
        </childnode>
        <childnode refid="25402" relation="include">
        </childnode>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25404" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25406" relation="include">
        </childnode>
        <childnode refid="25407" relation="include">
        </childnode>
        <childnode refid="25408" relation="include">
        </childnode>
        <childnode refid="25409" relation="include">
        </childnode>
        <childnode refid="25410" relation="include">
        </childnode>
        <childnode refid="25411" relation="include">
        </childnode>
        <childnode refid="25412" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25431">
        <label>/home/dev/ds-160209/src/qt/sendmessagesdialog.cpp</label>
        <link refid="sendmessagesdialog_8cpp"/>
      </node>
      <node id="25432">
        <label>/home/dev/ds-160209/src/qt/sendmessagesentry.cpp</label>
        <link refid="sendmessagesentry_8cpp"/>
      </node>
      <node id="25435">
        <label>/home/dev/ds-160209/src/miner.h</label>
        <link refid="miner_8h"/>
        <childnode refid="25406" relation="include">
        </childnode>
        <childnode refid="25436" relation="include">
        </childnode>
      </node>
      <node id="25434">
        <label>/home/dev/ds-160209/src/smessage.cpp</label>
        <link refid="smessage_8cpp"/>
      </node>
      <node id="25486">
        <label>/home/dev/ds-160209/src/qt/peertablemodel.cpp</label>
        <link refid="peertablemodel_8cpp"/>
      </node>
      <node id="25451">
        <label>/home/dev/ds-160209/src/qt/statisticspage.h</label>
        <link refid="statisticspage_8h"/>
        <childnode refid="25428" relation="include">
        </childnode>
        <childnode refid="25452" relation="include">
        </childnode>
      </node>
      <node id="25463">
        <label>/home/dev/ds-160209/src/txdb.h</label>
        <link refid="txdb_8h"/>
        <childnode refid="25464" relation="include">
        </childnode>
        <childnode refid="25468" relation="include">
        </childnode>
        <childnode refid="25482" relation="include">
        </childnode>
        <childnode refid="25492" relation="include">
        </childnode>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25477" relation="include">
        </childnode>
        <childnode refid="25405" relation="include">
        </childnode>
        <childnode refid="25406" relation="include">
        </childnode>
        <childnode refid="25436" relation="include">
        </childnode>
        <childnode refid="25478" relation="include">
        </childnode>
        <childnode refid="25434" relation="include">
        </childnode>
        <childnode refid="25479" relation="include">
        </childnode>
        <childnode refid="25480" relation="include">
        </childnode>
        <childnode refid="25413" relation="include">
        </childnode>
      </node>
      <node id="25447">
        <label>/home/dev/ds-160209/src/qt/transactiontablemodel.cpp</label>
        <link refid="transactiontablemodel_8cpp"/>
      </node>
      <node id="25405">
        <label>/home/dev/ds-160209/src/main.cpp</label>
        <link refid="main_8cpp"/>
      </node>
      <node id="25408">
        <label>/home/dev/ds-160209/src/rpcmisc.cpp</label>
        <link refid="rpcmisc_8cpp"/>
      </node>
      <node id="25443">
        <label>/home/dev/ds-160209/src/qt/sendcoinsdialog.cpp</label>
        <link refid="sendcoinsdialog_8cpp"/>
      </node>
      <node id="25398">
        <label>/home/dev/ds-160209/src/activestormnode.h</label>
        <link refid="activestormnode_8h"/>
        <childnode refid="25399" relation="include">
        </childnode>
        <childnode refid="25400" relation="include">
        </childnode>
        <childnode refid="25403" relation="include">
        </childnode>
        <childnode refid="25404" relation="include">
        </childnode>
        <childnode refid="25417" relation="include">
        </childnode>
        <childnode refid="25419" relation="include">
        </childnode>
        <childnode refid="25420" relation="include">
        </childnode>
        <childnode refid="25411" relation="include">
        </childnode>
        <childnode refid="25412" relation="include">
        </childnode>
      </node>
      <node id="25438">
        <label>/home/dev/ds-160209/src/qt/walletmodel.h</label>
        <link refid="walletmodel_8h"/>
        <childnode refid="25439" relation="include">
        </childnode>
        <childnode refid="25440" relation="include">
        </childnode>
        <childnode refid="25415" relation="include">
        </childnode>
        <childnode refid="25427" relation="include">
        </childnode>
        <childnode refid="25428" relation="include">
        </childnode>
        <childnode refid="25441" relation="include">
        </childnode>
        <childnode refid="25429" relation="include">
        </childnode>
        <childnode refid="25416" relation="include">
        </childnode>
        <childnode refid="25442" relation="include">
        </childnode>
        <childnode refid="25443" relation="include">
        </childnode>
        <childnode refid="25444" relation="include">
        </childnode>
        <childnode refid="25431" relation="include">
        </childnode>
        <childnode refid="25432" relation="include">
        </childnode>
        <childnode refid="25445" relation="include">
        </childnode>
        <childnode refid="25417" relation="include">
        </childnode>
        <childnode refid="25446" relation="include">
        </childnode>
        <childnode refid="25447" relation="include">
        </childnode>
        <childnode refid="25448" relation="include">
        </childnode>
        <childnode refid="25407" relation="include">
        </childnode>
      </node>
      <node id="25422">
        <label>/home/dev/ds-160209/src/sandstorm.cpp</label>
        <link refid="sandstorm_8cpp"/>
      </node>
      <node id="25449">
        <label>/home/dev/ds-160209/src/qt/blockbrowser.h</label>
        <link refid="blockbrowser_8h"/>
        <childnode refid="25450" relation="include">
        </childnode>
        <childnode refid="25428" relation="include">
        </childnode>
      </node>
      <node id="25416">
        <label>/home/dev/ds-160209/src/qt/overviewpage.cpp</label>
        <link refid="overviewpage_8cpp"/>
      </node>
      <node id="25482">
        <label>/home/dev/ds-160209/src/checkpoints.cpp</label>
        <link refid="checkpoints_8cpp"/>
      </node>
      <node id="25424">
        <label>/home/dev/ds-160209/src/stormnode.cpp</label>
        <link refid="stormnode_8cpp"/>
      </node>
      <node id="25499">
        <label>/home/dev/ds-160209/src/primitives/block.h</label>
        <link refid="primitives_2block_8h"/>
        <childnode refid="25397" relation="include">
        </childnode>
        <childnode refid="25500" relation="include">
        </childnode>
        <childnode refid="25406" relation="include">
        </childnode>
        <childnode refid="25502" relation="include">
        </childnode>
      </node>
      <node id="25485">
        <label>/home/dev/ds-160209/src/qt/debugconsole.cpp</label>
        <link refid="debugconsole_8cpp"/>
      </node>
      <node id="25503">
        <label>/home/dev/ds-160209/src/crypter.cpp</label>
        <link refid="crypter_8cpp"/>
      </node>
    </invincdepgraph>
    <innerclass refid="class_c_data_stream" prot="public">CDataStream</innerclass>
    <innerclass refid="class_c_auto_file" prot="public">CAutoFile</innerclass>
    <innerclass refid="class_c_buffered_file" prot="public">CBufferedFile</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2009-2016<sp/>Satoshi<sp/>Nakamoto</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2009-2016<sp/>The<sp/>Bitcoin<sp/>developers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Distributed<sp/>under<sp/>the<sp/>MIT/X11<sp/>software<sp/>license,<sp/>see<sp/>the<sp/>accompanying</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>file<sp/>COPYING<sp/>or<sp/>http://www.opensource.org/licenses/mit-license.php.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>DARKSILK_STREAMS_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DARKSILK_STREAMS_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="allocators_8h" kindref="compound">allocators.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="serialize_8h" kindref="compound">serialize.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;algorithm&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;assert.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;ios&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;limits&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;map&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;set&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="stdint_8h" kindref="compound">stdint.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;utility&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="class_c_data_stream" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/></highlight><highlight class="comment">//TODO(Amir):<sp/>implement<sp/>new<sp/>CDataStream<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal">{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="30" refid="class_c_data_stream_1a5e86187632a0d6cea39f3ea525427e27" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="serialize_8h_1a77935f92ff5ba1d71d692166f6ce0c1b" kindref="member">CSerializeData</ref><sp/><ref refid="class_c_data_stream_1a5e86187632a0d6cea39f3ea525427e27" kindref="member">vector_type</ref>;</highlight></codeline>
<codeline lineno="31" refid="class_c_data_stream_1ac875adb8c720c48abd1a7c82f3452dda" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>vector_type<sp/><ref refid="class_c_data_stream_1ac875adb8c720c48abd1a7c82f3452dda" kindref="member">vch</ref>;</highlight></codeline>
<codeline lineno="32" refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>;</highlight></codeline>
<codeline lineno="33" refid="class_c_data_stream_1a45d5d8e33a27a84f26038b898adf3d43" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a45d5d8e33a27a84f26038b898adf3d43" kindref="member">state</ref>;</highlight></codeline>
<codeline lineno="34" refid="class_c_data_stream_1a81a6caf76267890a0f602185deb028d4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a81a6caf76267890a0f602185deb028d4" kindref="member">exceptmask</ref>;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="36" refid="class_c_data_stream_1a2b646679e24cf6f382fe8ab2d4f50f35" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a2b646679e24cf6f382fe8ab2d4f50f35" kindref="member">nType</ref>;</highlight></codeline>
<codeline lineno="37" refid="class_c_data_stream_1a074998c6b7c8aa17a1a90dbc414b605d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a074998c6b7c8aa17a1a90dbc414b605d" kindref="member">nVersion</ref>;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="class_c_data_stream_1a297dff00e40bb161aab89fde868ee7b1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::allocator_type<sp/><sp/><sp/><ref refid="class_c_data_stream_1a297dff00e40bb161aab89fde868ee7b1" kindref="member">allocator_type</ref>;</highlight></codeline>
<codeline lineno="40" refid="class_c_data_stream_1a79e10daad6db0f94aea1e811eb167378" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::size_type<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a79e10daad6db0f94aea1e811eb167378" kindref="member">size_type</ref>;</highlight></codeline>
<codeline lineno="41" refid="class_c_data_stream_1a9da973fb6e53a5335db78b6f8b90bdbf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::difference_type<sp/><sp/><ref refid="class_c_data_stream_1a9da973fb6e53a5335db78b6f8b90bdbf" kindref="member">difference_type</ref>;</highlight></codeline>
<codeline lineno="42" refid="class_c_data_stream_1a33723921305add93b45973243faf1541" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::reference<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a33723921305add93b45973243faf1541" kindref="member">reference</ref>;</highlight></codeline>
<codeline lineno="43" refid="class_c_data_stream_1ada2ac4b4c962dd5a5dcccbc3f71e83ab" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::const_reference<sp/><sp/><ref refid="class_c_data_stream_1ada2ac4b4c962dd5a5dcccbc3f71e83ab" kindref="member">const_reference</ref>;</highlight></codeline>
<codeline lineno="44" refid="class_c_data_stream_1a5572ddd57b7355f87781b89087dd18e0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::value_type<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a5572ddd57b7355f87781b89087dd18e0" kindref="member">value_type</ref>;</highlight></codeline>
<codeline lineno="45" refid="class_c_data_stream_1abed2013224bdf424e51c78bf483886d3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::iterator<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1abed2013224bdf424e51c78bf483886d3" kindref="member">iterator</ref>;</highlight></codeline>
<codeline lineno="46" refid="class_c_data_stream_1abcfd79b72607505b22f18424e313b4c5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::const_iterator<sp/><sp/><sp/><ref refid="class_c_data_stream_1abcfd79b72607505b22f18424e313b4c5" kindref="member">const_iterator</ref>;</highlight></codeline>
<codeline lineno="47" refid="class_c_data_stream_1a93ca1c317b7080997a20b0cf1920b39c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>vector_type::reverse_iterator<sp/><ref refid="class_c_data_stream_1a93ca1c317b7080997a20b0cf1920b39c" kindref="member">reverse_iterator</ref>;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49" refid="class_c_data_stream_1a38f4d7d2ae59566a0500523a1b1a49d4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a38f4d7d2ae59566a0500523a1b1a49d4" kindref="member">CDataStream</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a95267358054cbfbf37e239f3e6c78471" kindref="member">Init</ref>(nTypeIn,<sp/>nVersionIn);</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="class_c_data_stream_1a00d23d0ef651cb4ea54cb37009bdf8f2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a00d23d0ef651cb4ea54cb37009bdf8f2" kindref="member">CDataStream</ref>(const_iterator<sp/>pbegin,<sp/>const_iterator<sp/>pend,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)<sp/>:<sp/>vch(pbegin,<sp/>pend)</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a95267358054cbfbf37e239f3e6c78471" kindref="member">Init</ref>(nTypeIn,<sp/>nVersionIn);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(_MSC_VER)<sp/>||<sp/>_MSC_VER<sp/>&gt;=<sp/>1300</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="class_c_data_stream_1ab345d2edd7bef6c6c140a46621e49eee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1ab345d2edd7bef6c6c140a46621e49eee" kindref="member">CDataStream</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pbegin,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pend,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)<sp/>:<sp/>vch(pbegin,<sp/>pend)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a95267358054cbfbf37e239f3e6c78471" kindref="member">Init</ref>(nTypeIn,<sp/>nVersionIn);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66" refid="class_c_data_stream_1a38a51fefce23374963516b3af03638fc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a38a51fefce23374963516b3af03638fc" kindref="member">CDataStream</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>vector_type&amp;<sp/>vchIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)<sp/>:<sp/>vch(vchIn.<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/>vchIn.<ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>())</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a95267358054cbfbf37e239f3e6c78471" kindref="member">Init</ref>(nTypeIn,<sp/>nVersionIn);</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71" refid="class_c_data_stream_1a46219676397ae7b3cbc0c676f74ba1e7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a46219676397ae7b3cbc0c676f74ba1e7" kindref="member">CDataStream</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;char&gt;&amp;<sp/>vchIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)<sp/>:<sp/>vch(vchIn.<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/>vchIn.<ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>())</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a95267358054cbfbf37e239f3e6c78471" kindref="member">Init</ref>(nTypeIn,<sp/>nVersionIn);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="class_c_data_stream_1ac63bd3d0ecce0edc2aa66cc80b633b6f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1ac63bd3d0ecce0edc2aa66cc80b633b6f" kindref="member">CDataStream</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;unsigned<sp/>char&gt;&amp;<sp/>vchIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)<sp/>:<sp/>vch((char*)&amp;vchIn.<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>()[0],<sp/>(char*)&amp;vchIn.<ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>()[0])</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a95267358054cbfbf37e239f3e6c78471" kindref="member">Init</ref>(nTypeIn,<sp/>nVersionIn);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81" refid="class_c_data_stream_1a95267358054cbfbf37e239f3e6c78471" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a95267358054cbfbf37e239f3e6c78471" kindref="member">Init</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nType<sp/>=<sp/>nTypeIn;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nVersion<sp/>=<sp/>nVersionIn;</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exceptmask<sp/>=<sp/>std::ios::badbit<sp/>|<sp/>std::ios::failbit;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90" refid="class_c_data_stream_1a59c13d9215c13b3bb4d56a818d280dda" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/><ref refid="class_c_data_stream_1a59c13d9215c13b3bb4d56a818d280dda" kindref="member">operator+=</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/>b)</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vch.<ref refid="class_c_data_stream_1a191a18802fbc0861ae118d79d33088dc" kindref="member">insert</ref>(vch.end(),<sp/>b.<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/>b.<ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>());</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96" refid="class_c_data_stream_1ae9d127e586618900bc753dfda97e9401" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/><ref refid="class_c_data_stream_1ae9d127e586618900bc753dfda97e9401" kindref="member">operator+</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/>a,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/>b)</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref><sp/>ret<sp/>=<sp/>a;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>+=<sp/>b;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(ret);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="class_c_data_stream_1aa3a9ecf166f36f4ea531d2b23628d2c9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="class_c_data_stream_1aa3a9ecf166f36f4ea531d2b23628d2c9" kindref="member">str</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="104"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(std::string(<ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/><ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>()));</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Vector<sp/>subset</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>const_iterator<sp/><ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.begin()<sp/>+<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>;<sp/>}</highlight></codeline>
<codeline lineno="113" refid="class_c_data_stream_1a4b8ed86db3a4563fc327c903b0ccf4ee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>iterator<sp/><ref refid="class_c_data_stream_1a4b8ed86db3a4563fc327c903b0ccf4ee" kindref="member">begin</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.begin()<sp/>+<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>;<sp/>}</highlight></codeline>
<codeline lineno="114" refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>const_iterator<sp/><ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.end();<sp/>}</highlight></codeline>
<codeline lineno="115" refid="class_c_data_stream_1a6a486e8e0da9e769520de62b15bd9315" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>iterator<sp/><ref refid="class_c_data_stream_1a6a486e8e0da9e769520de62b15bd9315" kindref="member">end</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.end();<sp/>}</highlight></codeline>
<codeline lineno="116" refid="class_c_data_stream_1ac6567f6d600d644d9855b52bb59049cd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>size_type<sp/><ref refid="class_c_data_stream_1ac6567f6d600d644d9855b52bb59049cd" kindref="member">size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.size()<sp/>-<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>;<sp/>}</highlight></codeline>
<codeline lineno="117" refid="class_c_data_stream_1a6e50e788d33080ac804e4d8ba7150279" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a6e50e788d33080ac804e4d8ba7150279" kindref="member">empty</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.size()<sp/>==<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>;<sp/>}</highlight></codeline>
<codeline lineno="118" refid="class_c_data_stream_1aa91abddde56127bd3d6ac2a0fb005874" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1aa91abddde56127bd3d6ac2a0fb005874" kindref="member">resize</ref>(size_type<sp/>n,<sp/>value_type<sp/>c=0)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>vch.resize(n<sp/>+<sp/>nReadPos,<sp/>c);<sp/>}</highlight></codeline>
<codeline lineno="119" refid="class_c_data_stream_1a5542e71bd7af2ab7cd7be0f381d39cb5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a5542e71bd7af2ab7cd7be0f381d39cb5" kindref="member">reserve</ref>(size_type<sp/>n)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>vch.reserve(n<sp/>+<sp/>nReadPos);<sp/>}</highlight></codeline>
<codeline lineno="120" refid="class_c_data_stream_1a7a93b7db1ac1aca5c3e3831a794d9134" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>const_reference<sp/><ref refid="class_c_data_stream_1a7a93b7db1ac1aca5c3e3831a794d9134" kindref="member">operator[]</ref>(size_type<sp/>pos)</highlight><highlight class="keyword"><sp/>const<sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch[pos<sp/>+<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>];<sp/>}</highlight></codeline>
<codeline lineno="121" refid="class_c_data_stream_1a91a057dd6e866137a7d526bd253fa8e9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>reference<sp/><ref refid="class_c_data_stream_1a91a057dd6e866137a7d526bd253fa8e9" kindref="member">operator[]</ref>(size_type<sp/>pos)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch[pos<sp/>+<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>];<sp/>}</highlight></codeline>
<codeline lineno="122" refid="class_c_data_stream_1ade6ed9a3a481e333900e6496707b9692" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1ade6ed9a3a481e333900e6496707b9692" kindref="member">clear</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>vch.clear();<sp/>nReadPos<sp/>=<sp/>0;<sp/>}</highlight></codeline>
<codeline lineno="123" refid="class_c_data_stream_1a191a18802fbc0861ae118d79d33088dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>iterator<sp/><ref refid="class_c_data_stream_1a191a18802fbc0861ae118d79d33088dc" kindref="member">insert</ref>(iterator<sp/>it,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">&amp;<sp/>x=</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">())<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.insert(it,<sp/>x);<sp/>}</highlight></codeline>
<codeline lineno="124" refid="class_c_data_stream_1ac8fa6a4a4cd08da5a0c87180834611e5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1ac8fa6a4a4cd08da5a0c87180834611e5" kindref="member">insert</ref>(iterator<sp/>it,<sp/>size_type<sp/>n,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">&amp;<sp/>x)<sp/>{<sp/>vch.insert(it,<sp/>n,<sp/>x);<sp/>}</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126" refid="class_c_data_stream_1aa15a60d7ee6d987de444426f2825f284" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1aa15a60d7ee6d987de444426f2825f284" kindref="member">insert</ref>(iterator<sp/>it,<sp/>std::vector&lt;char&gt;::const_iterator<sp/>first,<sp/>std::vector&lt;char&gt;::const_iterator<sp/>last)</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assert(last<sp/>-<sp/>first<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>==<sp/>vch.begin()<sp/>+<sp/>nReadPos<sp/>&amp;&amp;<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>int)(last<sp/>-<sp/>first)<sp/>&lt;=<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>)</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>special<sp/>case<sp/>for<sp/>inserting<sp/>at<sp/>the<sp/>front<sp/>when<sp/>there&apos;s<sp/>room</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>-=<sp/>(last<sp/>-<sp/>first);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(&amp;vch[nReadPos],<sp/>&amp;first[0],<sp/>last<sp/>-<sp/>first);</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vch.insert(it,<sp/>first,<sp/>last);</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(_MSC_VER)<sp/>||<sp/>_MSC_VER<sp/>&gt;=<sp/>1300</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140" refid="class_c_data_stream_1a9635fda38bc0b7836b4364820a67a18d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a9635fda38bc0b7836b4364820a67a18d" kindref="member">insert</ref>(iterator<sp/>it,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>first,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>last)</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assert(last<sp/>-<sp/>first<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>==<sp/>vch.begin()<sp/>+<sp/>nReadPos<sp/>&amp;&amp;<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>int)(last<sp/>-<sp/>first)<sp/>&lt;=<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>)</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>special<sp/>case<sp/>for<sp/>inserting<sp/>at<sp/>the<sp/>front<sp/>when<sp/>there&apos;s<sp/>room</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>-=<sp/>(last<sp/>-<sp/>first);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(&amp;vch[nReadPos],<sp/>&amp;first[0],<sp/>last<sp/>-<sp/>first);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vch.insert(it,<sp/>first,<sp/>last);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154" refid="class_c_data_stream_1acb2a195db823f11161ea07c4855e0333" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>iterator<sp/><ref refid="class_c_data_stream_1acb2a195db823f11161ea07c4855e0333" kindref="member">erase</ref>(iterator<sp/>it)</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>==<sp/>vch.begin()<sp/>+<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>special<sp/>case<sp/>for<sp/>erasing<sp/>from<sp/>the<sp/>front</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(++nReadPos<sp/>&gt;=<sp/>vch.size())</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>whenever<sp/>we<sp/>reach<sp/>the<sp/>end,<sp/>we<sp/>take<sp/>the<sp/>opportunity<sp/>to<sp/>clear<sp/>the<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.erase(vch.begin(),<sp/>vch.end());</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.begin()<sp/>+<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.erase(it);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171" refid="class_c_data_stream_1a7446b23bcfa37cbfa79ccc66f8aff48a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>iterator<sp/><ref refid="class_c_data_stream_1a7446b23bcfa37cbfa79ccc66f8aff48a" kindref="member">erase</ref>(iterator<sp/>first,<sp/>iterator<sp/>last)</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(first<sp/>==<sp/>vch.begin()<sp/>+<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>)</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>special<sp/>case<sp/>for<sp/>erasing<sp/>from<sp/>the<sp/>front</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(last<sp/>==<sp/>vch.end())</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.erase(vch.begin(),<sp/>vch.end());</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>(last<sp/>-<sp/>vch.begin());</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>last;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>vch.erase(first,<sp/>last);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191" refid="class_c_data_stream_1a84c3fd4cf194f3402dc8adce6ab3ccf9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a84c3fd4cf194f3402dc8adce6ab3ccf9" kindref="member">Compact</ref>()</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vch.erase(vch.begin(),<sp/>vch.begin()<sp/>+<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197" refid="class_c_data_stream_1a7054311b2fe016b21fb853a1e27812d9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a7054311b2fe016b21fb853a1e27812d9" kindref="member">Rewind</ref>(size_type<sp/>n)</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Rewind<sp/>by<sp/>n<sp/>characters<sp/>if<sp/>the<sp/>buffer<sp/>hasn&apos;t<sp/>been<sp/>compacted<sp/>yet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>&gt;<sp/>nReadPos)</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>-=<sp/>n;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Stream<sp/>subset</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210" refid="class_c_data_stream_1a6de6e858ed25edc9d0034669cbe62664" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a6de6e858ed25edc9d0034669cbe62664" kindref="member">setstate</ref>(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>bits,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>psz)</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state<sp/>|=<sp/>bits;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(state<sp/>&amp;<sp/>exceptmask)</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(psz);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217" refid="class_c_data_stream_1abf5a9f3a26a56ef1ea1fb56b674677bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1abf5a9f3a26a56ef1ea1fb56b674677bf" kindref="member">eof</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1ac6567f6d600d644d9855b52bb59049cd" kindref="member">size</ref>()<sp/>==<sp/>0;<sp/>}</highlight></codeline>
<codeline lineno="218" refid="class_c_data_stream_1a6fa8449cdf642ad4b7bbcc9774a0d6f9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a6fa8449cdf642ad4b7bbcc9774a0d6f9" kindref="member">fail</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>state<sp/>&amp;<sp/>(std::ios::badbit<sp/>|<sp/>std::ios::failbit);<sp/>}</highlight></codeline>
<codeline lineno="219" refid="class_c_data_stream_1a372da4ff0d3ace5f7183ab6278f8f753" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a372da4ff0d3ace5f7183ab6278f8f753" kindref="member">good</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>!<ref refid="class_c_data_stream_1abf5a9f3a26a56ef1ea1fb56b674677bf" kindref="member">eof</ref>()<sp/>&amp;&amp;<sp/>(state<sp/>==<sp/>0);<sp/>}</highlight></codeline>
<codeline lineno="220" refid="class_c_data_stream_1a19613f006ab2d8d4fec67cb7c749561e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a19613f006ab2d8d4fec67cb7c749561e" kindref="member">clear</ref>(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>n)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>state<sp/>=<sp/>n;<sp/>}<sp/><sp/></highlight><highlight class="comment">//<sp/>name<sp/>conflict<sp/>with<sp/>vector<sp/>clear()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221" refid="class_c_data_stream_1ac2d650125487986593a0f320d87f3bdf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1ac2d650125487986593a0f320d87f3bdf" kindref="member">exceptions</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a81a6caf76267890a0f602185deb028d4" kindref="member">exceptmask</ref>;<sp/>}</highlight></codeline>
<codeline lineno="222" refid="class_c_data_stream_1ab1eb272d580fcfb5e544a15b6fd53389" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1ab1eb272d580fcfb5e544a15b6fd53389" kindref="member">exceptions</ref>(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>mask)<sp/>{<sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="cache_8cc_1aabbd2f01bb8ec4a7a0128bce5f8cdb1b" kindref="member">prev</ref><sp/>=<sp/><ref refid="class_c_data_stream_1a81a6caf76267890a0f602185deb028d4" kindref="member">exceptmask</ref>;<sp/>exceptmask<sp/>=<sp/>mask;<sp/><ref refid="class_c_data_stream_1a6de6e858ed25edc9d0034669cbe62664" kindref="member">setstate</ref>(0,<sp/></highlight><highlight class="stringliteral">&quot;CDataStream&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cache_8cc_1aabbd2f01bb8ec4a7a0128bce5f8cdb1b" kindref="member">prev</ref>;<sp/>}</highlight></codeline>
<codeline lineno="223" refid="class_c_data_stream_1a45a08b8355d47a95e9dae87ed6487483" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>*<sp/><ref refid="class_c_data_stream_1a45a08b8355d47a95e9dae87ed6487483" kindref="member">rdbuf</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;<sp/>}</highlight></codeline>
<codeline lineno="224" refid="class_c_data_stream_1a0483fe7bccf16aa88bf7272f18a0a7b0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a0483fe7bccf16aa88bf7272f18a0a7b0" kindref="member">in_avail</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1ac6567f6d600d644d9855b52bb59049cd" kindref="member">size</ref>();<sp/>}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226" refid="class_c_data_stream_1a92467b36f5b2edff8becb5eadec633ce" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a92467b36f5b2edff8becb5eadec633ce" kindref="member">SetType</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>nType<sp/>=<sp/>n;<sp/>}</highlight></codeline>
<codeline lineno="227" refid="class_c_data_stream_1a14bc0652cfd49850a032f0a1651456a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a14bc0652cfd49850a032f0a1651456a7" kindref="member">GetType</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a2b646679e24cf6f382fe8ab2d4f50f35" kindref="member">nType</ref>;<sp/>}</highlight></codeline>
<codeline lineno="228" refid="class_c_data_stream_1a267d1315f3f9e9bcf9e7168beaa240c4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a267d1315f3f9e9bcf9e7168beaa240c4" kindref="member">SetVersion</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>nVersion<sp/>=<sp/>n;<sp/>}</highlight></codeline>
<codeline lineno="229" refid="class_c_data_stream_1acb7af65ccac8273fc694a25796814ddc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1acb7af65ccac8273fc694a25796814ddc" kindref="member">GetVersion</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a074998c6b7c8aa17a1a90dbc414b605d" kindref="member">nVersion</ref>;<sp/>}</highlight></codeline>
<codeline lineno="230" refid="class_c_data_stream_1ad8f97bbd83ef3d2eebfd3f9c82f55260" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1ad8f97bbd83ef3d2eebfd3f9c82f55260" kindref="member">ReadVersion</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>&gt;&gt;<sp/><ref refid="class_c_data_stream_1a074998c6b7c8aa17a1a90dbc414b605d" kindref="member">nVersion</ref>;<sp/>}</highlight></codeline>
<codeline lineno="231" refid="class_c_data_stream_1a35d49028155fb47d2bb5c2dbaf31bc8e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a35d49028155fb47d2bb5c2dbaf31bc8e" kindref="member">WriteVersion</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="class_c_data_stream_1a074998c6b7c8aa17a1a90dbc414b605d" kindref="member">nVersion</ref>;<sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233" refid="class_c_data_stream_1af3743932a68e3ee3f1dbd357993a51ae" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/><ref refid="class_c_data_stream_1af3743932a68e3ee3f1dbd357993a51ae" kindref="member">read</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pch,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nSize)</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Read<sp/>from<sp/>the<sp/>beginning<sp/>of<sp/>the<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nReadPosNext<sp/>=<sp/>nReadPos<sp/>+<sp/>nSize;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nReadPosNext<sp/>&gt;=<sp/>vch.size())</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nReadPosNext<sp/>&gt;<sp/>vch.size())</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a6de6e858ed25edc9d0034669cbe62664" kindref="member">setstate</ref>(std::ios::failbit,<sp/></highlight><highlight class="stringliteral">&quot;CDataStream::read()<sp/>:<sp/>end<sp/>of<sp/>data&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(pch,<sp/>0,<sp/>nSize);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nSize<sp/>=<sp/>vch.size()<sp/>-<sp/><ref refid="class_c_data_stream_1af1c6a23b6725406d8f3464036a595556" kindref="member">nReadPos</ref>;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pch,<sp/>&amp;vch[nReadPos],<sp/>nSize);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vch.clear();</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pch,<sp/>&amp;vch[nReadPos],<sp/>nSize);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>nReadPosNext;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255" refid="class_c_data_stream_1aebfcaa009d328a208dbbcd13db846dd6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/><ref refid="class_c_data_stream_1aebfcaa009d328a208dbbcd13db846dd6" kindref="member">ignore</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nSize)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ignore<sp/>from<sp/>the<sp/>beginning<sp/>of<sp/>the<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assert(nSize<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nReadPosNext<sp/>=<sp/>nReadPos<sp/>+<sp/>nSize;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nReadPosNext<sp/>&gt;=<sp/>vch.size())</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nReadPosNext<sp/>&gt;<sp/>vch.size())</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a6de6e858ed25edc9d0034669cbe62664" kindref="member">setstate</ref>(std::ios::failbit,<sp/></highlight><highlight class="stringliteral">&quot;CDataStream::ignore()<sp/>:<sp/>end<sp/>of<sp/>data&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vch.clear();</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>nReadPosNext;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272" refid="class_c_data_stream_1abcab3fa1be7676ffdb34908ec7c84b78" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/><ref refid="class_c_data_stream_1abcab3fa1be7676ffdb34908ec7c84b78" kindref="member">write</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pch,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nSize)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>to<sp/>the<sp/>end<sp/>of<sp/>the<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vch.<ref refid="class_c_data_stream_1a191a18802fbc0861ae118d79d33088dc" kindref="member">insert</ref>(vch.end(),<sp/>pch,<sp/>pch<sp/>+<sp/>nSize);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Stream&gt;</highlight></codeline>
<codeline lineno="280" refid="class_c_data_stream_1a3ecece05df6fb20d5f7b93e59acb8ff3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a3ecece05df6fb20d5f7b93e59acb8ff3" kindref="member">Serialize</ref>(Stream&amp;<sp/>s,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nType,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersion)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="281"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Special<sp/>case:<sp/>stream<sp/>&lt;&lt;<sp/>stream<sp/>concatenates<sp/>like<sp/>stream<sp/>+=<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!vch.empty())</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.write((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)&amp;vch[0],<sp/>vch.size()<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(vch[0]));</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="288" refid="class_c_data_stream_1aaf2b9e953793ce5a4fc438a7ecb00dc2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1aaf2b9e953793ce5a4fc438a7ecb00dc2" kindref="member">GetSerializeSize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Tells<sp/>the<sp/>size<sp/>of<sp/>the<sp/>object<sp/>if<sp/>serialized<sp/>to<sp/>this<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="serialize_8h_1a48239e478ae730373d1984fe304ca025" kindref="member">return ::GetSerializeSize</ref>(obj,<sp/>nType,<sp/>nVersion);</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="295" refid="class_c_data_stream_1af47c6d4051064a226f529ee4d7c13ad7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/><ref refid="class_c_data_stream_1af47c6d4051064a226f529ee4d7c13ad7" kindref="member">operator&lt;&lt;</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Serialize<sp/>to<sp/>this<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1a3ecece05df6fb20d5f7b93e59acb8ff3" kindref="member">::Serialize</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>obj,<sp/>nType,<sp/>nVersion);</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="303" refid="class_c_data_stream_1ac80cfc65569416f8c23e328edb4cadae" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream" kindref="compound">CDataStream</ref>&amp;<sp/><ref refid="class_c_data_stream_1ac80cfc65569416f8c23e328edb4cadae" kindref="member">operator&gt;&gt;</ref>(T&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Unserialize<sp/>from<sp/>this<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="serialize_8h_1a6535b70fa93811f2b1df307a424eb317" kindref="member">::Unserialize</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>obj,<sp/>nType,<sp/>nVersion);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310" refid="class_c_data_stream_1a4be60514b69c71a722e16bf1fbbc3c6c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_data_stream_1a4be60514b69c71a722e16bf1fbbc3c6c" kindref="member">GetAndClear</ref>(<ref refid="serialize_8h_1a77935f92ff5ba1d71d692166f6ce0c1b" kindref="member">CSerializeData</ref><sp/>&amp;data)<sp/>{</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.insert(data.end(),<sp/><ref refid="class_c_data_stream_1a5b9e70188c662f4e9496066472af213e" kindref="member">begin</ref>(),<sp/><ref refid="class_c_data_stream_1a1c22182691412ed9e0a30b719d388f31" kindref="member">end</ref>());</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_data_stream_1ade6ed9a3a481e333900e6496707b9692" kindref="member">clear</ref>();</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal">};</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="320" refid="class_c_auto_file" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_auto_file" kindref="compound">CAutoFile</ref><sp/></highlight><highlight class="comment">//TODO(Amir):<sp/>implement<sp/>new<sp/>CAutoFile<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal">{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="323" refid="class_c_auto_file_1a04ae666616ebc5d873c636fe6d2998ff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE*<sp/><ref refid="class_c_auto_file_1a04ae666616ebc5d873c636fe6d2998ff" kindref="member">file</ref>;</highlight></codeline>
<codeline lineno="324" refid="class_c_auto_file_1aa345c8c05e4b305762c35fffd4fe2f26" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1aa345c8c05e4b305762c35fffd4fe2f26" kindref="member">state</ref>;</highlight></codeline>
<codeline lineno="325" refid="class_c_auto_file_1a09729c28c239d6b157adee2c3853fa23" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a09729c28c239d6b157adee2c3853fa23" kindref="member">exceptmask</ref>;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="327" refid="class_c_auto_file_1a39ca705ff45e36a05acd5df3c4114aef" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a39ca705ff45e36a05acd5df3c4114aef" kindref="member">nType</ref>;</highlight></codeline>
<codeline lineno="328" refid="class_c_auto_file_1a23fb456ee23003aebc3c58ab3fd683c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a23fb456ee23003aebc3c58ab3fd683c1" kindref="member">nVersion</ref>;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330" refid="class_c_auto_file_1a52613083aaeab4c9238c649ae471783f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file_1a52613083aaeab4c9238c649ae471783f" kindref="member">CAutoFile</ref>(FILE*<sp/>filenew,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file<sp/>=<sp/>filenew;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nType<sp/>=<sp/>nTypeIn;</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nVersion<sp/>=<sp/>nVersionIn;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exceptmask<sp/>=<sp/>std::ios::badbit<sp/>|<sp/>std::ios::failbit;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339" refid="class_c_auto_file_1ab1362f4cb52c819c25cff4598e0f28da" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file_1ab1362f4cb52c819c25cff4598e0f28da" kindref="member">~CAutoFile</ref>()</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file_1abcbafe943bfe392c09363078fa8a4e77" kindref="member">fclose</ref>();</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344" refid="class_c_auto_file_1a78d666b1ef5dff5fd3f4ee33692b6d1d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a78d666b1ef5dff5fd3f4ee33692b6d1d" kindref="member">IsNull</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(file<sp/>==<sp/>NULL);<sp/>}</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346" refid="class_c_auto_file_1abcbafe943bfe392c09363078fa8a4e77" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1abcbafe943bfe392c09363078fa8a4e77" kindref="member">fclose</ref>()</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file<sp/>!=<sp/>NULL<sp/>&amp;&amp;<sp/>file<sp/>!=<sp/>stdin<sp/>&amp;&amp;<sp/>file<sp/>!=<sp/>stdout<sp/>&amp;&amp;<sp/>file<sp/>!=<sp/>stderr)</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file_1abcbafe943bfe392c09363078fa8a4e77" kindref="member">::fclose</ref>(file);</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353" refid="class_c_auto_file_1a25b51d94dc85c4140da0b15494ac9f8a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE*<sp/><ref refid="class_c_auto_file_1a25b51d94dc85c4140da0b15494ac9f8a" kindref="member">release</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>FILE*<sp/>ret<sp/>=<sp/><ref refid="class_c_auto_file_1a04ae666616ebc5d873c636fe6d2998ff" kindref="member">file</ref>;<sp/>file<sp/>=<sp/>NULL;<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;<sp/>}</highlight></codeline>
<codeline lineno="354" refid="class_c_auto_file_1a903d7058c4cd92d3c13b0d62dfaee3f4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">operator</highlight><highlight class="normal"><sp/>FILE*()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a04ae666616ebc5d873c636fe6d2998ff" kindref="member">file</ref>;<sp/>}</highlight></codeline>
<codeline lineno="355" refid="class_c_auto_file_1aef9213ad71294fc518e092771bf6ec46" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE*<sp/><ref refid="class_c_auto_file_1aef9213ad71294fc518e092771bf6ec46" kindref="member">operator-&gt;</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a04ae666616ebc5d873c636fe6d2998ff" kindref="member">file</ref>;<sp/>}</highlight></codeline>
<codeline lineno="356" refid="class_c_auto_file_1ad3baf76beb55cf98aa275bb9548840fc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE&amp;<sp/><ref refid="class_c_auto_file_1ad3baf76beb55cf98aa275bb9548840fc" kindref="member">operator*</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*<ref refid="class_c_auto_file_1a04ae666616ebc5d873c636fe6d2998ff" kindref="member">file</ref>;<sp/>}</highlight></codeline>
<codeline lineno="357" refid="class_c_auto_file_1ac4d6f33720cc4755c9f9d98e4876cf03" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE**<sp/><ref refid="class_c_auto_file_1ac4d6f33720cc4755c9f9d98e4876cf03" kindref="member">operator&amp;</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;<ref refid="class_c_auto_file_1a04ae666616ebc5d873c636fe6d2998ff" kindref="member">file</ref>;<sp/>}</highlight></codeline>
<codeline lineno="358" refid="class_c_auto_file_1a1ceb9211a21bea5885204b8e05d2e422" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE*<sp/><ref refid="class_c_auto_file_1a1ceb9211a21bea5885204b8e05d2e422" kindref="member">operator=</ref>(FILE*<sp/>pnew)<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>file<sp/>=<sp/>pnew;<sp/>}</highlight></codeline>
<codeline lineno="359" refid="class_c_auto_file_1a39e0a0cc31794200679b5db04c400ef9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a39e0a0cc31794200679b5db04c400ef9" kindref="member">operator!</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(file<sp/>==<sp/>NULL);<sp/>}</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Stream<sp/>subset</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365" refid="class_c_auto_file_1ad8f48031644ff88adb275e6dd146e9f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1ad8f48031644ff88adb275e6dd146e9f5" kindref="member">setstate</ref>(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>bits,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>psz)</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>state<sp/>|=<sp/>bits;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(state<sp/>&amp;<sp/>exceptmask)</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(psz);</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="372" refid="class_c_auto_file_1adfbf62852f7e892fe48c83f58d685c85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1adfbf62852f7e892fe48c83f58d685c85" kindref="member">fail</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>state<sp/>&amp;<sp/>(std::ios::badbit<sp/>|<sp/>std::ios::failbit);<sp/>}</highlight></codeline>
<codeline lineno="373" refid="class_c_auto_file_1afec38aaa4cc8a86766b7be4bcd0e1c4d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1afec38aaa4cc8a86766b7be4bcd0e1c4d" kindref="member">good</ref>()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>state<sp/>==<sp/>0;<sp/>}</highlight></codeline>
<codeline lineno="374" refid="class_c_auto_file_1a92c81934cb6483f2686768f322ab90bd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a92c81934cb6483f2686768f322ab90bd" kindref="member">clear</ref>(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>0)<sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>state<sp/>=<sp/>n;<sp/>}</highlight></codeline>
<codeline lineno="375" refid="class_c_auto_file_1aaeaaa4713ba8c65f6c41710bdb8335a1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1aaeaaa4713ba8c65f6c41710bdb8335a1" kindref="member">exceptions</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a09729c28c239d6b157adee2c3853fa23" kindref="member">exceptmask</ref>;<sp/>}</highlight></codeline>
<codeline lineno="376" refid="class_c_auto_file_1a8ad72afbdc75f714ce53bd4b0702675e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a8ad72afbdc75f714ce53bd4b0702675e" kindref="member">exceptions</ref>(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>mask)<sp/>{<sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/><ref refid="cache_8cc_1aabbd2f01bb8ec4a7a0128bce5f8cdb1b" kindref="member">prev</ref><sp/>=<sp/><ref refid="class_c_auto_file_1a09729c28c239d6b157adee2c3853fa23" kindref="member">exceptmask</ref>;<sp/>exceptmask<sp/>=<sp/>mask;<sp/><ref refid="class_c_auto_file_1ad8f48031644ff88adb275e6dd146e9f5" kindref="member">setstate</ref>(0,<sp/></highlight><highlight class="stringliteral">&quot;CAutoFile&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cache_8cc_1aabbd2f01bb8ec4a7a0128bce5f8cdb1b" kindref="member">prev</ref>;<sp/>}</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378" refid="class_c_auto_file_1ac1a3986f191fe81384f58fc5fa073820" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1ac1a3986f191fe81384f58fc5fa073820" kindref="member">SetType</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>nType<sp/>=<sp/>n;<sp/>}</highlight></codeline>
<codeline lineno="379" refid="class_c_auto_file_1a774f2aad2c462d4ff47125ceec2ebab0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a774f2aad2c462d4ff47125ceec2ebab0" kindref="member">GetType</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a39ca705ff45e36a05acd5df3c4114aef" kindref="member">nType</ref>;<sp/>}</highlight></codeline>
<codeline lineno="380" refid="class_c_auto_file_1a51f805bc470a95c9948250503b587aec" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a51f805bc470a95c9948250503b587aec" kindref="member">SetVersion</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>nVersion<sp/>=<sp/>n;<sp/>}</highlight></codeline>
<codeline lineno="381" refid="class_c_auto_file_1a976ab8e5477aedd3a531fc49b01153ce" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a976ab8e5477aedd3a531fc49b01153ce" kindref="member">GetVersion</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a23fb456ee23003aebc3c58ab3fd683c1" kindref="member">nVersion</ref>;<sp/>}</highlight></codeline>
<codeline lineno="382" refid="class_c_auto_file_1a9511060b5c971cff532faeab60c7d88b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a9511060b5c971cff532faeab60c7d88b" kindref="member">ReadVersion</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>&gt;&gt;<sp/><ref refid="class_c_auto_file_1a23fb456ee23003aebc3c58ab3fd683c1" kindref="member">nVersion</ref>;<sp/>}</highlight></codeline>
<codeline lineno="383" refid="class_c_auto_file_1a23d6f22c3aff80be7665bfc5a77a01ff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a23d6f22c3aff80be7665bfc5a77a01ff" kindref="member">WriteVersion</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/><ref refid="class_c_auto_file_1a23fb456ee23003aebc3c58ab3fd683c1" kindref="member">nVersion</ref>;<sp/>}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385" refid="class_c_auto_file_1a87e670f3dd03055264c05b25335babb4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file" kindref="compound">CAutoFile</ref>&amp;<sp/><ref refid="class_c_auto_file_1a87e670f3dd03055264c05b25335babb4" kindref="member">read</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pch,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nSize)</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!file)</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(</highlight><highlight class="stringliteral">&quot;CAutoFile::read<sp/>:<sp/>file<sp/>handle<sp/>is<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fread(pch,<sp/>1,<sp/>nSize,<sp/>file)<sp/>!=<sp/>nSize)</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file_1ad8f48031644ff88adb275e6dd146e9f5" kindref="member">setstate</ref>(std::ios::failbit,<sp/>feof(file)<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;CAutoFile::read<sp/>:<sp/>end<sp/>of<sp/>file&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;CAutoFile::read<sp/>:<sp/>fread<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394" refid="class_c_auto_file_1a7b2852b345b75835f883be3732cf826a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file" kindref="compound">CAutoFile</ref>&amp;<sp/><ref refid="class_c_auto_file_1a7b2852b345b75835f883be3732cf826a" kindref="member">write</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pch,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nSize)</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!file)</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(</highlight><highlight class="stringliteral">&quot;CAutoFile::write<sp/>:<sp/>file<sp/>handle<sp/>is<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fwrite(pch,<sp/>1,<sp/>nSize,<sp/>file)<sp/>!=<sp/>nSize)</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file_1ad8f48031644ff88adb275e6dd146e9f5" kindref="member">setstate</ref>(std::ios::failbit,<sp/></highlight><highlight class="stringliteral">&quot;CAutoFile::write<sp/>:<sp/>write<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="404" refid="class_c_auto_file_1a883a261f0d7d0320f72152ff2167fd24" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_c_auto_file_1a883a261f0d7d0320f72152ff2167fd24" kindref="member">GetSerializeSize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Tells<sp/>the<sp/>size<sp/>of<sp/>the<sp/>object<sp/>if<sp/>serialized<sp/>to<sp/>this<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="serialize_8h_1a48239e478ae730373d1984fe304ca025" kindref="member">return ::GetSerializeSize</ref>(obj,<sp/>nType,<sp/>nVersion);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="411" refid="class_c_auto_file_1a8e194596d1f8f64059247724b25df82c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file" kindref="compound">CAutoFile</ref>&amp;<sp/><ref refid="class_c_auto_file_1a8e194596d1f8f64059247724b25df82c" kindref="member">operator&lt;&lt;</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Serialize<sp/>to<sp/>this<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!file)</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(</highlight><highlight class="stringliteral">&quot;CAutoFile::operator&lt;&lt;<sp/>:<sp/>file<sp/>handle<sp/>is<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="serialize_8h_1a57a07500f5e1eb9589dc8d57bbd73a18" kindref="member">::Serialize</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>obj,<sp/>nType,<sp/>nVersion);</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="421" refid="class_c_auto_file_1ae6826219322626d2ac8229e022c41dd7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_auto_file" kindref="compound">CAutoFile</ref>&amp;<sp/><ref refid="class_c_auto_file_1ae6826219322626d2ac8229e022c41dd7" kindref="member">operator&gt;&gt;</ref>(T&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Unserialize<sp/>from<sp/>this<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!file)</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(</highlight><highlight class="stringliteral">&quot;CAutoFile::operator&gt;&gt;<sp/>:<sp/>file<sp/>handle<sp/>is<sp/>NULL&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="serialize_8h_1a6535b70fa93811f2b1df307a424eb317" kindref="member">::Unserialize</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>obj,<sp/>nType,<sp/>nVersion);</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="429"><highlight class="normal">};</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431" refid="class_c_buffered_file" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_c_buffered_file" kindref="compound">CBufferedFile</ref></highlight></codeline>
<codeline lineno="432"><highlight class="normal">{</highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Disallow<sp/>copies</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file" kindref="compound">CBufferedFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file" kindref="compound">CBufferedFile</ref>&amp;);</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file" kindref="compound">CBufferedFile</ref>&amp;<sp/>operator=(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file" kindref="compound">CBufferedFile</ref>&amp;);</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nType;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersion;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE<sp/>*src;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>source<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nSrcPos;<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>how<sp/>many<sp/>bytes<sp/>have<sp/>been<sp/>read<sp/>from<sp/>source</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nReadPos;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>how<sp/>many<sp/>bytes<sp/>have<sp/>been<sp/>read<sp/>from<sp/>this</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nReadLimit;<sp/><sp/></highlight><highlight class="comment">//<sp/>up<sp/>to<sp/>which<sp/>position<sp/>we&apos;re<sp/>allowed<sp/>to<sp/>read</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nRewind;<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>how<sp/>many<sp/>bytes<sp/>we<sp/>guarantee<sp/>to<sp/>rewind</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;char&gt;<sp/>vchBuf;<sp/></highlight><highlight class="comment">//<sp/>the<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>read<sp/>data<sp/>from<sp/>the<sp/>source<sp/>to<sp/>fill<sp/>the<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="450" refid="class_c_buffered_file_1a2c93fc60c4460bd1ccf90922646b19b8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file_1a2c93fc60c4460bd1ccf90922646b19b8" kindref="member">Fill</ref>()<sp/>{</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pos<sp/>=<sp/>nSrcPos<sp/>%<sp/>vchBuf.size();</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>readNow<sp/>=<sp/>vchBuf.size()<sp/>-<sp/>pos;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nAvail<sp/>=<sp/>vchBuf.size()<sp/>-<sp/>(nSrcPos<sp/>-<sp/>nReadPos)<sp/>-<sp/>nRewind;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nAvail<sp/>&lt;<sp/>readNow)</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>readNow<sp/>=<sp/>nAvail;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(readNow<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file_1a20c6d2a4dbc69a8e5c7ba766d04b3d85" kindref="member">read</ref><sp/>=<sp/>fread((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;vchBuf[pos],<sp/>1,<sp/>readNow,<sp/>src);</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(read<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(feof(src)<sp/>?<sp/></highlight><highlight class="stringliteral">&quot;CBufferedFile::Fill<sp/>:<sp/>end<sp/>of<sp/>file&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;CBufferedFile::Fill<sp/>:<sp/>fread<sp/>failed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nSrcPos<sp/>+=<sp/><ref refid="class_c_buffered_file_1a20c6d2a4dbc69a8e5c7ba766d04b3d85" kindref="member">read</ref>;</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="468" refid="class_c_buffered_file_1a30ad96a8d09bed60355d1fadda7dabdc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file_1a30ad96a8d09bed60355d1fadda7dabdc" kindref="member">CBufferedFile</ref>(FILE<sp/>*fileIn,<sp/><ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nBufSize,<sp/><ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nRewindIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nTypeIn,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nVersionIn)<sp/>:</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nSrcPos(0),<sp/>nReadPos(0),<sp/>nReadLimit((<ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref>)(-1)),<sp/>nRewind(nRewindIn),<sp/>vchBuf(nBufSize,<sp/>0)</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src<sp/>=<sp/>fileIn;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nType<sp/>=<sp/>nTypeIn;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nVersion<sp/>=<sp/>nVersionIn;</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476" refid="class_c_buffered_file_1a8804f689b27d3298cd5d63fbcddb97d1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file_1a8804f689b27d3298cd5d63fbcddb97d1" kindref="member">~CBufferedFile</ref>()</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file_1aef8c993fe3eb0fa423d09d095f40dcf6" kindref="member">fclose</ref>();</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481" refid="class_c_buffered_file_1aef8c993fe3eb0fa423d09d095f40dcf6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file_1aef8c993fe3eb0fa423d09d095f40dcf6" kindref="member">fclose</ref>()</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(src)<sp/>{</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file_1aef8c993fe3eb0fa423d09d095f40dcf6" kindref="member">::fclose</ref>(src);</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>src<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>whether<sp/>we&apos;re<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the<sp/>source<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="490" refid="class_c_buffered_file_1abc0a2462d47ae5ba23c258291509dd6d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file_1abc0a2462d47ae5ba23c258291509dd6d" kindref="member">eof</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nReadPos<sp/>==<sp/>nSrcPos<sp/>&amp;&amp;<sp/>feof(src);</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>read<sp/>a<sp/>number<sp/>of<sp/>bytes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495" refid="class_c_buffered_file_1a20c6d2a4dbc69a8e5c7ba766d04b3d85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file" kindref="compound">CBufferedFile</ref>&amp;<sp/><ref refid="class_c_buffered_file_1a20c6d2a4dbc69a8e5c7ba766d04b3d85" kindref="member">read</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pch,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nSize)<sp/>{</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nSize<sp/>+<sp/>nReadPos<sp/>&gt;<sp/>nReadLimit)</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(</highlight><highlight class="stringliteral">&quot;Read<sp/>attempted<sp/>past<sp/>buffer<sp/>limit&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nSize<sp/>+<sp/>nRewind<sp/>&gt;<sp/>vchBuf.size())</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::ios_base::failure(</highlight><highlight class="stringliteral">&quot;Read<sp/>larger<sp/>than<sp/>buffer<sp/>size&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(nSize<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nReadPos<sp/>==<sp/>nSrcPos)</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file_1a2c93fc60c4460bd1ccf90922646b19b8" kindref="member">Fill</ref>();</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pos<sp/>=<sp/>nReadPos<sp/>%<sp/>vchBuf.size();</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nNow<sp/>=<sp/>nSize;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nNow<sp/>+<sp/>pos<sp/>&gt;<sp/>vchBuf.size())</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nNow<sp/>=<sp/>vchBuf.size()<sp/>-<sp/>pos;</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nNow<sp/>+<sp/>nReadPos<sp/>&gt;<sp/>nSrcPos)</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nNow<sp/>=<sp/>nSrcPos<sp/>-<sp/>nReadPos;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pch,<sp/>&amp;vchBuf[pos],<sp/>nNow);</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>+=<sp/>nNow;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pch<sp/>+=<sp/>nNow;</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nSize<sp/>-=<sp/>nNow;</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>return<sp/>the<sp/>current<sp/>reading<sp/>position</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518" refid="class_c_buffered_file_1af9e7226e682ede9c1c141fb2972afd7b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/><ref refid="class_c_buffered_file_1af9e7226e682ede9c1c141fb2972afd7b" kindref="member">GetPos</ref>()<sp/>{</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nReadPos;</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>rewind<sp/>to<sp/>a<sp/>given<sp/>reading<sp/>position</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="523" refid="class_c_buffered_file_1aac4029a9aade127cc8a1fbbcc1549599" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file_1aac4029a9aade127cc8a1fbbcc1549599" kindref="member">SetPos</ref>(<ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nPos)<sp/>{</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>nPos;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nReadPos<sp/>+<sp/>nRewind<sp/>&lt;<sp/>nSrcPos)<sp/>{</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>nSrcPos<sp/>-<sp/>nRewind;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nReadPos<sp/>&gt;<sp/>nSrcPos)<sp/>{</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>nSrcPos;</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight></codeline>
<codeline lineno="536" refid="class_c_buffered_file_1afbf9abcc70f24824661aec96a4310a63" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file_1afbf9abcc70f24824661aec96a4310a63" kindref="member">Seek</ref>(<ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nPos)<sp/>{</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>nLongPos<sp/>=<sp/>nPos;</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nPos<sp/>!=<sp/>(<ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref>)nLongPos)</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fseek(src,<sp/>nLongPos,<sp/>SEEK_SET))</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nLongPos<sp/>=<sp/>ftell(src);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nSrcPos<sp/>=<sp/>nLongPos;</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos<sp/>=<sp/>nLongPos;</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>prevent<sp/>reading<sp/>beyond<sp/>a<sp/>certain<sp/>position</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>no<sp/>argument<sp/>removes<sp/>the<sp/>limit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="550" refid="class_c_buffered_file_1adfcf370a41be0454e0f6b3dc358e415c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file_1adfcf370a41be0454e0f6b3dc358e415c" kindref="member">SetLimit</ref>(<ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref><sp/>nPos<sp/>=<sp/>(<ref refid="stdint_8h_1aaa5d1cd013383c889537491c3cfd9aad" kindref="member">uint64_t</ref>)(-1))<sp/>{</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nPos<sp/>&lt;<sp/>nReadPos)</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadLimit<sp/>=<sp/>nPos;</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="556"><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="558" refid="class_c_buffered_file_1ab570d5f1a173a41100e7b42b4aacbbc5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file" kindref="compound">CBufferedFile</ref>&amp;<sp/><ref refid="class_c_buffered_file_1ab570d5f1a173a41100e7b42b4aacbbc5" kindref="member">operator&gt;&gt;</ref>(T&amp;<sp/>obj)<sp/>{</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Unserialize<sp/>from<sp/>this<sp/>stream</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="serialize_8h_1a6535b70fa93811f2b1df307a424eb317" kindref="member">::Unserialize</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>obj,<sp/>nType,<sp/>nVersion);</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>search<sp/>for<sp/>a<sp/>given<sp/>byte<sp/>in<sp/>the<sp/>stream,<sp/>and<sp/>remain<sp/>positioned<sp/>on<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="565" refid="class_c_buffered_file_1a15ce0683ba5925939d33f098a948236b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_c_buffered_file_1a15ce0683ba5925939d33f098a948236b" kindref="member">FindByte</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>ch)<sp/>{</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nReadPos<sp/>==<sp/>nSrcPos)</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_c_buffered_file_1a2c93fc60c4460bd1ccf90922646b19b8" kindref="member">Fill</ref>();</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(vchBuf[nReadPos<sp/>%<sp/>vchBuf.size()]<sp/>==<sp/>ch)</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nReadPos++;</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="574"><highlight class="normal">};</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//<sp/>DARKSILK_STREAMS_H</highlight></codeline>
    </programlisting>
    <location file="/home/dev/ds-160209/src/streams.h"/>
  </compounddef>
</doxygen>
